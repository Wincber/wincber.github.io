<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[ç¼–å†™ä¸€ä¸ªæ¼«ç”»ç½‘ç«™çš„çˆ¬è™«]]></title>
      <url>http://wincber.com/2018/01/06/%E7%BC%96%E5%86%99%E4%B8%80%E4%B8%AA%E6%BC%AB%E7%94%BB%E7%BD%91%E7%AB%99%E7%9A%84%E7%88%AC%E8%99%AB/</url>
      <content type="html"><![CDATA[<h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><p>æœ€è¿‘åœ¨å­¦ä¹ pythonï¼Œæ‰€ä»¥å†™å†™çˆ¬è™«ç»ƒæ‰‹ï¼Œçœ‹è¿‡ä¸€äº›å…¥é—¨æ•™ç¨‹åï¼Œå†³å®šç”¨æˆ‘å–œæ¬¢çš„ä¸€ä¸ªæ¼«ç”»ç½‘ç«™(www.manhuagui.com)åšç»ƒæ‰‹ï¼Œä½†æ˜¯å¾ˆè ¢çš„ç»Šåœ¨ä¸€äº›é—®é¢˜ä¸Šã€‚<br>æ¯”å¦‚æˆ‘æƒ³çˆ¬å–ä¸œäº¬é£Ÿå°¸é¬¼è¿™éƒ¨æ¼«ç”»ï¼ˆ<a href="http://www.manhuagui.com/comic/16058/ï¼‰" target="_blank" rel="noopener">http://www.manhuagui.com/comic/16058/ï¼‰</a><br><img src="http://oczm2hjoz.bkt.clouddn.com/blog/pachong/%E6%BC%AB%E7%94%BB%E9%A6%96%E9%A1%B5.png" alt="ä¸œäº¬é£Ÿå°¸é¬¼æ¼«ç”»é¦–é¡µ"><br>è€Œæˆ‘çŠ¯çš„é”™è¯¯æ˜¯ç›´æ¥è¿›å…¥æ¼«ç”»çš„ç¬¬ä¸€å›ï¼ˆ<a href="http://www.manhuagui.com/comic/16058/149580.htmlï¼‰ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥åˆ°ç¬¬ä¸€å›çš„ç¬¬ä¸€å¼ æŸ¥çœ‹å…ƒç´ ï¼Œä¾¿æ‰¾åˆ°äº†æ¼«ç”»ç¬¬ä¸€å›ç¬¬ä¸€å¼ å›¾ç‰‡çš„å…ƒç´ ï¼Œå¯ä»¥é€šè¿‡BeautifulSoupæˆ–è€…å…¶ä»–htmlè§£æå‡ºè¿™ä¸ªå…ƒç´ å¯¹åº”çš„urlå¹¶æŠ“å–å›¾ç‰‡ä¸‹æ¥ã€‚" target="_blank" rel="noopener">http://www.manhuagui.com/comic/16058/149580.htmlï¼‰ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥åˆ°ç¬¬ä¸€å›çš„ç¬¬ä¸€å¼ æŸ¥çœ‹å…ƒç´ ï¼Œä¾¿æ‰¾åˆ°äº†æ¼«ç”»ç¬¬ä¸€å›ç¬¬ä¸€å¼ å›¾ç‰‡çš„å…ƒç´ ï¼Œå¯ä»¥é€šè¿‡BeautifulSoupæˆ–è€…å…¶ä»–htmlè§£æå‡ºè¿™ä¸ªå…ƒç´ å¯¹åº”çš„urlå¹¶æŠ“å–å›¾ç‰‡ä¸‹æ¥ã€‚</a><br><img src="http://oczm2hjoz.bkt.clouddn.com/blog/pachong/%E5%9B%BE%E7%89%87url.png" alt="å›¾ç‰‡url"><br>æ¥ç€çœ‹ä¸‹ä¸€é¡µï¼Œohï¼Œç½‘é¡µçš„ç½‘å€è‡ªåŠ¨å˜æˆäº†<a href="http://www.manhuagui.com/comic/16058/149580.html#p=2,ä»¥æ­¤ç±»æ¨ï¼Œç›´è‡³42é¡µè‡ªç„¶å°±æ˜¯p=42" target="_blank" rel="noopener">http://www.manhuagui.com/comic/16058/149580.html#p=2,ä»¥æ­¤ç±»æ¨ï¼Œç›´è‡³42é¡µè‡ªç„¶å°±æ˜¯p=42</a><br><img src="http://oczm2hjoz.bkt.clouddn.com/blog/pachong/%E7%AC%AC%E4%B8%80%E5%9B%9E.png" alt="ç¬¬ä¸€å›"><br>åˆ°è¿™é‡Œéƒ½æ²¡é—®é¢˜ï¼Œä¾¿å¯ä»¥æŠŠç¬¬ä¸€å›çš„æ‰€æœ‰å›¾ç‰‡éƒ½æŠ“å–ä¸‹æ¥ï¼Œä½†æ˜¯æ‰“å¼€ä¸‹ä¸€ç« ï¼Œä¼šå‘ç°ç¬¬äºŒç« ç½‘å€å˜æˆäº†<a href="http://www.manhuagui.com/comic/16058/150981.html" target="_blank" rel="noopener">http://www.manhuagui.com/comic/16058/150981.html</a> ,16058è‡ªç„¶æ˜¯è¿™éƒ¨æ¼«ç”»çš„IDï¼Œé‚£150981æ˜¯å’Œ149580è‡ªç„¶æ˜¯ç¬¬ä¸€å›å’Œç¬¬äºŒå›çš„IDï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªæ•°å­—ç›¸å·®æœ‰ç‚¹å¤§å•Šï¼Œé€šè¿‡çœ‹å…¶ä»–ç« èŠ‚ï¼Œå‘ç°æ¯ä¸ªç« èŠ‚çš„IDéƒ½ä¸å°½ç›¸åŒä¸”è²Œä¼¼æ²¡ä»€ä¹ˆè§„å¾‹ã€‚</p>
<h2 id="é™·å…¥é—®é¢˜"><a href="#é™·å…¥é—®é¢˜" class="headerlink" title="é™·å…¥é—®é¢˜"></a>é™·å…¥é—®é¢˜</h2><p>å› ä¸ºæ˜¯ç‚¹ä¸‹ä¸€ç« è¿›å…¥ä¸‹ä¸€ç« çš„ç½‘é¡µï¼Œæ‰€ä»¥ä¸‹ä¸€ç« çš„IDè‚¯å®šåœ¨å½“å‰æ˜¯å°±æœ‰çš„ï¼Œé€šè¿‡å¼€å‘è€…æ¨¡å¼è°ƒè¯•jsï¼Œå‘ç°nextIdå°±æ˜¯ä¸‹ä¸€ç« çš„idï¼Œéƒ½å­˜å‚¨åœ¨äº†cInfoè¿™ä¸ªå˜é‡é‡Œ<br><img src="http://oczm2hjoz.bkt.clouddn.com/blog/pachong/cInfo%E5%AF%B9%E8%B1%A1.png" alt="cInfo"><br>äºæ˜¯æˆ‘å°±åœ¨æƒ³æ€ä¹ˆå›å»åˆ°è¿™ä¸ªå˜é‡å€¼æˆ–è€…è¿™ä¸ªå˜é‡æ˜¯æ€ä¹ˆè·å–åˆ°è¿™äº›æ•°æ®çš„ï¼Œä½†æ˜¯ç”±äºå‰ç«¯çŸ¥è¯†æµ…è–„ï¼Œæˆ‘å»è¯·æ•™æœ‹å‹ï¼Œä»–åœ¨htmlé‡Œå‘ç°äº†è¿™ä¸ªå…ƒç´ ï¼Œå‘Šè¯‰æˆ‘è¿™æ˜¯cInfoçš„æ•°æ®ï¼Œå…¶å®éƒ½åµŒåœ¨å…ƒç´ é‡Œäº†<br><img src="http://oczm2hjoz.bkt.clouddn.com/blog/pachong/lzstring%E7%9A%84%E6%95%B0%E6%8D%AE.png" alt="lzString"><br>åªä¸è¿‡æ˜¯lzstringéœ€è¦è§£ææˆå­—ç¬¦ä¸²ä¸€ä¸‹ï¼Œå¹¶ä¸”ç»™æˆ‘æ¼”ç¤ºäº†è§£æï¼Œè§£æç»“æœæ˜¯è¿™æ ·çš„<br><img src="http://oczm2hjoz.bkt.clouddn.com/blog/pachong/%E8%A7%A3%E6%9E%90%E7%BB%93%E6%9E%9C.png" alt="è§£æç»“æœ"><br>ä½†æ˜¯å…¶å®è¿™æ ·ä¹Ÿä¸å¥½è·å–ï¼Œæˆ–è€…ä¸å¤Ÿç®€å•ç›´è§‚å•Šã€‚(å…¶å®è¿™éƒ¨åˆ†ä¸€ç›´éƒ½æ˜¯è¿‡åº¦æ€è€ƒäº†)</p>
<h2 id="å¦è¾Ÿè¹Šå¾„"><a href="#å¦è¾Ÿè¹Šå¾„" class="headerlink" title="å¦è¾Ÿè¹Šå¾„"></a>å¦è¾Ÿè¹Šå¾„</h2><p>æˆ‘æƒ³äº†åŠå¤©å†³å®šçœ‹çœ‹è¿™éƒ¨æ¼«ç”»é¦–é¡µçœ‹èƒ½å‘ç°ä»€ä¹ˆï¼Œç»“æœç¡®å®æ˜¯è¢«è‡ªå·±è ¢åˆ°äº†ï¼ŒåŸæ¥æ¯ä¸ªç« èŠ‚çš„urlåœ¨æ¼«ç”»é¦–é¡µå°±ç»™å‡ºäº†<br><img src="http://oczm2hjoz.bkt.clouddn.com/blog/pachong/%E6%AF%8F%E4%B8%AA%E7%AB%A0%E8%8A%82%E9%83%BD%E6%9C%89url.png" alt="æ¯ä¸ªç« èŠ‚éƒ½æœ‰url"><br>é©¬ä¸ªğŸ”ã€‚ä¸è¿‡æ¥ä¸‹æ¥å°±å¥½åŠå¤šäº†ã€‚</p>
<h2 id="æœ€ç»ˆç»“æœ"><a href="#æœ€ç»ˆç»“æœ" class="headerlink" title="æœ€ç»ˆç»“æœ"></a>æœ€ç»ˆç»“æœ</h2><p>æˆ‘é€šè¿‡è§£ææ¼«ç”»é¦–é¡µï¼Œè·å–åˆ°æ‰€æœ‰ç« èŠ‚çš„urlï¼Œåœ¨é€šè¿‡æ¯ä¸ªurlå»åˆ†åˆ«è·å–æ¯ä¸ªç« èŠ‚ï¼Œä»¥è‡³æ¯ä¸€å¼ å›¾ç‰‡ï¼Œä»£ç å¦‚ä¸‹ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">#!bin/python</span><br><span class="line">#encodin=utf-8</span><br><span class="line"></span><br><span class="line">import requests</span><br><span class="line">from bs4 import  BeautifulSoup</span><br><span class="line"></span><br><span class="line">host_link = &apos;http://www.manhuagui.com&apos;</span><br><span class="line"></span><br><span class="line">re_link = &apos;http://www.manhuagui.com/comic/16058/&apos;</span><br><span class="line">headers = &#123;&apos;User-Agent&apos;:&apos;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.84 Safari/537.36&apos;,</span><br><span class="line">        &apos;Accept&apos;:&apos;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8&apos;,</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">chapter_link_list = &#123;&#125;</span><br><span class="line"></span><br><span class="line">def get_chapters_url():</span><br><span class="line">    pagenum_list = &#123;&#125;</span><br><span class="line">    re_request = requests.get(re_link,headers = headers);</span><br><span class="line">    if re_request.status_code != 200:</span><br><span class="line">        print &apos;Get Re Manhua Page Failed&apos;</span><br><span class="line">        exit(1)</span><br><span class="line">    else:</span><br><span class="line">        soup = BeautifulSoup(re_request.text,&apos;html.parser&apos;)</span><br><span class="line">        chapter_list = soup.find(&apos;div&apos;,class_=&apos;chapter-list cf mt10&apos;)</span><br><span class="line">        for ul in chapter_list.contents:</span><br><span class="line">            for li in ul.contents:</span><br><span class="line">                chapter_link_list[li.a[&apos;title&apos;]] = li.a[&apos;href&apos;]</span><br><span class="line">                pagenum_list[li.a[&apos;href&apos;]] = li.a.span.i.text.rstrip(&apos;p&apos;)</span><br><span class="line">    return pagenum_list;</span><br><span class="line"></span><br><span class="line">def get_chapter_image(chapter_link,pagenum):</span><br><span class="line">    for i in range(1,int(pagenum)+1):</span><br><span class="line">        link = host_link+chapter_link+&apos;#p=&apos;+str(i)</span><br><span class="line">        print link</span><br><span class="line"></span><br><span class="line">chapter_links = get_chapters_url();</span><br><span class="line">print(chapter_links)</span><br><span class="line">for url in chapter_links.keys():</span><br><span class="line">    pagenum = chapter_links.get(url)</span><br><span class="line">    get_chapter_image(url,pagenum)</span><br></pre></td></tr></table></figure></p>
<p>å…·ä½“æ€•å»å›¾ç‰‡å°±è§£æè·å–åˆ°çš„æ¯ä¸ªpageçš„htmlå°±å¥½äº†</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åˆå­¦ç¡®å®ä¼šçŠ¯å¾ˆå¤šè ¢é—®é¢˜å•Šï¼Œä¸è¿‡ä¹Ÿæé†’äº†æˆ‘ä»¥ååº”è¯¥å¤šä¸ªè§’åº¦å¾—å»çœ‹é—®é¢˜ï¼ˆåºŸè¯ï¼‰ï¼Œçˆ¬è™«å¯ä»¥å¾ˆç®€å•ä¹Ÿå¯ä»¥å¾ˆéº»çƒ¦ï¼Œè¿˜æ˜¯å¾—çœ‹ä½ å¯¹çˆ¬è™«å¯¹è±¡æœ‰æ²¡æœ‰ä»”ç»†å»ç ”ç©¶ä¸€ä¸‹ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[è®°æˆ‘çš„æ ‘è“æ´¾ä¸‰äºŒäº‹(ä¸€)]]></title>
      <url>http://wincber.com/2017/12/07/%E8%AE%B0%E6%88%91%E7%9A%84%E6%A0%91%E8%8E%93%E6%B4%BE%E4%B8%89%E4%BA%8C%E4%BA%8B-%E4%B8%80/</url>
      <content type="html"><![CDATA[<pre><code>ä¹‹å‰ä¸€ç›´æ˜¯ä½¿ç”¨æ ‘è“æ´¾å­¦ä¹ å†™pythonçˆ¬è™«ä»£ç ï¼Œæ€»æ„Ÿè§‰æœ‰ç‚¹å¤§æå°ç”¨çš„æ„Ÿè§‰ï¼Œæ‰€ä»¥å‡†å¤‡æ‹¿æ ‘è“æ´¾åšäº›å®é™…äº‹ï¼Œä¹‹å‰ä¹Ÿæœ‰ä»¿ç…§
</code></pre>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[è®°ä¸€é›†æˆç¯ä¿¡æ‰€é‡åˆ°Could not find Class ..&NoClassDefErroré”™è¯¯ï¼ˆAndroid4.xæœºï¼‰]]></title>
      <url>http://wincber.com/2017/07/14/%E8%AE%B0%E4%B8%80%E9%9B%86%E6%88%90%E7%8E%AF%E4%BF%A1%E6%89%80%E9%81%87%E5%88%B0Could-not-find-Class-NoClassDefError%E9%94%99%E8%AF%AF/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>  æœ€è¿‘é¡¹ç›®æµ‹è¯•é˜¶æ®µï¼Œappåœ¨Android4.xä¸Šæ‰“å¼€ç›´æ¥å´©æºƒï¼Œæˆ‘ä¹Ÿå¾ˆå´©æºƒï¼Œçœ‹logæ—¥å¿—ï¼Œå‘ç°æ˜¯å› ä¸ºç¯ä¿¡éƒ¨åˆ†çš„é”™è¯¯ï¼Œé¼“æ£äº†å¥½ä¹…æ‰ç»ˆäºè§£å†³ï¼ˆä½†ä¼°è®¡å…¼å®¹é—®é¢˜åç»­è‚¯å®šè¿˜æœ‰å¾ˆå¤šé—®é¢˜T_Tï¼‰</p>
<h2 id="æ–¹æ¡ˆ"><a href="#æ–¹æ¡ˆ" class="headerlink" title="æ–¹æ¡ˆ"></a>æ–¹æ¡ˆ</h2><p>æ€ä¹ˆè¯´ï¼Œå¼€é—¨è§å±±ï¼Œå…ˆç›´æ¥è¯´è§£å†³æ–¹æ¡ˆ<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.æ£€æŸ¥ç¯ä¿¡çš„åˆå§‹åŒ–</span><br><span class="line">2.æ£€æŸ¥MultiDexé…ç½®</span><br><span class="line">3.æ£€æŸ¥æ··æ·†æ–‡ä»¶</span><br></pre></td></tr></table></figure></p>
<p>å®é™…ä¸Šæˆ‘ä¸æ˜¯æŒ‰ç…§è¿™ä¸ªæ­¥éª¤æ¥çš„ï¼Œæ‰€ä»¥è€—æ—¶è€—åŠ›è€—ç²¾ç¥ï¼Œå› ä¸ºæˆ‘çœ‹logæ—¥å¿—æ–‡ä»¶æ‰€æŠ¥çš„é”™è¯¯å°±åƒé¢˜ç›®<strong>Can not find classâ€¦â€¦</strong>ï¼Œå°±æ˜¯è¯´æˆ‘çš„ç¯ä¿¡åŒ…ä¸‹çš„ç±»æ‰¾ä¸åˆ°ã€‚<br>å› ä¸ºæˆ‘çš„é¡¹ç›®ä¾èµ–äº†EaseUIæ¨¡å—ï¼Œæ‰€ä»¥ç¯ä¿¡sdkæ˜¯åœ¨EaseUIæ¨¡å—ä¸­çš„ï¼Œè€Œç¯ä¿¡sdkçš„åˆå§‹è¯è¦æ”¾åœ¨æˆ‘appçš„Applicationä¸­ï¼Œå³è¦ç”¨åˆ°EaseUIä¸­çš„sdkï¼Œè€Œåœ¨Android4.xæ‰‹æœºä¸Šè¿è¡Œæ—¶å°±æ˜¾ç¤ºæ‰¾ä¸åˆ°è¿™ä¸ªç±»ï¼Œæ‰€ä»¥åˆå§‹åŒ–å¤±è´¥æ‰€ä»¥å°±å´©äº†ã€‚<br>æˆ‘æ’æŸ¥äº†å¾ˆå¤šé—®é¢˜ï¼Œè§‰å¾—æœ€ä¸»è¦è¦åšå¥½çš„æ˜¯å‰ä¸¤ç‚¹ã€‚</p>
<h3 id="æ£€æŸ¥ç¯ä¿¡çš„åˆå§‹åŒ–"><a href="#æ£€æŸ¥ç¯ä¿¡çš„åˆå§‹åŒ–" class="headerlink" title="æ£€æŸ¥ç¯ä¿¡çš„åˆå§‹åŒ–"></a>æ£€æŸ¥ç¯ä¿¡çš„åˆå§‹åŒ–</h3><p>æˆ‘åœ¨æ’æŸ¥çš„æœ«é˜¶æ®µæ‰å‘ç°è¿™ä¸ªé—®é¢˜ï¼ŒçœŸæ˜¯stupidã€‚<br>ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿå°±æ˜¯æˆ‘çš„ç¯ä¿¡sdkåˆå§‹åŒ–äº†ä¸¤æ¬¡ï¼Œæˆ‘çš„ç¯ä¿¡æ¨¡å—æ˜¯æŒ‰demoä¸­çš„å†™çš„ï¼Œæ‰€ä»¥åœ¨helperä¸­å°±ä¼šåˆå§‹åŒ–easeuiï¼ˆçœ‹è¿‡demoæ–‡ä»¶ä½ å°±çŸ¥é“äº†ï¼‰ï¼Œè€Œ<strong>EaseUI.getInstan().init(context,options)</strong>ä¸­å°±å¯¹ç¯ä¿¡sdkåˆå§‹åŒ–äº†ï¼Œæ‰€ä»¥å¦‚æœä½ åœ¨ä¹‹å‰æˆ–è€…ä¹‹ååœ¨è¿˜åˆå§‹åŒ–äº†ç¯ä¿¡sdkï¼Œå³<strong>EMClient.getInstance().init(context,options)</strong>ï¼Œå°±ä¼šå‡ºé—®é¢˜ã€‚</p>
<p>é‡å¤åˆå§‹è¯sdkè¦å‡ºé—®é¢˜ä¹Ÿæ˜¯å®˜æ–¹æ–‡æ¡£ä¸­ç‰¹æ„è¯´æ˜çš„ã€‚è¦æ³¨æ„è¿™ä¸€ç‚¹ã€‚</p>
<h3 id="æ£€æŸ¥MultiDexé…ç½®"><a href="#æ£€æŸ¥MultiDexé…ç½®" class="headerlink" title="æ£€æŸ¥MultiDexé…ç½®"></a>æ£€æŸ¥MultiDexé…ç½®</h3><p>é›†æˆç¯ä¿¡ä¼šç”¨åˆ°MultiDexæ¥é¿å…64kæ–¹æ³•ï¼ˆä½ è‚¯å®šä¹Ÿç”¨åˆ°äº†ï¼‰ï¼Œæ‰€ä»¥åŠ¡å¿…æ£€æŸ¥MultiDexçš„åˆå§‹åŒ–ï¼Œä¸»è¦æ˜¯ä¸¤ç‚¹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.ä½ çš„Applicationç»§æ‰¿è‡ªMultiDexApplication</span><br><span class="line">2.MultiDex.install()</span><br></pre></td></tr></table></figure></p>
<p>å…·ä½“çš„ä½¿ç”¨æ–¹æ³•å°±ä¸è¯´äº†ï¼Œéšä¾¿æ’ä¸€ä¸‹ä½ å°±çŸ¥é“ã€‚</p>
<h3 id="æ£€æŸ¥æ··æ·†æ–‡ä»¶"><a href="#æ£€æŸ¥æ··æ·†æ–‡ä»¶" class="headerlink" title="æ£€æŸ¥æ··æ·†æ–‡ä»¶"></a>æ£€æŸ¥æ··æ·†æ–‡ä»¶</h3><p>å…¶å®è¿™ä¸€æ­¥ä¸æ˜¯éå¸¸å¿…è¦çš„ï¼Œä½†æ˜¯æœ‰å¯èƒ½ä¼šå‡ºç°è¿™ä¸€ç‚¹ï¼Œæˆ‘åˆšå¼€å§‹ä¸€ç›´ä»¥ä¸ºæ˜¯è¿™æ ·é‡Œçš„é—®é¢˜ï¼Œåæ¥å‘ç°å…¶å®æ˜¯å‰ä¸¤ç‚¹çš„é—®é¢˜<br>ä¸è¿‡æ··æ·†æ–‡ä»¶ä¹Ÿè¦æ³¨æ„ä¸€ä¸‹å¯¹äºkeep å’Œdontwarnçš„ä½¿ç”¨ï¼Œä½†æ˜¯å…¶å®å¯¹äºç¯ä¿¡éƒ¨åˆ†çš„æ··æ·†ï¼Œä½ æŠŠdemoä¸­çš„æ··æ·†æ–‡ä»¶ä¸­çš„å†…å®¹æ‹·è´è¿‡æ¥å°±å¯ä»¥äº†ï¼Œå¤§ä½“ä¸ç”¨æ”¹ä»€ä¹ˆã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ€»çš„æ¥è¯´ï¼Œå‡ºäº†é—®é¢˜ï¼Œé¦–å…ˆçœ‹å‰ä¸¤ç‚¹ï¼Œæˆ‘è¿™æ¬¡ä¹Ÿæ˜¯é•¿äº†æ•™è®­ï¼Œä¸è¿‡Android5.0ä»¥ä¸Šåˆæ²¡é—®é¢˜ï¼Œè¿™ä¸ªå°±å¾ˆå¥‡æ€ªï¼Œä½†æ˜¯æŒ‰æ ‡å‡†æ¥æ˜¯æ²¡é—®é¢˜çš„ï¼Œä¸è¦å…ˆæ‰¾æ··æ·†æ–‡ä»¶çš„é—®é¢˜ï¼ä¸è¦å…ˆæ‰¾æ··æ·†æ–‡ä»¶çš„é—®é¢˜ï¼ä¸è¦å…ˆæ‰¾æ··æ·†æ–‡ä»¶çš„é—®é¢˜ï¼é‡è¦çš„è¯è¯´ä¸‰éã€‚è¿™æ¬¡ç¡®å®æ˜¯logæ—¥å¿—æŠŠæˆ‘å‘äº†ï¼Œå¤§å®¶ä¹Ÿè¦æƒ³çš„å¹¿ä¸€ç‚¹ï¼Œä¸ä¸€å®šè¦çº ç»“äºlogä¸Šæ‰€å±•ç°çš„é—®é¢˜ï¼Œæœ‰æ—¶å€™ä»–ä¸æ˜¯é—®é¢˜çš„æœ¬è´¨æ‰€åœ¨ã€‚<br>ç»§ç»­åŠ æ²¹ï¼ï¼</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Fragmentåœ¨å¯è§æ—¶åˆ·æ–°åŠ è½½æ•°æ®]]></title>
      <url>http://wincber.com/2017/07/07/Fragment%E5%9C%A8%E5%8F%AF%E8%A7%81%E6%97%B6%E5%88%B7%E6%96%B0%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE/</url>
      <content type="html"><![CDATA[<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>æˆ‘çš„Fragmentæ—¶æ”¾åœ¨FragmentManageré‡Œçš„ï¼Œç”¨çš„æ—¶showå’Œhideæ–¹æ³•ï¼Œæ‰€ä»¥ï¼Œå½“æˆ‘æœ€å¤–ä¸å¾—Activityåˆ›å»ºåï¼Œæ‰§è¡Œè¿‡fragmentçš„onCreateViewå’ŒonResumeåï¼Œå†æ¬¡è¿”å›åˆ°è¿™ä¸ªç•Œé¢å°±ä¸ä¼šæ‰§è¡Œè¿™ä¸¤ä¸ªå‡½æ•°ï¼Œä½†æˆ‘åˆè¦è¿›è¡Œæ•°æ®åˆ·æ–°å˜</p>
<h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>ç»è¿‡æŸ¥é˜…APIæ–‡æ¡£ï¼Œæ‰¾åˆ°äº†   onHiddenChanged(boolean hide)   ,å‡½æ•°ä»‹ç»å¦‚ä¸‹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">    void onHiddenChanged (boolean hidden)</span><br><span class="line">Called when the hidden state (as returned by isHidden() of the fragment has changed. Fragments start out not hidden; this will be called whenever the fragment changes state from that.</span><br></pre></td></tr></table></figure></p>
<p>é¡¾åæ€ä¹‰å°±æ˜¯æ¯æ¬¡éšè—å’Œå¯è§æ—¶ä¼šè§¦å‘ï¼Œæ‰€ä»¥æ•°æ®æ›´æ–°æ”¾åœ¨è¿™ä¸ªå‡½æ•°é‡Œåˆ¤æ–­hideçŠ¶æ€æ¥è¿›è¡Œæ›´æ–°å°±å¯ä»¥äº†ã€‚<br>å¦å¤– è¿˜æœ‰ä¸€ä¸ªå‡½æ•°    setUserVisibleHint(boolean isVisibleToUser)     è¿™ä¸ªå‡½æ•°ä¹Ÿæ˜¯é’ˆå¯¹æ˜¯å¦å¯¹ç”¨æˆ·å¯è§è§¦å‘ï¼Œä½†æ˜¯è¿™ä¸ªå‡½æ•°å¥½åƒæ˜¯é’ˆå¯¹äºä½¿ç”¨ViewPageræ—¶ä½¿ç”¨ï¼Œåæ­£æˆ‘åœ¨æˆ‘çš„Fragmentä¸­ä½¿ç”¨æ˜¯ä¸èµ·ä½œç”¨çš„ï¼ˆæ²¡ç”¨ViewPagerï¼‰</p>
<p>Keep fighting!!!</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[è¿‘äº‹ä¸€è®°]]></title>
      <url>http://wincber.com/2017/06/17/%E8%BF%91%E4%BA%8B%E4%B8%80%E8%AE%B0/</url>
      <content type="html"><![CDATA[<p>å¾ˆç¾æ„§ï¼Œåˆå¥½ä¸€æ®µæ—¶é—´æ²¡æœ‰åšæŒå†™åšå®¢äº†ï¼Œå…¶å®è¿™æœŸé—´æœ‰å¾ˆå¤šå¯ä»¥å†™çš„ï¼Œæ¯”å¦‚è…¾è®¯çš„ç¬”è¯•æ€»ç»“ï¼Œåšè¿‡çš„ä¸€äº›é¢˜çš„æ€»ç»“ï¼Œé‡åˆ°çš„ä¸€äº›é—®é¢˜çš„æ€»ç»“ï¼Œçœ‹çš„ä¹¦çš„æ„Ÿæ‚Ÿï¼Œé¢†åˆ°äº†ç¬¬ä¸€ä»½æ­£å¼å·¥èµ„ï¼Œå¾ˆå¤šã€‚<br>ä¸è¿‡æ²¡é‚£ä¹ˆå¤šç†ç”±ï¼Œå°±çº¯æ˜¯æ—¶é—´ä¸å¤šè‡ªå·±ä¹Ÿå¿™ä¹Ÿå·æ‡’æ²¡å†™ï¼Œä¸è¿‡æ¥ä¸‹æ¥ä¸€å®šä¼šåšæŒçš„ï¼Œæ¯•ç«Ÿæ—¶é—´ä¸å¤šäº†ã€‚ä»¥æ­¤ä¸ºè¯ã€‚<br>æœ€è¿‘åœ¨çœ‹çš„ä¹¦ï¼ˆä¸çŸ¥é“èƒ½çœ‹å¤šå°‘233ï¼‰<br>å›¾è§£HTTP ï¼ˆå¾ˆæœ‰æ„æ€çš„ä¹¦ï¼‰<br>Javaå¹¶å‘å®æˆ˜ ï¼ˆéš¾ï¼Œè€Œä¸”æœ‰å¥½ä¸€äº›j2eeçš„çŸ¥è¯†ç‚¹ï¼Œæ¯”å¦‚servletï¼Œä½†æˆ‘æ²¡ç”¨è¿‡ï¼Œæ‰€ä»¥çœ‹èµ·æ¥è›®åƒåŠ›ï¼Œä¸è¿‡ä¸»è¦æ˜¯ç†è§£æ€æƒ³ï¼‰<br>ç¼–ç¨‹ä¹‹ç¾ ï¼ˆæ— éœ€è§£é‡Šï¼Œä¸»è¦åœ¨çœ‹äºŒä¸‰ç« ï¼‰<br>LeetCodeé¢˜è§£ ï¼ˆç½‘ä¸Šå‰äººæ€»ç»“å†™çš„ï¼Œå°†ä¸€ç±»é¢˜éƒ½æ±‡æ€»åœ¨ä¸€å—å°†æ€æƒ³å¹¶åˆ—å‡ºå‡ ç§è§£æ³•ï¼Œç¾ä¸­ä¸è¶³çš„æ˜¯è§£é¢˜ç®—æ³•ä»£ç éƒ½æ˜¯Pythonï¼Œä¸è¿‡æ²¡å…³ç³»ï¼Œä¸»è¦æ˜¯äº†è§£æ€æƒ³è‡ªå·±å†™ï¼‰<br>Androidå¼€å‘è‰ºæœ¯æ¢ç´¢ ï¼ˆæ²¡é”™ï¼Œæˆ‘è¿˜å¢¨è¿¹åœ¨è¿™ä¸Šé¢å‘¢ï¼Œä¸è¿‡æœ€è¿‘åœ¨å¼€å‘ä¸­çœŸçš„ç”¨åˆ°äº†ä¸€äº›çŸ¥è¯†ç‚¹ï¼Œæ‰€ä»¥è¿˜åœ¨çœ‹ï¼‰<br>è¿˜æœ‰ä¸€äº›Kotlinçš„èµ„æ–™ï¼ŒæŠ½ç©ºå­¦ä¹ Kotlinã€‚åŠ æ²¹ï¼</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[åœ¨VSCodeä¸­ç¼–å†™Kotlin]]></title>
      <url>http://wincber.com/2017/06/17/%E5%9C%A8VSCode%E4%B8%AD%E7%BC%96%E5%86%99Kotlin/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>Kotlin~~~æœ€è¿‘å¯èƒ½æœ€å¸¸å¬åˆ°çš„å¤§æ¦‚å°±æ˜¯è¿™ä¸ªäº†å§ã€‚Kotlinçš„å®˜æ–¹ç¼–è¯‘å™¨å½“ç„¶æ˜¯IDEAï¼Œä½†æ˜¯IDEAé‚£ä¹ˆå¤§ï¼Œåˆä¸èƒ½åŒæ—¶ç¼–è¯‘javaå’Œkotlinä¸¤ä¸ªé¡¹ç›®ï¼Œè¿˜è´¼åƒå†…å­˜ï¼Œæ‰€ä»¥æˆ‘å°±ç”¨VSCodeæ¥å­¦ä¹ Kotlinã€‚</p>
<h2 id="é…ç½®Kotlinç¯å¢ƒ"><a href="#é…ç½®Kotlinç¯å¢ƒ" class="headerlink" title="é…ç½®Kotlinç¯å¢ƒ"></a>é…ç½®Kotlinç¯å¢ƒ</h2><p>å¦‚æœä½ çš„IDEAç‰ˆæœ¬æ¯”è¾ƒæ–°ï¼Œæˆ–è€…ä¹‹å‰ç”¨IDEAåˆ›å»ºè¿‡æˆ–è€…å†™è¿‡Kotlinçš„è¯ä½ å°±å¯ä»¥åœ¨IDEAçš„ç›®å½•ä¸‹æ‰¾åˆ°plugins/Kotlin/kotlincè¿™ä¸ªæ–‡ä»¶å¤¹<br>å°†kotlinc/biné…ç½®åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼ˆä½ å¯ä»¥å•ç‹¬å¤åˆ¶è¿™ä¸ªæ–‡ä»¶å¤¹åˆ°ä¾¿æ·çš„åœ°æ–¹ï¼‰ã€‚å°±åƒè¿™æ ·<br><img src="http://oczm2hjoz.bkt.clouddn.com/%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.jpg" alt="é…ç½®ç¯å¢ƒå˜é‡"></p>
<p>è¿™æ ·ä½ å°±å¯ä»¥åœ¨æ§åˆ¶å°é‡Œç¼–å†™kotlinå¹¶ç¼–è¯‘è¿è¡Œäº†ï¼Œlike this<br><img src="http://oczm2hjoz.bkt.clouddn.com/%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%87%BA.png" alt="æ§åˆ¶å°è¾“å‡º"></p>
<h2 id="é…ç½®VsCode"><a href="#é…ç½®VsCode" class="headerlink" title="é…ç½®VsCode"></a>é…ç½®VsCode</h2><p>åœ¨VSCodeæ‰©å±•ä¸­æˆ‘å®‰è£…äº†Kotlin Language å’Œ Code Runnerè¿™ä¸¤ä¸ªæ‰©å±•åŒ…<br><img src="http://oczm2hjoz.bkt.clouddn.com/VSCode%E6%89%A9%E5%B1%95.png" alt="VSCodeæ‰©å±•"></p>
<p>å®‰è£…åé‡å¯åŠ è½½æ‰©å±•ï¼Œå°±å¯ä»¥ç¼–å†™Kotlinä»£ç å¹¶ç¼–è¯‘è¿è¡Œäº†ï¼Œå†™å¥½ä»£ç ï¼ŒCtrl+Alt+N,OKï¼Œåƒè¿™æ ·<br><img src="http://oczm2hjoz.bkt.clouddn.com/%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C.png" alt="è¿è¡Œç»“æœ"></p>
<p>å¹¶ä¸”åœ¨ä½ çš„ç¨‹åºæ–‡ä»¶ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€ä¸ªè¯¥ç¨‹åºçš„JaråŒ…ï¼Œåƒè¿™æ ·<br><img src="http://oczm2hjoz.bkt.clouddn.com/%E7%94%9F%E6%88%90jar%E5%8C%85.png" alt="jaråŒ…"></p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å°±æ˜¯è¿™æ ·ï¼Œä¸€èµ·å­¦ä¹ Kotlinå§ï¼ŒEnjoy Your Codeï¼</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Java ç»ƒä¹ æ€»ç»“(ä¸€)]]></title>
      <url>http://wincber.com/2017/03/25/Java-%E7%BB%83%E4%B9%A0%E6%80%BB%E7%BB%93-%E4%B8%80/</url>
      <content type="html"><![CDATA[<p>é€šè¿‡ç‰›å®¢ç½‘ç»ƒä¹ é¢˜æ‰€æ€»ç»“çš„é”™é¢˜ã€‚</p>
<ol>
<li>ç¬¬ä¸€ä¸ªstrutsæ¡†æ¶çš„çŸ¥è¯†ï¼Œä½†æ˜¯ç”±äºæˆ‘æ²¡ç”¨è¿‡ï¼Œæ‰€ä»¥çŒœçš„ï¼Œä¸è¿‡äº†è§£äº†ä¸€äº›çŸ¥è¯†<br>structsæ˜¯MVCçš„ä¸€ç§å®ç°ï¼Œå®ƒå°†<strong>Servlet</strong>å’Œ<strong>JSP</strong>æ ‡è®°ï¼ˆå±äºJ2EEè§„èŒƒï¼‰ç”¨ä½œå®ç°çš„ä¸€éƒ¨åˆ†ã€‚Strutsç»§æ‰¿äº†MVCçš„å„é¡¹ç‰¹æ€§ï¼Œå¹¶æ ¹æ®J2EEçš„ç‰¹ç‚¹ï¼Œåšäº†ç›¸åº”çš„å˜åŒ–ä¸æ‰©å±•ã€‚<br>ç”±äºæ²¡æœ‰äº†è§£è¿‡j2EEï¼Œè¿™ä¸ªæ–¹é¢æœ‰å¿…è¦å»çœ‹çœ‹</li>
<li>ç»§æ‰¿è‡ªæŠ½è±¡ç±»çš„å­ç±»å¿…é¡»å®ç°æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•ï¼Œé™¤éè¯¥å­ç±»ä¹Ÿæ˜¯æŠ½è±¡ç±»ï¼ŒåŒæ—¶æŠ½è±¡ç±»ä¸­ä¹Ÿä¸ä¸€å®šéƒ½æ˜¯æŠ½è±¡æ–¹æ³•ã€‚ä¸”æŠ½è±¡æ–¹æ³•é»˜è®¤æ˜¯publicï¼Œåªèƒ½è®¾ä¸ºpublicæˆ–è€…protected</li>
<li>ç¬¬ä¸‰é¢˜æ˜¯Javaçš„Exceptionç»“æ„å’Œä¸»è¦çš„ç±»ï¼Œä¸€å¼ å›¾è¯´æ˜ä¸€åˆ‡</li>
</ol>
<p><img src="http://oczm2hjoz.bkt.clouddn.com/image/jpg/Exception.jpg" alt="Exception"></p>
<ol>
<li><p>ç¬¬å››é¢˜æ˜¯jvmçš„åƒåœ¾å›æ”¶ç®—æ³•çš„åˆ†ç±»ï¼š<br><a href="https://www.nowcoder.com/test/question/done?tid=7485282&amp;qid=36411#summary" target="_blank" rel="noopener">https://www.nowcoder.com/test/question/done?tid=7485282&amp;qid=36411#summary</a><br>æˆ‘ç›´æ¥å¤åˆ¶è¿‡æ¥ï¼Œå­¦ä¹ äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">ä¸¤ä¸ªæœ€åŸºæœ¬çš„javaå›æ”¶ç®—æ³•ï¼šå¤åˆ¶ç®—æ³•å’Œæ ‡è®°æ¸…ç†ç®—æ³•</span><br><span class="line">å¤åˆ¶ç®—æ³•ï¼šä¸¤ä¸ªåŒºåŸŸAå’ŒBï¼Œåˆå§‹å¯¹è±¡åœ¨Aï¼Œç»§ç»­å­˜æ´»çš„å¯¹è±¡è¢«è½¬ç§»åˆ°Bã€‚æ­¤ä¸ºæ–°ç”Ÿä»£æœ€å¸¸ç”¨çš„ç®—æ³•</span><br><span class="line">æ ‡è®°æ¸…ç†ï¼šä¸€å—åŒºåŸŸï¼Œæ ‡è®°è¦å›æ”¶çš„å¯¹è±¡ï¼Œç„¶åå›æ”¶ï¼Œä¸€å®šä¼šå‡ºç°ç¢ç‰‡ï¼Œé‚£ä¹ˆå¼•å‡º</span><br><span class="line">æ ‡è®°-æ•´ç†ç®—æ³•ï¼šå¤šäº†ç¢ç‰‡æ•´ç†ï¼Œæ•´ç†å‡ºæ›´å¤§çš„å†…å­˜æ”¾æ›´å¤§çš„å¯¹è±¡</span><br><span class="line">ä¸¤ä¸ªæ¦‚å¿µï¼šæ–°ç”Ÿä»£å’Œå¹´è€ä»£</span><br><span class="line">æ–°ç”Ÿä»£ï¼šåˆå§‹å¯¹è±¡ï¼Œç”Ÿå‘½å‘¨æœŸçŸ­çš„</span><br><span class="line">æ°¸ä¹…ä»£ï¼šé•¿æ—¶é—´å­˜åœ¨çš„å¯¹è±¡</span><br><span class="line">æ•´ä¸ªjavaçš„åƒåœ¾å›æ”¶æ˜¯æ–°ç”Ÿä»£å’Œå¹´è€ä»£çš„åä½œï¼Œè¿™ç§å«åšåˆ†ä»£å›æ”¶ã€‚</span><br><span class="line">P.Sï¼šSerial Newæ”¶é›†å™¨æ˜¯é’ˆå¯¹æ–°ç”Ÿä»£çš„æ”¶é›†å™¨ï¼Œé‡‡ç”¨çš„æ˜¯å¤åˆ¶ç®—æ³•</span><br><span class="line">Parallel Newï¼ˆå¹¶è¡Œï¼‰æ”¶é›†å™¨ï¼Œæ–°ç”Ÿä»£é‡‡ç”¨å¤åˆ¶ç®—æ³•ï¼Œè€å¹´ä»£é‡‡ç”¨æ ‡è®°æ•´ç†</span><br><span class="line">Parallel Scavengeï¼ˆå¹¶è¡Œï¼‰æ”¶é›†å™¨ï¼Œé’ˆå¯¹æ–°ç”Ÿä»£ï¼Œé‡‡ç”¨å¤åˆ¶æ”¶é›†ç®—æ³•</span><br><span class="line">Serial Oldï¼ˆä¸²è¡Œï¼‰æ”¶é›†å™¨ï¼Œæ–°ç”Ÿä»£é‡‡ç”¨å¤åˆ¶ï¼Œè€å¹´ä»£é‡‡ç”¨æ ‡è®°æ•´ç†</span><br><span class="line">Parallel Oldï¼ˆå¹¶è¡Œï¼‰æ”¶é›†å™¨ï¼Œé’ˆå¯¹è€å¹´ä»£ï¼Œæ ‡è®°æ•´ç†</span><br><span class="line">CMSæ”¶é›†å™¨ï¼ŒåŸºäºæ ‡è®°æ¸…ç†</span><br><span class="line">G1æ”¶é›†å™¨ï¼šæ•´ä½“ä¸Šæ˜¯åŸºäºæ ‡è®° æ•´ç† ï¼Œå±€éƒ¨é‡‡ç”¨å¤åˆ¶</span><br><span class="line"></span><br><span class="line">ç»¼ä¸Šï¼šæ–°ç”Ÿä»£åŸºæœ¬é‡‡ç”¨å¤åˆ¶ç®—æ³•ï¼Œè€å¹´ä»£é‡‡ç”¨æ ‡è®°æ•´ç†ç®—æ³•ã€‚cmsé‡‡ç”¨æ ‡è®°æ¸…ç†ã€‚</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¬¬äº”é¢˜æ˜¯æˆ‘æ²¡æœ‰ç»†å¿ƒï¼Œä¸è¿‡å°±è®°ä½ä¸€å¥è¯ æ–¹æ³•æ˜¯æ²¡æœ‰ç»§æ‰¿ä¸€è¯´çš„ï¼Œåªæœ‰é‡è½½å’Œé‡å†™ã€‚ç±»ä¹‹é—´æ˜¯ç»§æ‰¿çš„</p>
</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[è®°ä¸€ java.lang.StackOverflowError: stack size 8MB é”™è¯¯]]></title>
      <url>http://wincber.com/2017/03/25/%E8%AE%B0%E4%B8%80-java-lang-StackOverflowError-stack-size-8MB-%E9%94%99%E8%AF%AF/</url>
      <content type="html"><![CDATA[<p>ä»Šå¤©é‡åˆ°äº†<strong>java.lang.StackOverflowError: stack size 8MB</strong>è¿™ä¸ªé—®é¢˜ï¼Œå¦‚æœä½ å»ç›´æ¥æŸ¥çš„è¯æ˜¯æŸ¥ä¸åˆ°ä»€ä¹ˆï¼Œéƒ½ä¼šè¯´æ˜¯å› ä¸ºæ­»å¾ªç¯äº†ä¹‹ç±»çš„é—®é¢˜ï¼Œä½†æ˜¯å“ªé‡Œæ­»å¾ªç¯äº†å°±ä¸çŸ¥é“äº†ï¼Œæˆ‘è°ƒè¯•æ—¶ä¹Ÿæ˜¯è¿™æ ·ã€‚<br>ä¸è¿‡å°±æˆ‘é‡åˆ°çš„é—®é¢˜æ¥è¯´å®ƒæ‰“å°çš„æ—¥å¿—è¿˜æœ‰ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.err: at android.view.ViewGroup.jumpDrawablesToCurrentState</span><br></pre></td></tr></table></figure></p>
<p>æˆ‘æŒ‰ç…§è¿™ä¸ªerroä¿¡æ¯æŸ¥äº†ä»¥åä¾¿å‘ç°äº†æˆ‘çš„é—®é¢˜å‡ºç°åœ¨äº†å“ªé‡Œã€‚<br>å› ä¸ºæˆ‘æ‰€åšçš„æ˜¯ä¸ªViewPageré…å¥—Fragmentçš„å¸ƒå±€ï¼Œè€Œåœ¨Fragmentä¸­onCreateViewä¸­æˆ‘é”™è¯¯çš„ä½¿ç”¨äº†<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">return inflater.inflate(R.layout.content_pager,container);</span><br></pre></td></tr></table></figure></p>
<p>è€Œå°±æ˜¯å› ä¸ºç¬¬äºŒä¸ªå‚æ•°è®¾ç½®æˆäº†<strong>container</strong>,æ‰€ä»¥å®ƒä¼šåŠ è½½<strong>container</strong>ï¼ˆæ­¤æ—¶ä¸º<em>ViewPager</em>ï¼‰ä½œä¸ºæ ¹å¸ƒå±€ï¼Œä¸€å±‚å±‚å¾€åº•éƒ¨æŸå¤„å°±é™·å…¥æ­»å¾ªç¯ï¼Œæœ€ç»ˆå´©æºƒã€‚<br>æ‰€ä»¥ç¬¬äºŒä¸ªå‚æ•°åº”æ”¹ä¸ºnullï¼Œå³<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">return inflater.inflate(R.layout.content_pager,null);</span><br></pre></td></tr></table></figure></p>
<p>è‡³äºå“ªé‡Œé™·å…¥äº†æ­»å¾ªç¯ï¼Œä¸ºä»€ä¹ˆé™·å…¥äº†ï¼Œæˆ‘å°šä¸”è¿˜æ²¡æå‡ºæ¥ï¼Œä½†æ˜¯æ˜¯æ¶‰åŠViewRootçš„å±•ç¤ºå’Œçº¿ç¨‹ä¹‹é—´çš„è½¬æ¢ã€‚æ‰€ä»¥ä¹Ÿæ˜¯å¯»æ±‚ä¸ªå¸®åŠ©ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[java-Setå°ç»“]]></title>
      <url>http://wincber.com/2017/03/18/java-Set%E5%B0%8F%E7%BB%93/</url>
      <content type="html"><![CDATA[<h1 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h1><p>Setä¹Ÿæ˜¯ç»§æ‰¿è‡ªCollectionçš„æ¥å£ï¼Œä¸Listä¸åŒçš„æ˜¯ä»–ä¸å…è®¸æœ‰é‡å¤çš„å…ƒç´ å­˜åœ¨ï¼Œå¹¶å…è®¸å­˜å‚¨nullå…ƒç´ ï¼ˆæœ€å¤šä¸€ä¸ªï¼‰ã€‚å®ƒçš„APIä¸»è¦æœ‰<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">int size();         è¿”å›Setçš„å¤§å°</span><br><span class="line">boolean empty();    è¿”å›æ˜¯å¦ä¸ºç©º</span><br><span class="line">boolean contains(Object o);     æ˜¯å¦åŒ…å«å¯¹è±¡o</span><br><span class="line">Iterator&lt;E&gt; iterator();     è¿”å›æ­¤é›†åˆçš„è¿­ä»£å™¨</span><br><span class="line">&lt;T&gt;T[] toArray(T[] a);      è½¬åŒ–ä¸ºæ•°ç»„</span><br><span class="line">boolean add(Object o);      æ·»åŠ å¯¹è±¡o</span><br><span class="line">boolean remove(Object o);   ç§»é™¤å¯¹è±¡o</span><br><span class="line">boolean containsAll(Collection&lt;?&gt; c);       æ˜¯å¦åŒ…å«cé›†åˆ</span><br><span class="line">boolean addAll(Collection&lt;? extends E&gt; c);  æ·»åŠ cåˆ°æ­¤setä¸­</span><br><span class="line">boolean retainAll(Collection&lt;?&gt; c);     ä¿ç•™c ç§»é™¤cä»¥å¤–çš„å…ƒç´ </span><br><span class="line">boolean removeAll(Collection&lt;?&gt; c);     ç§»é™¤setä¸­çš„cé›†åˆ</span><br><span class="line">void clear();   æ¸…ç©ºé›†åˆ</span><br><span class="line">boolean equals(Object o);       ä¸oæ˜¯å¦ç›¸ç­‰</span><br><span class="line">int hashCode();     è¿”å›hashCode</span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<h2 id="AbstractSet"><a href="#AbstractSet" class="headerlink" title="AbstractSet"></a>AbstractSet</h2><p>AbstractSetå®ç°äº†Setä¸­çš„ä¸»è¦æ–¹æ³•ï¼Œä½œä¸ºæŠ½è±¡ç±»ä¸ºä¸‹é¢çš„ç±»åšåŸºç±»ã€‚å®ƒçš„æ–¹æ³•ä¸»è¦æœ‰<br>å®ç°æ–¹æ³•æœ‰:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">boolean equals(Object o);   æ¯”è¾ƒä¸¤è€…æ˜¯å¦ç›¸ç­‰ã€‚æ¯”è¾ƒè¿‡ç¨‹oçš„ç±»çš„ç±»å‹ï¼Œoçš„sizeï¼Œoçš„å†…å®¹ä¸æœ¬setæ˜¯å¦ç›¸åŒ</span><br><span class="line">int hashCode();    è¿”å›hashCodeï¼Œä¸€ä¸ªsetçš„hashCodeç­‰äºæ‰€æœ‰å…ƒç´ çš„hashCodeä¹‹å’Œ</span><br><span class="line">boolean removeAll(Collection&lt;?&gt; c)  ç§»é™¤cã€‚å…ˆè¦æ¯”è¾ƒsizeçš„å¤§å°ï¼Œåœ¨é€šè¿‡è¿­ä»£å™¨åˆ é™¤å…ƒç´ ã€‚</span><br></pre></td></tr></table></figure></p>
<h3 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet"></a>HashSet</h3><p>HashSetç»§æ‰¿è‡ªAbstractSet,å®ƒçš„å†…éƒ¨å…¶å®æ˜¯HashMap<br>å®ƒçš„é‡è¦å˜é‡:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">private transient HashMap&lt;E,Object&gt; map;    HashSetå†…éƒ¨å…¶å®æ˜¯é€šè¿‡HashMapæ¥æ“ä½œ</span><br><span class="line">private static final Object PRESENT = new Object();</span><br></pre></td></tr></table></figure></p>
<p>æ„é€ æ–¹æ³•:<br>    public HashSet(){map = new HashMap&lt;&gt;();}<br>    public HashSet(Collection&lt;? extends E&gt; c) {map = new HashMap&lt;&gt;(Math.max((int)(c.size()/0.75f),16))}<br>    public HashSet(int initialCapacity,int loadFactor){map = new HashMap&lt;&gt;(initialCapacity,loadFactor);}<br>    public HashSet(int initialCapacity){map = new HashMap&lt;&gt;(initialCapacity);}<br>è€ŒSetæ¥å£çš„æ–¹æ³•çš„å®ç°éƒ½æ˜¯å¯¹mapçš„æ“ä½œã€‚</p>
<h3 id="TreeSet"><a href="#TreeSet" class="headerlink" title="TreeSet"></a>TreeSet</h3><p>åŒæ ·ï¼ŒTreeSetå†…éƒ¨æ–¹æ³•ä¹Ÿæ˜¯å¯¹Mapæ¥å£çš„APIè¿›è¡Œäº†å®ç°ï¼Œè€Œå†…éƒ¨å®ç°çš„è¿‡ç¨‹ä¹Ÿæ˜¯é€šè¿‡NavigableTreeçš„æ“ä½œä¸HashSetçš„æ–¹æ³•ç›¸ä¼¼,ä½†æ˜¯ä»–ä¹Ÿæœ‰è®¸å¤šè‡ªå·±çš„æ–¹æ³•ï¼Œæœ‰ç€Treeç‰¹ç‚¹çš„æ–¹æ³•</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ã€ŠSpring3.xä¼ä¸šåº”ç”¨åŠå¼€å‘å®æˆ˜ã€‹å­¦ä¹ ï¼šJavaåå°„çŸ¥è¯†(ä¸€)]]></title>
      <url>http://wincber.com/2017/03/15/Spring-%E5%AD%A6%E4%B9%A0%EF%BC%9AJava-%E5%8F%8D%E5%B0%84%E7%9F%A5%E8%AF%86-%E4%B8%80/</url>
      <content type="html"><![CDATA[<p>å­¦ä¹ Springçš„Iocï¼ˆåè½¬æ§åˆ¶ï¼‰æ—¶è¦å…ˆäº†è§£ä¸€äº›javaçš„åå°„çš„åŸºç¡€çŸ¥è¯†ã€‚ä»Šå¤©çœ‹äº†ä¸€éƒ¨åˆ†ï¼Œè¿™é‡Œåšä¸ªæ€»ç»“ã€‚<a id="more"></a><br>åå°„æ—¶é€šè¿‡å¯¹è±¡è·å–æ‰€å±ç±»Classçš„ç»“æ„ä¿¡æ¯ï¼Œä»è€Œè¯¾ä¸€ç¨‹åºåŒ–æ–¹å¼æ“ä½œClasså¯¹è±¡ã€‚å…·ä½“ä½œç”¨è¿˜æ˜¯ç¨‹åºä»£ç å’Œé…ç½®æ–‡ä»¶çš„åˆ†ç¦»å§ï¼ˆè™½ç„¶ç›®å‰è‡ªå·±è¿˜æ²¡æœ‰ä½“ä¼šå‡ºæ¥ï¼‰ã€‚<br>ä¸»è¦æ—¶æµ‹è¯•äº†åº”ç”¨åˆ°äº†åå°„çš„ä¸€ä¸ªä¾‹å­<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">public class ReflectTest &#123;</span><br><span class="line">    public static Car initByDefaultConst() throws  Throwable&#123;</span><br><span class="line">        //ç±»è£…è½½å™¨ClassLoaderè·å–Carç±»å¯¹è±¡</span><br><span class="line">        ClassLoader loader = Thread.currentThread().getContextClassLoader();</span><br><span class="line">        Class clazz = loader.loadClass(&quot;com.wincber.SpringIoc.Car&quot;);</span><br><span class="line"></span><br><span class="line">        //è·å–ç´¯çš„é»˜è®¤æ„é€ å™¨å¯¹è±¡å¹¶é€šè¿‡å®ƒå®ä¾‹åŒ–å¯¹è±¡ã€‚</span><br><span class="line">        Constructor constructor = clazz.getDeclaredConstructor((Class[])null);</span><br><span class="line">        Car car = (Car) constructor.newInstance();  //newInstance ä½œç”¨ç›¸å½“äºnew XX</span><br><span class="line"></span><br><span class="line">        //é€šè¿‡åå°„æ–¹æ³•è®¾ç½®å±æ€§</span><br><span class="line"></span><br><span class="line">        Method setBrand = clazz.getMethod(&quot;setBrand&quot;,String.class);</span><br><span class="line">        setBrand.invoke(car,&quot;åŠ³æ–¯è±æ–¯&quot;);</span><br><span class="line">        Method setColor = clazz.getMethod(&quot;setColor&quot;,String.class);</span><br><span class="line">        setColor.invoke(car,&quot;çº¢è‰²&quot;);</span><br><span class="line">        Method setMaxSpeed = clazz.getMethod(&quot;setMaxSpeed&quot;,int.class);</span><br><span class="line">        setMaxSpeed.invoke(car,100);</span><br><span class="line">        return car;</span><br><span class="line">    &#125;</span><br><span class="line">    public static void main(String[] args) throws Throwable&#123;</span><br><span class="line">       Car car = initByDefaultConst();</span><br><span class="line">       car.introduce();</span><br><span class="line">       ClassLoader loader = Thread.currentThread().getContextClassLoader();</span><br><span class="line">       System.out.println(&quot;current loader &quot;+ loader);</span><br><span class="line">       System.out.println(&quot;parent loader &quot;+ loader.getParent());</span><br><span class="line">       System.out.println(&quot;grandParent loader &quot;+ loader.getParent().getParent());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¿˜æœ‰å°±æ˜¯ç±»è£…è½½å™¨ClassLoaderè¿™ä¸€èŠ‚çš„ä»‹ç»é‡Œçš„ä¸€äº›çŸ¥è¯†ï¼š<br>ç±»è£…è½½å™¨æŠŠä¸€ä¸ªç±»è£…å…¥JVMçš„è¿‡ç¨‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.è£…è½½ï¼šæŸ¥æ‰¾å’Œå¯¼å…¥Classæ–‡ä»¶ã€‚</span><br><span class="line">2.é“¾æ¥ï¼šæ‰§è¡Œæ ¡éªŒï¼Œå‡†å¤‡å’Œè§£ææ­¥éª¤ï¼ˆå¯é€‰ï¼‰</span><br><span class="line">    a.æ ¡éªŒï¼šæ£€æŸ¥è½½å…¥Classæ–‡ä»¶æ•°æ®çš„æ­£ç¡®æ€§</span><br><span class="line">    b.å‡†å¤‡: ç»™ç±»çš„é™æ€å˜é‡åˆ†é…å­˜å‚¨ç©ºé—´</span><br><span class="line">    c.è§£æ: å°†ç¬¦å·å¼•ç”¨è½¬æˆç›´æ¥ä»¥ç”¨</span><br><span class="line">3.åˆå§‹åŒ–: å¯¹ç±»çš„é™æ€å˜é‡ï¼Œé™æ€ä»£ç å—æ‰§è¡Œåˆå§‹åŒ–å·¥ä½œã€‚</span><br></pre></td></tr></table></figure></p>
<p>å…¶æ¬¡è¿˜ä»‹ç»äº†ä¸‰ä¸ªä¸»è¦çš„ClassLoader: æ ¹è£…è½½å™¨ï¼ŒExtClassLoader,AppClassLoaderï¼ŒæŒ¨ä¸ªç»§æ‰¿ä¸‹æ¥çš„ã€‚å­˜åœ¨è¿™æ ·çš„æœºåˆ¶ä¹Ÿæ˜¯å› ä¸ºJVMè£…è½½æ—¶ä½¿ç”¨â€œå…¨ç›˜è´Ÿè´£å§”æ‰˜æœºåˆ¶â€(æ€»æ˜¯å…ˆå§”æ‰˜çˆ¶è£…è½½å™¨å¯»æ‰¾ç›®æ ‡ç±»)ï¼Œä½çš„æ—¶é¿å…ç±»ä¼¼äºæ¶æ„åŸºç¡€ç±»è£…è½½åˆ°JVMå‘ç”Ÿçš„é”™è¯¯ã€‚<br>æœ€åæ”¾ä¸ªå›¾ï¼Œjavaçš„å†…å­˜æ¨¡å‹ï¼š</p>
<p><a href="http://oczm2hjoz.bkt.clouddn.com/image/jpg/java_reflect.jpg" target="_blank" rel="noopener">!å†…å­˜æ¨¡å‹</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[RxAndroid åˆè¯•]]></title>
      <url>http://wincber.com/2017/03/12/RxAndroid-%E5%88%9D%E8%AF%95/</url>
      <content type="html"><![CDATA[<p>RxJavaå’ŒRxAndroid æ˜¯ReactiveXçš„javaå®ç°ç‰ˆï¼Œå…¶å®æ˜¯å¼‚æ­¥æ“ä½œæ¡†æ¶ï¼Œæ˜¯ä¸€ç§è§‚å¯Ÿè€…æ¨¡å¼å®ç°çš„æ¡†æ¶ã€‚ååˆ†çš„ç®€æ´ååˆ†æœ‰å¿…è¦äº†è§£å­¦ä¹ ä¸€ä¸‹ã€‚æ‰€ä»¥æ˜¨å¤©å°±çœ‹äº†åŸºæœ¬çš„ç”¨æ³•å¹¶ç…§ç€å†™äº†ä¸ªdemoã€‚æŒæ¡ï¼Ÿä¸å­˜åœ¨çš„ï¼ŒçŸ¥è¯†ç®€å•çŸ¥é“æ€ä¹ˆç”¨äº†ã€‚<a id="more"></a></p>
<h2 id="è§‚å¯Ÿè€…æ¨¡å¼å’ŒRxJava"><a href="#è§‚å¯Ÿè€…æ¨¡å¼å’ŒRxJava" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼å’ŒRxJava"></a>è§‚å¯Ÿè€…æ¨¡å¼å’ŒRxJava</h2><p>å…‰è¯´è¿™é‡Œä½“ç°çš„è§‚å¯Ÿè€…æ¨¡å¼Observableè¢«è§‚å¯Ÿè€…ï¼ŒObserverè§‚å¯Ÿè€…ï¼Œè§‚å¯Ÿè€…å¯¹è¢«è§‚å¯Ÿè€…çš„æ—¶é—´å˜åŒ–åšå‡ºååº”ï¼Œå°±åƒViewå’ŒOnClickedListenerä¸€æ ·ï¼Œå½“æœ‰OnClickäº‹ä»¶å‘ç”Ÿåœ¨Viewä¸Šæ—¶,OnClickedListneræ‰§è¡Œå“åº”å‡½æ•°ã€‚<br>è€Œé™¤äº†Observerå¤–ï¼Œè¿˜æœ‰Subscriberï¼Œæ˜¯å®ƒçš„ä¸€ä¸ªæ‰©å±•ç±»ï¼Œä½¿ç”¨æ–¹æ³•åŸºæœ¬ç›¸åŒã€‚<br>è€ŒObserveré€šè¿‡subscribe()æ–¹æ³•å®ç°è®¢é˜…ï¼ŒObservable.subscribe(Observer/Subscriber)<br>è€Œæ–°å»ºçš„Observerå¯¹è±¡ä¸­è¦å®ç°ä¸‰ä¸ªå›è°ƒæ–¹æ³•onNext(T t),onError(Exception e),onComplete();<br>è¿˜æœ‰å…¶ä»–çš„ä¸€äº›æ“ä½œç¬¦ï¼ˆå¯ä»¥çœ‹ä½œæ˜¯å®ƒçš„å…¶ä»–ä¸€äº›æ–¹æ³•ï¼‰ï¼Œéƒ½æ˜¯ç”¨æ¥åˆå§‹åŒ–æ•°æ®ï¼Œä½¿å‘é€åˆ°è§‚å¯Ÿè€…ï¼ˆè®¢é˜…è€…ï¼‰çš„æ•°æ®æ˜¯æˆ‘ä»¬éœ€è¦çš„ã€‚<br>æœ‰ä¸€ä¸ªè¦è®°ä¸€ä¸‹çš„æ˜¯è¿™ä¸ªdemoä»£ç é‡Œæ‰€ç”¨åˆ°çš„subscribeOn(Schedules.newThread()) å³æ¶ˆè´¹ï¼ˆObservableçš„callæ–¹æ³•ï¼‰äº‹ä»¶åœ¨ä¸€ä¸ªæ–°çš„çº¿ç¨‹ä¸­ã€‚ä»¥åŠobserveOn(AndroidSchedules.mainThread()) è®¢é˜…äº‹ä»¶(subscriberçš„ä¸€ç³»åˆ—å›è°ƒæ–¹æ³•)å‘ç”Ÿåœ¨åº”ç”¨çš„ä¸»çº¿ç¨‹ä¸­å³UIçº¿ç¨‹ä¸­ã€‚<br>ä¸€ä¸‹æ˜¯åˆè¯•çš„ä»£ç ï¼š</p>
<h2 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h2><p>æœ€é‡è¦çš„ä¸¤ä¸ªä¸œè¥¿å°±æ˜¯Observables(è§‚å¯Ÿè€…)å’ŒSubscribers(è®¢é˜…è€…)ï¼Œå…³ç³»å°±åƒOnClickedListenerå’ŒButtonçš„å…³ç³»ï¼Œè§‚å¯Ÿè€…å‘é€äº‹ä»¶ï¼Œè®¢é˜…è€…æ¥å—å¹¶å¤„ç†äº‹ä»¶<br>RxActivity<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">import rx.Observable;</span><br><span class="line">import rx.Subscriber;</span><br><span class="line">import rx.Subscription;</span><br><span class="line">import rx.android.schedulers.AndroidSchedulers;</span><br><span class="line">import rx.schedulers.Schedulers;</span><br><span class="line"></span><br><span class="line">public class RxActivity extends BaseActivity&#123;</span><br><span class="line">    private EditText input;</span><br><span class="line">    private Button check;</span><br><span class="line">    private TextView content;</span><br><span class="line">    private Subscription subscription;</span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_rx);</span><br><span class="line">        initView();</span><br><span class="line">        initEvent();</span><br><span class="line">    &#125;</span><br><span class="line">    void initView()&#123;</span><br><span class="line">        input = findView(R.id.et_input_rx);</span><br><span class="line">        check = findView(R.id.bt_check_rx);</span><br><span class="line">        content = findView(R.id.tv_content_rx);</span><br><span class="line">    &#125;</span><br><span class="line">    void initEvent()&#123;</span><br><span class="line">        check.setOnClickListener(new View.OnClickListener() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onClick(View v) &#123;</span><br><span class="line">                observableAsNormal(input.getText().toString().trim());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    //rxjavaçš„å…·ä½“å®ç°è¿‡ç¨‹</span><br><span class="line">    private void observableAsNormal(final String city)&#123;</span><br><span class="line">        subscription = Observable.create(new Observable.OnSubscribe&lt;Weather&gt;() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void call(Subscriber&lt;? super Weather&gt; subscriber) &#123;</span><br><span class="line">                if(subscriber.isUnsubscribed()) return;</span><br><span class="line">                try &#123;</span><br><span class="line">                    String weatherInfo = WeatherConstant.getWeather(WeatherConstant.getWeatherApiUrl(city));    //è·å–å¤©æ°”ä¿¡æ¯XML</span><br><span class="line">                    Weather weather = WeatherConstant.parseXNLWithPull(weatherInfo);    //pullæ–¹å¼è§£æå¤©æ°”ä¿¡æ¯XML</span><br><span class="line">                    subscriber.onNext(weather);</span><br><span class="line">                    subscriber.onCompleted();</span><br><span class="line">                &#125;catch (Exception e)&#123;</span><br><span class="line">                    subscriber.onError(e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).subscribeOn(Schedulers.newThread())  //æ¶ˆè´¹äº‹ä»¶åœ¨æ–°å¼€å¯çš„ä¸€ä¸ªçº¿ç¨‹ä¸­ã€‚</span><br><span class="line">                .observeOn(AndroidSchedulers.mainThread())  //è§‚å¯Ÿäº‹ä»¶åœ¨ä¸»çº¿ç¨‹ä¸­ï¼ˆUIçº¿ç¨‹ï¼‰</span><br><span class="line">                .subscribe(new Subscriber&lt;Weather&gt;() &#123;</span><br><span class="line">                    @Override</span><br><span class="line">                    public void onCompleted() &#123;</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    @Override</span><br><span class="line">                    public void onError(Throwable e) &#123;</span><br><span class="line">                        Toast.makeText(RxActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    @Override</span><br><span class="line">                    public void onNext(Weather weather) &#123;</span><br><span class="line">                    content.setText(weather.toString());</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onDestroy() &#123;</span><br><span class="line">        if(subscription != null &amp;&amp; !subscription.isUnsubscribed())</span><br><span class="line">            subscription.unsubscribe();</span><br><span class="line">        super.onDestroy();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Weatherçš„è§£æï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">public class WeatherConstant &#123;</span><br><span class="line">    private static  String  WEATHER_API_URL=&quot;http://php.weather.sina.com.cn/xml.php?city=%s&amp;password=DJOYnieT8234jlsK&amp;day=0&quot;;</span><br><span class="line">    private static OkHttpClient client = new OkHttpClient();</span><br><span class="line">    //è·å–æŸ¥è¯¢åŸå¸‚çš„å¤©æ°”api</span><br><span class="line">    public static String getWeatherApiUrl(String city)&#123;</span><br><span class="line">        String urlString = null;</span><br><span class="line">        try &#123;</span><br><span class="line">             urlString = String.format(WEATHER_API_URL, URLEncoder.encode(city, &quot;GBK&quot;));    // è¾“å…¥ä¸ºæ±‰å­—ï¼ŒGBKç¼–ç æ ¼å¼åŒ–å¦‚APIä¸­</span><br><span class="line">        &#125; catch (UnsupportedEncodingException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        return urlString;</span><br><span class="line">    &#125;</span><br><span class="line">    //okhttpå‘é€getè¯·æ±‚</span><br><span class="line">    public static String getWeather(final String url)&#123;</span><br><span class="line">        final Request request = new Request.Builder().get().url(url).build();</span><br><span class="line">        StringBuffer buffer = new StringBuffer();</span><br><span class="line">        try &#123;</span><br><span class="line">            Response response = client.newCall(request).execute();</span><br><span class="line">            if(response.isSuccessful())&#123;</span><br><span class="line">                buffer.append(response.body().string()) ;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        return buffer.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    //pullæ–¹å¼è§£æå¤©æ°”XMLä¿¡æ¯</span><br><span class="line"></span><br><span class="line">    public static Weather parseXNLWithPull(String xmlData)&#123;</span><br><span class="line">        XmlPullParser xmlPullParser = Xml.newPullParser();</span><br><span class="line">        StringReader reader = new StringReader(xmlData);</span><br><span class="line">        Weather weather = null;</span><br><span class="line">        try &#123;</span><br><span class="line">            xmlPullParser.setInput(reader);</span><br><span class="line">            int eventType = xmlPullParser.getEventType();</span><br><span class="line">            while(eventType != XmlPullParser.END_DOCUMENT)&#123;</span><br><span class="line">                switch (eventType)&#123;</span><br><span class="line">                    case XmlPullParser.START_DOCUMENT:</span><br><span class="line">                        weather = new Weather();</span><br><span class="line">                        break;</span><br><span class="line">                    case XmlPullParser.START_TAG:&#123;</span><br><span class="line">                        String nodeName = xmlPullParser.getName();</span><br><span class="line">                        if(&quot;city&quot; .equals(nodeName))&#123;</span><br><span class="line">                            weather.setCity(xmlPullParser.nextText());</span><br><span class="line">                        &#125;else if(&quot;savedate_weather&quot; .equals(nodeName))&#123;</span><br><span class="line">                            weather.setDate(xmlPullParser.nextText());</span><br><span class="line">                        &#125; else if(&quot;temperature1&quot;.equals(nodeName)) &#123;</span><br><span class="line">                            weather.setTemperature( xmlPullParser.nextText());</span><br><span class="line">                        &#125; else if(&quot;temperature2&quot;.equals(nodeName))&#123;</span><br><span class="line">                            weather.setTemperature(&quot;--&quot; +  xmlPullParser.nextText());</span><br><span class="line">                        &#125; else if(&quot;direction1&quot;.equals(nodeName))&#123;</span><br><span class="line">                            weather.setDirection(xmlPullParser.nextText());</span><br><span class="line">                        &#125; else if(&quot;power1&quot;.equals(nodeName))&#123;</span><br><span class="line">                            weather.setPower( xmlPullParser.nextText());</span><br><span class="line">                        &#125; else if(&quot;status1&quot;.equals(nodeName))&#123;</span><br><span class="line">                            weather.setStatus( xmlPullParser.nextText());</span><br><span class="line">                        &#125;</span><br><span class="line">                        break;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                eventType = xmlPullParser.next();</span><br><span class="line">            &#125;</span><br><span class="line">            return weather;</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;finally &#123;</span><br><span class="line">            reader.close();</span><br><span class="line">        &#125;</span><br><span class="line">        return null;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>RxJava&amp;RxAndroidæ˜¯éå¸¸å¼ºå¤§çš„æ¡†æ¶ï¼Œå¾ˆæœ‰å¿…è¦å­¦ä¼šä½¿ç”¨ï¼Œä»Šå¤©åªæ˜¯ä½¿ç”¨äº†æœ€åˆçº§çš„createå’Œsubscribeï¼Œå®ƒè¿˜æœ‰è®¸å¤šæ“ä½œç¬¦ï¼Œä»¥åŠlambdaå†™æ³•æ¥ä¸‹æ¥éƒ½è¦å­¦ä¹ ä¸€ä¸‹ã€‚</p>
<p>ä¸»è¦æ˜¯çœ‹è¿™ä¸¤ç¯‡æ–‡ç« æ¥è®¤è¯†å’Œç»ƒä¹ çš„ï¼š</p>
<p><a href="http://wuxiaolong.me/2016/01/18/rxjava/" target="_blank" rel="noopener">http://wuxiaolong.me/2016/01/18/rxjava/</a><br><a href="http://blog.csdn.net/job_hesc/article/details/45798307" target="_blank" rel="noopener">http://blog.csdn.net/job_hesc/article/details/45798307</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[3.7-LeetCode-åˆ·é¢˜]]></title>
      <url>http://wincber.com/2017/03/07/3-7-LeetCode-%E5%88%B7%E9%A2%98/</url>
      <content type="html"><![CDATA[<h2 id="ZigZagConversation"><a href="#ZigZagConversation" class="headerlink" title="ZigZagConversation"></a>ZigZagConversation</h2><p><a href="https://leetcode.com/problems/zigzag-conversion/?tab=Description" target="_blank" rel="noopener">https://leetcode.com/problems/zigzag-conversion/?tab=Description</a><br>è¿™ä¸ªé¢˜é¦–å…ˆæ˜ç™½ä»€ä¹ˆæ˜¯ZigZag patternæ‰èƒ½åšï¼Œå®ƒæ˜¯è¿™æ ·çš„æ ¼å¼<br>/*n=numRows</p>
<pre><code>Î”=2n-2    1                           2n-1                         4n-3
Î”=        2                     2n-2  2n                    4n-4   4n-2
Î”=        3               2n-3        2n+1              4n-5       .
Î”=        .           .               .               .            .
Î”=        .       n+2                 .           3n               .
Î”=        n-1 n+1                     3n-3    3n-1                 5n-5
Î”=2n-2    n                           3n-2                         5n-4
</code></pre><p>*/<br><a id="more"></a><br>è¿™æ ·å°±ä¸€ç›®äº†ç„¶äº†ï¼Œéœ€è¦å¾ªç¯ç€ä»0-(numRows-1),å†è¿”å›è‡³0ï¼Œè¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œç›´æ¥ä»£ç ï¼š</p>
<pre><code>public String convert(String s, int numRows) {
    StringBuilder[] sbs = new StringBuilder[numRows];
    for(int i = 0;i &lt; numRows;i++)
        sbs[i] = new StringBuilder();
    int len = s.length();
    int temp = 0;
    if(numRows == 1)
    sbs[0].append(s);
    else
    for(int i = 0,j = 0;i &lt; len;i++){
       if(j == numRows - 1) temp = -1;
       if(j == 0 &amp;&amp; i != 0 ) temp = 1;
       j += temp;
       sbs[j].append(s.charAt(i));
    }
    for(int i = 0;i &lt; numRows;i++){
        sbs[0].append(sbs[i]);
    }
    return sbs[0].toString();
}
</code></pre><p>éœ€è¦æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼Œåœ¨0å’ŒnumRows-1å¤„çš„è½¬æŠ˜ï¼Œè¿™ä¸ªé¢˜ä¹Ÿè®©æˆ‘æµ‹è¯•å¾—åˆ°äº†StringBuilderç¡®å®è¦æ¯”StringBufferï¼Œå‰è€…61msï¼Œåè€…67msã€‚</p>
<h2 id="Keyboard-Row"><a href="#Keyboard-Row" class="headerlink" title="Keyboard Row"></a>Keyboard Row</h2><p><a href="https://leetcode.com/problems/keyboard-row/?tab=Description" target="_blank" rel="noopener">https://leetcode.com/problems/keyboard-row/?tab=Description</a><br>è¿™ä¸ªé¢˜ä¹Ÿæ˜¯ç®€å•çº§åˆ«ï¼Œé€šè¿‡ç‡ä¹Ÿæ˜¯é«˜ï¼Œæœ‰å¤šç§æ–¹æ³•ã€‚<br>ç¬¬ä¸€ç§æ˜¯æˆ‘è‡ªå·±å†™çš„ï¼Œæ—¶é—´æ˜¯9ms<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">public String[] findWords(String[] words) &#123;</span><br><span class="line">       String s1 = &quot;QWERTYUIOP&quot;;</span><br><span class="line">       String s2 = &quot;ASDFGHJKL&quot;;</span><br><span class="line">       String s3 = &quot;ZXCVBNM&quot;;</span><br><span class="line">       int w1 = 0,w2 = 0,w3 = 0,j = 0;</span><br><span class="line">       HashMap&lt;Character,Integer&gt; map1 = new HashMap&lt;Character,Integer&gt;();</span><br><span class="line">       for(int i = 0;i &lt; s1.length();i++)</span><br><span class="line">           map1.put(s1.charAt(i),i);</span><br><span class="line">       HashMap&lt;Character,Integer&gt; map2 = new HashMap&lt;Character,Integer&gt;();</span><br><span class="line">       for(int i = 0;i &lt; s2.length();i++)</span><br><span class="line">           map2.put(s2.charAt(i),i);</span><br><span class="line">       HashMap&lt;Character,Integer&gt; map3 = new HashMap&lt;Character,Integer&gt;(); //è®²é”®ç›˜ä¸Šçš„å­—ç¬¦è¡Œæ”¾å…¥mapä¸­</span><br><span class="line">       for(int i = 0;i &lt; s3.length();i++)</span><br><span class="line">           map3.put(s3.charAt(i),i);</span><br><span class="line">       List&lt;String&gt; list = new ArrayList&lt;String&gt;();    //listæ¥æ”¾ç¬¦åˆæ¡ä»¶çš„String</span><br><span class="line">       for(int i = 0;i &lt; words.length;i++)&#123;</span><br><span class="line">           w1 = 0;w2 = 0;w3 = 0;</span><br><span class="line">           for(j = 0;j &lt; words[i].length();j++)&#123;</span><br><span class="line">               if(map1.containsKey(words[i].toUpperCase().charAt(j)))</span><br><span class="line">                   w1++;</span><br><span class="line">               else if(map2.containsKey(words[i].toUpperCase().charAt(j)))</span><br><span class="line">                   w2++;</span><br><span class="line">               else</span><br><span class="line">                   w3++;</span><br><span class="line">           &#125;   //æ¯”è¾ƒå®ƒç›‘æµ‹åˆ°çš„æ¬¡æ•°å’Œå½“å‰å­—ç¬¦ä¸²é•¿åº¦æ¥çœ‹æ˜¯ä¸æ˜¯å…¨éƒ½åœ¨è¯¥å­—ç¬¦ä¸²å†…ã€‚</span><br><span class="line">           if(w1 == j || w2 == j || w3 == j) list.add(words[i]);</span><br><span class="line">       &#125;</span><br><span class="line">       return (String [])list.toArray(new String[list.size()]);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<p>æ³¨æ„ç‚¹åœ¨äºæŸ¥æ‰¾æ—¶ç”¨å¤§å†™æŸ¥æ‰¾</p>
<p>ç¬¬äºŒç§æ˜¯solutionä¸­çš„ä¸€ä¸ª<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public String[] findWords(String[] words) &#123;</span><br><span class="line">    String[] strs = &#123;&quot;QWERTYUIOP&quot;,&quot;ASDFGHJKL&quot;,&quot;ZXCVBNM&quot;&#125;;</span><br><span class="line">    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();</span><br><span class="line">    for(int i = 0; i&lt;strs.length; i++)&#123;</span><br><span class="line">        for(char c: strs[i].toCharArray())&#123;</span><br><span class="line">            map.put(c, i);          //ä¸åŒä¹‹å¤„åœ¨äºæ”¾å…¥é”®å€¼å¯¹æ—¶æ”¾å…¥çš„æ˜¯å­—ç¬¦å’Œå½“å‰æ‰€åœ¨è¡Œä½œå€¼ã€‚</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;String&gt; res = new LinkedList&lt;&gt;();</span><br><span class="line">    for(String w: words)&#123;</span><br><span class="line">        if(w.equals(&quot;&quot;)) continue;</span><br><span class="line">        int index = map.get(w.toUpperCase().charAt(0));</span><br><span class="line">        for(char c: w.toUpperCase().toCharArray())&#123;</span><br><span class="line">            if(map.get(c)!=index)&#123;      // æ¯”è¾ƒæ˜¯ä¸æ˜¯è¿˜åœ¨å½“å‰è¡Œ</span><br><span class="line">                index = -1;  </span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if(index!=-1) res.add(w);</span><br><span class="line">    &#125;</span><br><span class="line">    return res.toArray(new String[0]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<pre><code>è¿™ç§ç®—æ³•çš„ä¸€ä¸ªå·§å¦™åœ°ç‚¹å°±æ˜¯æ”¾å…¥é”®å€¼å¯¹æ—¶æ”¾è¿›çš„æ˜¯å­—ç¬¦å’Œå½“å‰æ‰€åœ¨çš„rowï¼Œæ¯”è¾ƒæ—¶ä¹Ÿæ˜¯å–å‡ºç¬¬ä¸€ä¸ªå­—ç¬¦çš„æ‰€åœ¨è¡Œè‹¥é‡åˆ°ä¸åŒè¡Œåˆ™æ ‡è®°å¹¶åœæ­¢ï¼Œè¿™æ ·èŠ‚çœäº†ç»§ç»­æœç´¢çš„æ—¶é—´ã€‚
</code></pre><p>ç¬¬ä¸‰ç§æ˜¯æœ€ç®€å•ï¼Œç”¨æ­£åˆ™ï¼ˆä½†æ˜¯æ•ˆç‡å¾ˆæ…¢ï¼Œä¸è¿‡æˆ‘ç«Ÿç„¶å½“æ—¶æƒ³éƒ½æ²¡æƒ³ï¼‰<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public String[] findWords(String[] words) &#123;</span><br><span class="line">       return Stream.of(words).filter(s -&gt; s.toLowerCase().matches(&quot;[qwertyuiop]*|[asdfghjkl]*|[zxcvbnm]*&quot;)).toArray(String[]::new);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<p>ç”¨æ‰äº†136ms</p>
<h2 id="Integer-Reverse"><a href="#Integer-Reverse" class="headerlink" title="Integer Reverse"></a>Integer Reverse</h2><p><a href="https://leetcode.com/problems/reverse-integer/?tab=Description" target="_blank" rel="noopener">https://leetcode.com/problems/reverse-integer/?tab=Description</a><br>è¿™é“é¢˜æ˜¯å¾ˆç®€å•çš„æ•°å­—åè½¬çš„ç®—æ³•ï¼Œä½†æ˜¯é€šè¿‡ç‡å¾ˆä½ä¹Ÿæ˜¯å› ä¸ºä¸€ä¸ªæ˜¯ç…§é¡¾åˆ°Integerçš„èŒƒå›´2^32-1 â€”â€” -2^32ï¼Œæ‰€ä»¥è‹¥å°†è½¬æ¢ç»“æœåˆšå¼€å§‹å°±å®šä¹‰ä¸ºintæ—¶æœ‰å¯èƒ½åœ¨è½¬æ¢è¿‡ç¨‹ä¸­ç”±äºè¾¾åˆ°äº†è¾¹ç•Œå†è¿ç®—æ—¶ä¼šä»å¦ä¸€è¾¹ç•Œå¤„å¼€å§‹ï¼Œæ‰€ä»¥å¼€å§‹æ—¶è¦å®šä¹‰æˆé•¿æ•´å‹ï¼Œlongï¼Œè¿”å›ç»“æœæ—¶åˆ¤æ–­æ˜¯å¦è¶…è¿‡è¾¹ç•Œå†³å®šæ˜¯å¦è¿”å›0ï¼Œæ­¤å¤–æ­£è´Ÿæ•°æ¨¡10ç»“æœåªæ˜¯ç¬¦å·ç›¸åã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public int reverse(int x) &#123;</span><br><span class="line">    long result = 0;</span><br><span class="line">    while(x != 0)&#123;</span><br><span class="line">        result = result * 10 + x%10;</span><br><span class="line">        x /= 10;</span><br><span class="line">    &#125;</span><br><span class="line">    return (result &gt; Integer.MAX_VALUE || result &lt; Integer.MIN_VALUE)?0:(int)result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Android MVP åˆè¯•]]></title>
      <url>http://wincber.com/2017/03/07/Android-MVP-%E5%88%9D%E8%AF%95/</url>
      <content type="html"><![CDATA[<p>å³å°†è¦åšå¾®ç¤¾åŒºçš„å¼€å‘ï¼Œç”¨å‹ç›Ÿçš„å¾®ç¤¾åŒºSDKå¼€å‘ï¼Œè¦ç”¨åˆ°MVPæ¶æ„,å°±å­¦ä¹ ä¸€ä¸‹MVPæ¶æ„ï¼Œçœ‹ç€å¼ å°é¾™çš„é‚£ä¸ªMVPçš„æ–‡ç« æ¥å­¦ç€å†™ä¸ªDemoã€‚<a id="more"></a></p>
<h1 id="MVPæ˜¯ä»€ä¹ˆ"><a href="#MVPæ˜¯ä»€ä¹ˆ" class="headerlink" title="MVPæ˜¯ä»€ä¹ˆ"></a>MVPæ˜¯ä»€ä¹ˆ</h1><p>å…ˆè¦çŸ¥é“MVPæ˜¯ä»€ä¹ˆ<br>Mâ€”â€”Model<br>Vâ€”â€”View<br>Pâ€”â€”presenter    </p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[java Map å°ç»“]]></title>
      <url>http://wincber.com/2017/03/06/java-Map-%E5%B0%8F%E7%BB%93/</url>
      <content type="html"><![CDATA[<p>Listä¹‹åå½“ç„¶æ˜¯Mapï¼Œå­¦ä¹ ç®—æ³•æ—¶ä¼šç»å¸¸ç”¨åˆ°HashMapï¼ŒHashTableä¹‹ç±»çš„ï¼Œè¿™éƒ½æ˜¯åŸºäºå®ç°Mapæ¥å£çš„ï¼ŒåŒ…æ‹¬Setä¹Ÿæ˜¯åŸºäºMapæ¥å®ç°çš„ã€‚Mapæ˜¯å­˜å‚¨ç€é”®å€¼å¯¹çš„æ˜ å°„æ¥å£ï¼Œæºç å¼€å¤´ä¹Ÿè¯´æ˜å®ƒä¸èƒ½å­˜å‚¨é‡å¤çš„é”®å€¼å¯¹ï¼Œå¯ä»¥è¢«çœ‹ä½œä¸ºé”®å€¼å¯¹çš„Collectionã€‚<a id="more"></a><br>å…ˆçœ‹Map</p>
<h1 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h1><p>Mapä½œä¸ºä¸€ä¸ªæœ€åº•å±‚çš„å®ç°çš„æ˜ å°„æ¥å£ï¼Œå…¶API</p>
<pre><code>int size();    è¿”å›Mapçš„å¤§å°
boolean isEmpty()     æ­¤Mapæ˜¯å¦ä¸ºç©º
boolean containsKey(Object key)     æ˜¯å¦åŒ…å«é”®key
boolean containsValue(Object value)     æ˜¯å¦åŒ…å«å€¼value(å¯èƒ½æ˜¯å•ä¸ªæˆ–å¤šä¸ª)
V get(Object key)   è¿”å›keyæ‰€å¯¹åº”çš„å€¼value
V put(K key,V value)    æ”¾å…¥é”®å€¼å¯¹key-valueï¼ˆè‹¥æœ‰ï¼Œæ›¿æ¢æ—§çš„é”®å€¼å¯¹ï¼‰
V remove(Object key)    åˆ é™¤keyå¯¹åº”çš„é”®å€¼å¯¹
void putAll(Map&lt;? extends K,? extends V&gt; m)    å°†må¤åˆ¶è¿›Mapä¸­
void clear()    æ¸…ç©ºMap
Set&lt;K&gt; keySet()     è¿”å›é”®é›†çš„Seté›†åˆ
Collection&lt;V&gt;  values()     è¿”å›å€¼é›†çš„Collectioné›†åˆ
Set&lt;Map.Entry&lt;K,V&gt;&gt;  entrySet()    è¿”å›é”®å€¼å¯¹Entryé›†çš„Seté›†åˆ
boolean equals(Object o)    ä¸oæ˜¯å¦ç›¸ç­‰(è°ƒç”¨æ¯ä¸ªentryçš„equalsæ–¹æ³•)
int hashCode()  è¿”å›è¯¥mapçš„hashCodeï¼ˆæ¯ä¸ªentryçš„hashCodeçš„æ€»å’Œï¼‰
</code></pre><p>Entry<k,v>ä½œä¸ºä¸€ä¸ªå­˜å‚¨é”®å€¼å¯¹çš„å®ä½“ï¼Œå…¶å†…éƒ¨çš„APIä¸»è¦æ˜¯get/set key/value,equals,hashCode()(keyå’Œvalueçš„hashcodeå¼‚æˆ–å³ä¸ºentryçš„hashcode),ä»¥åŠå››ä¸ªé™æ€æ–¹æ³•ï¼ˆä»JDK1.8å‡ºç°ï¼‰ï¼Œåˆ†åˆ«æ˜¯</k,v></p>
<pre><code>comparingByKey();       æ ¹æ®keyæ¯”è¾ƒ
comparingByValue();     æ ¹æ®valueæ¯”è¾ƒ
comparingByKey(Comparator&lt;? extends K&gt; cmp);    æ ¹æ®keyæŒ‰æ¯”è¾ƒå™¨cmpæ¥æ¯”è¾ƒ
comparingByValue(Comparator&lt;? extends V&gt; cmp);  æ ¹æ®valueæŒ‰æ¯”è¾ƒå™¨cmpæ¥æ¯”è¾ƒ
</code></pre><p>å‡è¿”å›ä¸€ä¸ªåºåˆ—åŒ–çš„Comparatorã€‚<br>ä»¥åŠä¸€ç³»åˆ—çš„defaultçš„æ–¹æ³•å®ç°</p>
<h2 id="AbstarcMap"><a href="#AbstarcMap" class="headerlink" title="AbstarcMap"></a>AbstarcMap</h2><p>AbstractMapå®ç°äº†Mapæ¥å£ï¼Œå®šä¹‰äº†å†…éƒ¨å˜é‡ï¼ŒkeySet,valuesï¼Œä»¥åŠä¸€ä¸ªæŠ½è±¡æ–¹æ³•entrySet(),å¤§éƒ¨åˆ†æ“ä½œéƒ½æ˜¯åŸºäºå®ƒä»¬æ¥çš„</p>
<pre><code>int size() ; è¿”å›å¤§å°ï¼ˆè¿”å›çš„å®é™…æ˜¯entrySet().size()ï¼‰
boolean isEmpty();  æ˜¯å¦ä¸ºç©ºï¼ˆé€šè¿‡åˆ¤æ–­size()ï¼‰
boolean containsKey(Object key); boolean contansValue(Object value);V remove(Object key)  æ˜¯å¦åŒ…å«key/valueï¼Œåˆ é™¤keyå¯¹åº”çš„entry,ä¸‰ä¸ªæ–¹æ³•çš„å®ç°éƒ½æ˜¯é€šè¿‡è¿­ä»£å™¨iteratorè¿­ä»£entrySet.iterator()ï¼Œéå†æ¯ä¸ªå®ä½“è¿›è¡ŒæŸ¥è¯¢ã€‚ valueå’Œkeyå‡å¯ä»¥ä¸ºnull
V get(Object k) è¿”å›kå¯¹åº”çš„valueï¼ˆåŒæ ·åˆ©ç”¨entrySet.iterator()è¿­ä»£å™¨éå†è·å–ï¼‰   
V put(K key,V value)    ä¸æ”¯æŒï¼
ä»¥åŠputAll,clearéƒ½æ˜¯åˆ©ç”¨entrySet()
Set&lt;K&gt; keySet(); Collectio&lt;V&gt; values(); å°†keySet,valuesè¿›è¡Œå®ä¾‹åŒ–ï¼Œåˆ†åˆ«å®ä¾‹AbstractSet,AbstactCollection
ä»¥åŠå…¶ä»–Mapçš„API
å€¼å¾—ä¸€æçš„æ˜¯ toString()   ç”¨entrySet.iterator()éå†ï¼Œç”¨çš„æ˜¯StringBuilderå°†å­—ç¬¦ä¸²æ‰©å±•ï¼Œè¿”å›çš„æ ¼å¼æ˜¯{key1=value1, key2=value2}
protected Object clone()    å¤åˆ¶

å†…éƒ¨å®šä¹‰çš„ä¸€ä¸ªSimpleEntry
</code></pre><h3 id="HashMap"><a href="#HashMap" class="headerlink" title="HashMap"></a>HashMap</h3><p>HashMap ç›´æ¥ç»§æ‰¿è‡ªAbstractMap,æºç ä¸­ä¹Ÿè¯´äº†HashMapåŸºæœ¬å°±æ˜¯HashTableï¼Œæ˜¯ä¸ªæ•£åˆ—è¡¨ï¼Œå­˜å‚¨é”®å€¼å¯¹å‡ä¸æ˜¯æœ‰åºçš„ï¼Œé™¤äº†ä»–å¯ä»¥å…è®¸å­˜å‚¨nullçš„keyå’Œnullçš„valueï¼Œä¸”æ˜¯ä¸åŒæ­¥çš„ï¼ˆéçº¿ç¨‹å®‰å…¨ï¼‰ã€‚<br>å…¶é»˜è®¤åˆå§‹å®¹é‡ä¸º16ï¼Œé»˜è®¤åŠ è½½å› å­æ—¶0.75ã€‚ï¼ˆå®ƒå®é™…æ˜¯ç”±æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ç»„æˆï¼‰</p>
<p>å®ƒçš„å‡ ä¸ªé™æ€å…¨å±€å˜é‡<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">int DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4;      é»˜è®¤åˆè¯•å®¹é‡ä¸º16ï¼Œè‡ªå®šä¹‰æ—¶ä¹Ÿå¿…é¡»æ˜¯2çš„å¹‚</span><br><span class="line">int MAXNUM_CAPACITY = 1 &lt;&lt; 30   é»˜è®¤æœ€å¤§å®¹é‡æ˜¯1 &lt;&lt; 30ï¼Œä¹Ÿå¯ä»¥è‡ªå·±æŒ‡å®šï¼Œä½†å¿…é¡»&lt;= 1 &lt;&lt; 30</span><br><span class="line">int DEFAULT_LOAD_FACTOR = 0.75f     moreåŠ è½½å› å­ä¸º0.75</span><br><span class="line">int TREEIFY_THRESHOLD = 8   å®¹å™¨è¢«è½¬åŒ–ä¸ºæ ‘çš„æœ€å°æƒ…å†µ</span><br><span class="line">int UNTREEIFY_THRESHOLD = 6     æ ‘è½¬åŒ–ä¸ºbinsçš„å› å­æ•°</span><br><span class="line">int MIN_TREEIFY_CAPACITY = 64   å®¹å™¨å¯è½¬åŒ–ä¸ºæ ‘çŠ¶æ—¶è¡¨çš„æœ€å°å®¹é‡</span><br></pre></td></tr></table></figure></p>
<p>é™æ€æ–¹æ³•<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">int hash(Object key)&#123;</span><br><span class="line">    int h ;</span><br><span class="line">    return (key == null)?0:(h=key.hashCode()) ^ (h &gt;&gt;&gt; 16);</span><br><span class="line">&#125;    è®¡ç®—keyçš„hashCodeå¹¶æŠŠä»é«˜ä½çš„hashæ‰©å±•åˆ°ä½ä½çš„hash</span><br><span class="line"></span><br><span class="line">hashå‡½æ•°è¿”å›çš„hashå€¼ä¸å®¹é‡-1çš„ä¸è¿ç®—å¯å¾—åˆ°è¯¥ç»“ç‚¹å†mapï¼ˆæˆ–è€…è¯´tableï¼‰ä¸­çš„ä½ç½®ã€‚</span><br><span class="line"></span><br><span class="line">Class&lt;?&gt; comparableClassFor(Object x)   è¿”å›xçš„Class å¦‚æœä»–çš„ç»„æˆæ˜¯&quot;class C implenments Comparable&lt;C&gt;&quot; </span><br><span class="line">int compareComparables(Class&lt;?&gt; kc,Object k,Object x)   è¿”å›kä¸xçš„æ¯”è¾ƒå€¼å¦‚æœkæ˜¯kcç±»çš„è¯</span><br><span class="line">final int table tableSizeFor(int cap)   æ ¹æ®ç»™å®šçš„ç›®æ ‡capacityè¿”å›ä¸€ä¸ª2çš„å¹‚çš„sizeã€‚ï¼ˆè°ƒæ•´capacityï¼‰</span><br></pre></td></tr></table></figure></p>
<p>ä»–æœ‰å‡ ä¸ªé‡è¦çš„æˆå‘˜å˜é‡</p>
<pre><code>transident Node&lt;K,V&gt; table;     Nodeç±»å®é™…å°±æ˜¯Entry,é•¿åº¦æ€»æ˜¯2çš„å¹‚,æ¯ä¸ªNodeéƒ½æ˜¯ä¸€ä¸ªå•å‘é“¾è¡¨
transident Set&lt;Map.Entry&lt;K,V&gt;&gt;  entrySet;   entryçš„Seté›†åˆ
transident int size;    mapçš„å¤§å°
transident int modCount;    æ”¹å˜ç»“æ„çš„æ¬¡æ•°ï¼Œç”¨æ¥å®ç°fail-fastæœºåˆ¶
int threshold;      resizeåçš„sizeå¤§å°(ç­‰äºå®¹é‡*åŠ è½½å› å­  capacity * load factor)
final float loadFactor;     åŠ è½½å› å­
</code></pre><p>é™æ€ç±»</p>
<pre><code>Node&lt;K,V&gt;  æœ€åŸºæœ¬çš„å“ˆå¸Œå®¹å™¨èŠ‚ç‚¹ï¼Œå¤§éƒ¨åˆ†entryå®ä½“ä½¿ç”¨çš„éƒ½æ˜¯è¿™ä¸ªç±»ï¼ˆhashCodeçš„å®ç°å’ŒLinkedListä¸­ä¸€æ ·éƒ½æ˜¯keyçš„hashCodeå’Œvalueçš„hashCodeçš„å¼‚æˆ–ï¼‰
</code></pre><p>å››ä¸ªæ„é€ å‡½æ•°</p>
<pre><code>public HashMap();   
public HashMap(int initialCapacity);     åˆå§‹åŒ–å®¹é‡ä¸ºinitialCapacityï¼ŒåŠ è½½å› å­ä¸ºé»˜è®¤0.75
public HashMap(int initialCapacity,float loadFactor);   æŒ‡å®šåˆå§‹åŒ–å®¹é‡å’ŒåŠ è½½å› å­
public HashMap(Map&lt;? extends K,? extends V&gt; m);     åˆ›å»ºä¸mç›¸åŒé”®å€¼å¯¹çš„HashMap
</code></pre><p>ä¸»è¦æ–¹æ³•ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line">final void putMapEntries(Map&lt;? extends K,? extends V&gt;m,boolean evict );    å®ç°Map.putAll å’Œ Mapçš„æ„é€ å‡½æ•°,ç»™è¿™ä¿©å‡½æ•°è°ƒç”¨ï¼Œå†…éƒ¨ä¸»è¦æ˜¯é€šè¿‡ä¸€ç³»åˆ—çš„æ¡ä»¶åˆ¤æ–­åï¼Œå°†mçš„æ¯ä¸ªentryå¤åˆ¶è¿›æœ¬mapé‡Œï¼Œæ¡ä»¶æœ‰å®¹é‡çš„åˆ¤æ–­ï¼Œtresholdçš„åˆ¤æ–­</span><br><span class="line">int size();     è¿”å›mapçš„é”®å€¼å¯¹æ•°é‡</span><br><span class="line">boolean isEmpty()   sizeæ˜¯å¦ä¸º0</span><br><span class="line">V get(Object key)   è¿”å›keyæ‰€å¯¹åº”çš„value</span><br><span class="line">final Node&lt;K,V&gt; getNode(int hash,Object key);   è¿”å›hashå’Œkeyæ‰€å¯¹åº”çš„èŠ‚ç‚¹Node       æ¯æ¬¡éƒ½å…ˆå•ç‹¬æ£€æŸ¥ç¬¬ä¸€ä¸ªï¼Œæ£€æŸ¥keyï¼Œä»¥åŠkey.hash</span><br><span class="line">boolean containsKey(Object key)     æ˜¯å¦åŒ…å«key(é€šè¿‡getNode(hash(key),key)çš„è¿”å›å€¼æ¥åˆ¤æ–­)</span><br><span class="line">V put(K key,V value);   æ”¾å…¥key-valueé”®å€¼å¯¹(é€šè¿‡è°ƒç”¨putVal(hash(key),key,value,false,true)å®ç°)</span><br><span class="line">final V putVal(in hash,K key,V vlaue,boolean onlyIfA----------------------------------------------------bsent,boolean evict)    æ·»åŠ æ–°çš„é”®å€¼å¯¹ï¼ˆå°†key,valueæ”¾è¿›ä¸€ä¸ªæ–°çš„NodeèŠ‚ç‚¹ä¸­ï¼Œè¿æ¥å…¥tableæ•°ç»„ï¼Œæ˜¯HashMapçš„putï¼ŒputAllä¸­æ”¾å…¥ä¸€ä¸ªmappingæ—¶çš„æ“ä½œã€‚ï¼‰</span><br><span class="line">å†…éƒ¨å®ç°æ­¥éª¤ä¸»è¦æ˜¯ï¼š</span><br><span class="line">1.åˆ¤æ–­tableæ˜¯å¦ä¸ºç©ºæˆ–è€…é•¿åº¦æ˜¯å¦ä¸º0ï¼Œè‹¥æ˜¯çš„è¯ï¼Œresize()</span><br><span class="line">2.åˆ¤æ–­tableå°¾æ˜¯å¦ä¸ºç©ºï¼Œè‹¥ä¸ºç©ºåˆ™ä»¥hash,key,value,nullå½¢æˆæ–°èŠ‚ç‚¹æ”¾åœ¨å°¾</span><br><span class="line">3.è‹¥ä¸ä¸ºç©ºï¼Œåˆ¤æ–­è‹¥å°¾å¤„çš„ç»“ç‚¹çš„keyå’Œhashç›¸åŒåˆ™å°†æ–°çš„valueç»™äºˆè¯¥èŠ‚ç‚¹ã€‚</span><br><span class="line">    è‹¥è¯¥èŠ‚ç‚¹æ—¶TreeNodeç±»åˆ™ï¼Œä»¥putTreeValè¿”å›ä¸€ä¸ªTreeNodeç»“ç‚¹</span><br><span class="line">    å¦åˆ™å°†ç»“ç‚¹é“¾æ¥åˆ°å°¾ç»“ç‚¹çš„nextä¸Šå½¢æˆå•å‘é“¾è¡¨(HashMapè§£å†³å†²çªçš„æ–¹æ³•)</span><br><span class="line">4.åŠ å…¥åè‹¥sizeå¤§äºthresholdï¼Œåˆ™resize</span><br><span class="line"></span><br><span class="line">final Node&lt;K,V&gt;[] resize();     åˆå§‹åŒ–æˆ–è€…æ‰©å¤§ä¸€å€tableçš„sizeã€‚</span><br><span class="line">resizeæ˜¯æ€ä¹ˆå®ç°çš„å‘¢</span><br><span class="line"></span><br><span class="line">    final Node&lt;K,V&gt;[] resize() &#123;</span><br><span class="line">    Node&lt;K,V&gt;[] oldTab = table;         </span><br><span class="line">    int oldCap = (oldTab == null) ? 0 : oldTab.length;      //åˆ¤æ–­tableæ•°ç»„æ˜¯å¦ä¸ºç©ºï¼Œå¹¶æŠŠå½“å‰çš„lengthç»™oldCap</span><br><span class="line">    int oldThr = threshold;                                 //æ—§çš„é˜ˆå€¼</span><br><span class="line">    int newCap, newThr = 0;                                 //å®šä¹‰æ–°çš„å®¹é‡å’Œæ–°çš„é˜ˆå€¼</span><br><span class="line">    if (oldCap &gt; 0) &#123;           </span><br><span class="line">        if (oldCap &gt;= MAXIMUM_CAPACITY) &#123;</span><br><span class="line">            threshold = Integer.MAX_VALUE;</span><br><span class="line">            return oldTab;</span><br><span class="line">        &#125;                                             </span><br><span class="line">        else if ((newCap = oldCap &lt;&lt; 1) &lt; MAXIMUM_CAPACITY &amp;&amp;</span><br><span class="line">                 oldCap &gt;= DEFAULT_INITIAL_CAPACITY)</span><br><span class="line">            newThr = oldThr &lt;&lt; 1; // double threshold   </span><br><span class="line">    &#125;        //åˆ¤æ–­oldCapæ˜¯ä¸æ˜¯è¶…è¿‡äº†æœ€å¤§å®¹é‡é™åˆ¶ï¼Œè‹¥æ˜¯çš„è¯ä½¿å…¨å±€é˜ˆå€¼thresholdèµ‹å€¼ä¸ºInteger.MAX_VALUEï¼Œå¹¶è¿”å›oladTabå³æ—§çš„tableï¼ˆä¸å†æ‰©å®¹ï¼‰ï¼Œå¦åˆ™è‹¥oldCapæ‰©å¤§ä¸€å€ä»å°äºæœ€å°å®¹é‡çš„è¯å°±ä½¿æ–°é˜ˆå€¼newThrä¸ºåŸæ¥çš„2å€</span><br><span class="line"></span><br><span class="line">    else if (oldThr &gt; 0) // å½“oldCap=0ä¸”é˜ˆå€¼å¤§äº0æ—¶å³åˆå§‹åŒ–ï¼Œèµ‹å€¼é˜ˆå€¼ç»™newCap</span><br><span class="line">        newCap = oldThr;        </span><br><span class="line">    else &#123;               // å½“é˜ˆå€¼ä¸º0æ—¶æŒ‡å®šnewCapä¸ºé»˜è®¤å®¹é‡å¤§å°ï¼Œå¹¶æŒ‡å®šnewThrä¸ºé»˜è®¤é˜ˆå€¼å¤§å°ã€‚</span><br><span class="line">        newCap = DEFAULT_INITIAL_CAPACITY;</span><br><span class="line">        newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);</span><br><span class="line">    &#125;</span><br><span class="line">    if (newThr == 0) &#123;    //å½“æ–°çš„é˜ˆå€¼ä¸º0æ—¶ï¼ˆåˆå§‹åŒ–é˜ˆå€¼&gt;0çš„æƒ…å†µä¸‹æ¥ï¼‰ï¼Œè®¾ç½®æ–°çš„é˜ˆå€¼å¤§å°ä¸ºnewCap*loadFactor</span><br><span class="line">        float ft = (float)newCap * loadFactor;</span><br><span class="line">        newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (float)MAXIMUM_CAPACITY ?</span><br><span class="line">                  (int)ft : Integer.MAX_VALUE);</span><br><span class="line">    &#125;      </span><br><span class="line">    threshold = newThr;     //ä»¤é˜ˆå€¼ä¸ºæ–°çš„é˜ˆå€¼å€¼</span><br><span class="line">    @SuppressWarnings(&#123;&quot;rawtypes&quot;,&quot;unchecked&quot;&#125;)     </span><br><span class="line">        Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])new Node[newCap];</span><br><span class="line">    table = newTab;         //åˆ›å»ºæ–°çš„Nodeæ•°ç»„newTabä½œä¸ºresizeåçš„table</span><br><span class="line">    if (oldTab != null) &#123;</span><br><span class="line">        for (int j = 0; j &lt; oldCap; ++j) &#123;</span><br><span class="line">            Node&lt;K,V&gt; e;</span><br><span class="line">            if ((e = oldTab[j]) != null) &#123;  </span><br><span class="line">                oldTab[j] = null;</span><br><span class="line">                if (e.next == null)     //è‹¥è¯¥bucketåªæœ‰ä¸€ä¸ªå…ƒç´ å°±ç›´æ¥æ”¾åœ¨newTabä¸­å¯¹åº”ä½ç½®</span><br><span class="line">                    newTab[e.hash &amp; (newCap - 1)] = e;      //e.hash&amp;(newCap-1) å¯ä»¥æ‰¾åˆ°å¯¹åº”çš„ä½ç½®</span><br><span class="line">                else if (e instanceof TreeNode)             //æ˜¯å¦ä¸ºçº¢é»‘æ ‘ç»“ç‚¹  JDK1.8å¼€å§‹ã€‚ã€‚</span><br><span class="line">                    ((TreeNode&lt;K,V&gt;)e).split(this, newTab, j, oldCap); </span><br><span class="line">                else &#123; // preserve order            //å°†é“¾è¡¨æ”¾å…¥å¯¹åº”çš„ä½ç½®</span><br><span class="line">                    Node&lt;K,V&gt; loHead = null, loTail = null;</span><br><span class="line">                    Node&lt;K,V&gt; hiHead = null, hiTail = null;</span><br><span class="line">                    Node&lt;K,V&gt; next;</span><br><span class="line">                    do &#123;</span><br><span class="line">                        next = e.next;</span><br><span class="line">                        if ((e.hash &amp; oldCap) == 0) &#123;</span><br><span class="line">                            if (loTail == null)</span><br><span class="line">                                loHead = e;</span><br><span class="line">                            else</span><br><span class="line">                                loTail.next = e;</span><br><span class="line">                            loTail = e;</span><br><span class="line">                        &#125;</span><br><span class="line">                        else &#123;</span><br><span class="line">                            if (hiTail == null)</span><br><span class="line">                                hiHead = e;</span><br><span class="line">                            else</span><br><span class="line">                                hiTail.next = e;</span><br><span class="line">                            hiTail = e;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; while ((e = next) != null);</span><br><span class="line">                    if (loTail != null) &#123;</span><br><span class="line">                        loTail.next = null;</span><br><span class="line">                        newTab[j] = loHead;</span><br><span class="line">                    &#125;</span><br><span class="line">                    if (hiTail != null) &#123;</span><br><span class="line">                        hiTail.next = null;</span><br><span class="line">                        newTab[j + oldCap] = hiHead;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return newTab;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void treeifyBin(Node&lt;K,V&gt; tab,int hash);    å°†å®¹å™¨çš„NodeèŠ‚ç‚¹è½¬æ¢ä¸ºTreeNode</span><br><span class="line">void putAll(Map&lt;? extends K,? extends V&gt; m) å°†ä¸€ä¸ªmapæ”¾å…¥æœ¬mapä¸­ï¼ˆå†…éƒ¨ç”¨putMapEntries(m,true)ï¼‰å®ç°</span><br><span class="line">V remove(Object key);       ç§»é™¤keyæ‰€å¯¹åº”çš„entryï¼Œå†…éƒ¨ç”¨removeNodeæ–¹æ³•å®ç°</span><br><span class="line">Node&lt;K,V&gt; removeNode(int hash,Object key,Object value,boolean value,boolean movable)    ç§»é™¤å‚æ•°æ‰€å¯¹åº”çš„ç»“ç‚¹ã€‚</span><br><span class="line">void clear()    æ¸…ç©ºmap</span><br><span class="line">boolean containsValue(Object value);    æ˜¯å¦åŒ…å«value(æ•°ç»„éå†+é“¾è¡¨éå†)</span><br><span class="line">Set&lt;K&gt; keySet();    è¿”å›ä¸€ä¸ªKeySet(KeySetæ˜¯HashMapå†…éƒ¨çš„ä¸€ä¸ªfinalç±»ï¼Œç»§æ‰¿è‡ªAbstractSet,å†…éƒ¨å®ç°äº†setçš„æ–¹æ³•ï¼Œsize,clear,ierator,contains,remove,spliterator,forEachç­‰)</span><br><span class="line">Collection&lt;V&gt; values(); è¿”å›valueçš„é›†åˆ (Valuesæ˜¯HashMapå†…éƒ¨çš„ä¸€ä¸ªfinalç±»ç»§æ‰¿è‡ªAbstractCollectionï¼Œå®ç°äº†åŸºæœ¬æ–¹æ³•)</span><br><span class="line">Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet();     è¿”å›entrySet(EntrySetæ˜¯finalç±»ï¼Œå†…éƒ¨çš„æ–¹æ³•å®ç°ä¸»è¦æ˜¯å¯¹Nodeæ•°ç»„tableè¿›è¡Œæ“ä½œ)</span><br></pre></td></tr></table></figure></p>
<p>æ¥ç€æ˜¯ä¸€ç³»åˆ—JDK8çš„æ–°æ–¹æ³•<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">V getOrDefault(Object key,V defaulValue);   è¿”å›defaultValueä¸ºä¸å­˜åœ¨keyå¯¹åº”çš„Nodeæ—¶çš„é»˜è®¤å€¼ã€‚  </span><br><span class="line">putIfAbsent(K key,V value)  æ·»åŠ æ–°çš„é”®å€¼å¯¹key-value ä¸”onlyIfAbsent,evictå‚æ•°å‡ä¸ºtrue</span><br><span class="line">...ä½™ä¸‹å°±ä¸å†™äº†</span><br></pre></td></tr></table></figure></p>
<p>è¿˜æœ‰ä¸€äº›çº¢é»‘æ ‘çš„æ“ä½œä»¥åŠHashMapIteratorçš„å®ç°å°±ä¸å†™äº†ã€‚</p>
<p>æ€»çš„æ¥è¯´ï¼ŒHashMapä½œä¸ºä½¿ç”¨é¢‘ç‡æœ€é«˜çš„çš„Mapï¼Œå®ƒæ˜¯é€šè¿‡å“ˆå¸Œè¡¨çš„å¼€æ”¾åœ°å€æ³•å’Œé“¾åœ°å€æ³•ä¸­çš„åè€…è§£å†³ï¼Œæ­¤å¤–å®ƒä¸èƒ½å­˜å‚¨é‡å¤çš„keyï¼Œä½†å¯ä»¥é‡å¤çš„valueï¼Œkeyå’Œvalueå‡ä¸ºnullä¹Ÿå¯ä»¥ã€‚æ‰©å®¹æ˜¯æ¯”è¾ƒè€—è´¹æ—¶é—´çš„ï¼Œæ‰€ä»¥æœ€å¥½åœ¨åˆ›å»ºæ—¶æŒ‡å®šå¤§æ¦‚çš„å®¹é‡å¤§å°ï¼Œè¿˜æœ‰ï¼Œä»–æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œè‹¥è¦å¤šçº¿ç¨‹æ“ä½œä½¿ç”¨ConcurrentHashMapï¼Œæ­¤å¤–JDK8åŠ å…¥çš„å¾ˆå¤šé“¾è½¬æ ‘çš„æ“ä½œéƒ½æ˜¯æé«˜äº†æ€§èƒ½ï¼Œæœ‰ç©ºä¼šå†å»ç»†ç»†ç ”ç©¶ä¸€ä¸‹ã€‚</p>
<h3 id="WeakHashMap"><a href="#WeakHashMap" class="headerlink" title="WeakHashMap"></a>WeakHashMap</h3><p>WeakHashMap ç›´æ¥ç»§æ‰¿è‡ªAbstractMapï¼Œå®ç°äº†Mapæ¥å£ã€‚å®ƒçš„ç‰¹ç‚¹å°±æ˜¯weak keys,åœ¨æºç æ³¨é‡Šä¸­ä¹Ÿè§£é‡Šè€…WeakHashMapé‡Œçš„entryä¸åœ¨æ­£å¸¸ä½¿ç”¨æ—¶å°±ä¼šè¢«ç§»é™¤ï¼Œå³å³ä½¿è¿™ä¸ªkeyå¯¹åº”çš„valueå‡å­˜åœ¨ï¼Œä¹Ÿå¯èƒ½è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ç§»é™¤ã€‚å®ƒçš„ç”¨æ³•è·ŸHashMapå¤§ä½“ç›¸åŒï¼Œæ”¯æŒkeyä¸valueå‡ä¸ºnullï¼Œä¸”ä¹Ÿä¸æ˜¯åŒæ­¥çš„ã€‚è€Œå®ƒçš„Weakæœºåˆ¶æ˜¯é€šè¿‡WeakReferenceå’ŒReferenceQueueå®ç°çš„ã€‚ç”±äºç”¨åˆ°çš„åœ°æ–¹æ¯”è¾ƒå°‘ï¼Œå°±ä¸å¤šè¯´ã€‚<br>è¿™ç¯‡æ–‡ç« è®²çš„å¤šä¸€äº›ï¼Œå¯ä»¥å­¦ä¹ å­¦ä¹ ã€‚<a href="http://www.cnblogs.com/skywang12345/p/3311092.html" target="_blank" rel="noopener">http://www.cnblogs.com/skywang12345/p/3311092.html</a></p>
<h2 id="HashTable"><a href="#HashTable" class="headerlink" title="HashTable"></a>HashTable</h2><p>HashTableæ˜¯ç›´æ¥ç»§æ‰¿è‡ªDictionaryçš„ï¼Œå®ç°äº†Mapæ¥å£ï¼ŒCloneableæ¥å£ï¼ŒSerializableæ¥å£ï¼ŒHashTableä¸HashMapåŸºæœ¬æ˜¯ç”¨æ³•ç›¸åŒçš„ï¼Œä½†æ˜¯HashTableä¸èƒ½å­˜å‚¨nullä½œä¸ºkeyæˆ–è€…valueï¼Œæ­¤å¤–HashTableæ˜¯åŒæ­¥çš„ã€‚å› ä¸ºConcurrentHashMapçš„å­˜åœ¨ï¼Œæ‰€æœ‰å³ä¾¿æ˜¯å¤šçº¿ç¨‹æ“ä½œï¼Œä¹Ÿæ˜¯æ¨èConcurrentHashMapè€Œä¸æ˜¯HashTable,å› ä¸ºHashTableåœ¨ä»»ä¸€æ—¶é—´æ®µåªèƒ½å…è®¸ä¸€ä¸ªçº¿ç¨‹æ“ä½œï¼Œè€ŒConcurrentHashMapå¼•å…¥äº†åˆ†æ®µé”ï¼Œæé«˜äº†å¹¶å‘æ€§ã€‚æ‰€ä»¥HashTableçš„ç”¨å¤„ä¹Ÿå˜å¾—å¾ˆå°‘äº†ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>HashMapä½œä¸ºä½¿ç”¨é¢‘ç‡æœ€é«˜çš„å½“ç„¶è¦å¤šçœ‹ã€‚æ²¡æœ‰è¯´TreeMapçš„åŸå› æ—¶æˆ‘è¿˜æ²¡æŒæ¡çº¢é»‘æ ‘ï¼Œç­‰ä¸‹ä¸€ç¯‡çº¢é»‘æ ‘å’ŒTreeMapä»¥åŠHashMapåœ¨JDK1.8ä¸­å¯¹çº¢é»‘æ ‘çš„æ“ä½œä¼šä¸€èµ·æ€»ç»“å­¦ä¹ ä¸€ä¸‹ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[3.5 LeetCode åˆ·é¢˜]]></title>
      <url>http://wincber.com/2017/03/06/3-5-LeetCode-%E5%88%B7%E9%A2%98/</url>
      <content type="html"><![CDATA[<p>ç®—æ³•ä¸€ç›´ä¸å’‹åœ°ï¼Œå†³å®šè¦å¼€å§‹åˆ·ä¸€åˆ·ç®—æ³•ï¼Œæ¯å¤©åœ¨LeetCodeä¸Šåšä¸¤ä¸‰é“ï¼Œå¸Œæœ›å¯ä»¥åšåˆ°å§ï¼Œæœ¬ç€ä¹°äº†å°±å½“çœ‹äº†çš„å¿ƒæ€ï¼Œè¿˜ä¹°äº†ç®—æ³•å¯¼è®ºã€‚ï¼ˆæå‰å£°æ˜ï¼Œè¿™ç§ç®—æ³•æ–‡ç« éƒ½æ˜¯æˆ‘è‡ªå·±åˆ·ç®—æ³•çš„ç¬”è®°ä½“ä¼šï¼Œç®—æ³•å¤§ç¥ä¸è¦åæ§½ï¼Œå½“ç„¶æ¬¢è¿æŒ‡å¯¼ï¼‰ã€‚<br>ä¸æ‰¯æ·¡äº†ï¼Œä»Šå¤©åªåšäº†ä¸‰é“ç®—æ³•é¢˜ï¼Œéƒ½æ˜¯Easyçº§åˆ«çš„ï¼ˆT_Tï¼‰ï¼Œä¸è¿‡æ…¢æ…¢ç§¯ç´¯å˜›ï¼Œå°±è¯´è¯´è¿™ä¸‰é“ã€‚</p>
<h2 id="TwoSum"><a href="#TwoSum" class="headerlink" title="TwoSum"></a>TwoSum</h2><p><a href="https://leetcode.com/problems/two-sum/?tab=Description" target="_blank" rel="noopener">https://leetcode.com/problems/two-sum/?tab=Description</a></p>
<p>é¢˜ç›®å°±ä¸è¯´äº†ï¼Œè¿™ä¸ªè€ƒçš„æ˜¯HashMapçš„çŸ¥è¯†ï¼ˆJavaä¸­æ˜¯HashMapï¼ŒC++çš„è¯ç”¨Vectorï¼‰ï¼Œéƒ½æ˜¯åˆ©ç”¨ä»–ä»¬çš„é”®å€¼å¿«é€ŸæŸ¥æ‰¾æ¥è§£é¢˜ã€‚<br>è¿™ä¹Ÿæ˜¯å·§å¦™åœ°ä¸€ç‚¹ï¼Œå°†å€¼ä½œä¸ºKeyï¼Œç´¢å¼•ä½œä¸ºValueï¼Œå› ä¸ºKeyçš„æŸ¥æ‰¾æ˜¯å¿«é€ŸæŸ¥æ‰¾ï¼ŒHashMapä¸­çš„containsKey(key)ä¸­åˆæ˜¯åˆ©ç”¨getNode(hash,key)æ–¹æ³•å®ç°ï¼Œå†…éƒ¨å®ç°æ˜¯åˆ©ç”¨é“¾è¡¨çš„é¡ºåºæŸ¥æ‰¾å®ç°ã€‚<br>æ‰€ä»¥æˆ‘æäº¤çš„æ˜¯</p>
<pre><code>public class TwoSum {
public static void main(String[] args){
    TwoSum  ts = new TwoSum();
    int []x = {2,7,11,12,15};
    int []res = ts.twoSum(x,14);
    for(int i = 0;i &lt; res.length;i++){
        System.out.println(i == res.length-1?res[i]:res[i]);
    }
}

/**
 * è€ƒç‚¹ï¼šArray HashTable
 * HashMapæ˜¯O(n) Timeï¼ŒO(n) Space,HashMapæŸ¥æ‰¾keyæ—¶æ˜¯å¿«é€ŸæŸ¥æ‰¾ï¼Œæ‰€ä»¥ç”¨ç´¢å¼•åšvalueï¼Œç”¨å€¼åškeyè¿›è¡Œå­˜å‚¨ã€‚
 * @param x
 * @param target
 * @return
 */
public int[] twoSum(int []x,int target){
    Map&lt;Integer,Integer&gt; map = new HashMap&lt;Integer,Integer&gt;();
    for(int i = 0;i &lt; x.length;i++){
        map.put(x[i],i);
    }
    for(int i = 0;i &lt; x.length;i++){
        int result = target - x[i];
        if(map.containsKey(result) &amp;&amp; i != map.get(result)){
            return new int[]{i+1,map.get(result)+1};
        }
    }
    return null;
}
</code></pre><p>}</p>
<h2 id="HammingDistance"><a href="#HammingDistance" class="headerlink" title="HammingDistance"></a>HammingDistance</h2><p><a href="https://leetcode.com/problems/hamming-distance/?tab=Description" target="_blank" rel="noopener">https://leetcode.com/problems/hamming-distance/?tab=Description</a></p>
<p>è¿™é“é¢˜å¾ˆç®€å•ï¼Œæˆ‘ç”¨çš„æ˜¯ä½è¿ç®—ï¼Œå°†ä¸¤ä¸ªäºŒè¿›åˆ¶æ•°ä¸­çš„1é€šè¿‡å¼‚æˆ–æ”¾åœ¨åŒä¸€ä¸ªäºŒè¿›åˆ¶æ•°ï¼Œåœ¨é€šè¿‡ç§»ä½è¿›è¡Œè·ç¦»çš„è®¡ç®—ã€‚<br>Solution:</p>
<pre><code>public class HammingDistance {
public static void main(String[] args){
    HammingDistance distance = new HammingDistance();
    System.out.println(&quot;Distance: &quot;+ distance.hammingDistance(1,5));
}
public  int hammingDistance(int x, int y){
    int result = x ^ y;
    int dis = 0;
    while(result!= 0){
        if(result % 2 != 0)
            dis++;
        result = result &gt;&gt; 1;
    }
    return dis;
}
</code></pre><p>}</p>
<h2 id="NumberComplement"><a href="#NumberComplement" class="headerlink" title="NumberComplement"></a>NumberComplement</h2><p><a href="https://leetcode.com/problems/number-complement/?tab=Description" target="_blank" rel="noopener">https://leetcode.com/problems/number-complement/?tab=Description</a></p>
<p>è¿™é“é¢˜ä¹Ÿä¸éš¾ï¼Œä¸è¿‡æˆ‘æäº¤å¤±è´¥äº†å¥½å‡ æ¬¡ï¼Œä¸»è¦æ˜¯æ²¡æœ‰è€ƒè™‘å‘¨å…¨ã€‚è¦æ±‚ä¸€ä¸ªäºŒè¿›åˆ¶ä¸­çš„0å’Œ1äº’æ¢åçš„æ•°ï¼Œåˆšå¼€å§‹æˆ‘è¿˜è€ƒè™‘äº†å¥½å‡ ç§æƒ…å†µï¼Œäº‹å®è¯æ˜æƒ³å¤šäº†ï¼Œæˆ‘çš„åšæ³•ç®€å•æ¥è¯´ï¼Œå› ä¸ºä¸ä»¥0å¼€å¤´ï¼Œæ‰€ä»¥ç›¸å½“äºå–ä¸€ä½æ•°åˆ¤æ–­0,1ï¼Œå†è¿›è¡Œç§»ä½ã€‚æ„Ÿè§‰è¯´çš„æœ‰ç‚¹ä¸æ¸…æ¥šï¼Œä»£ç ä¸€çœ‹å°±æ˜ç™½</p>
<pre><code>public class NumberComplement {
public static void main(String[] args){
    NumberComplement num = new NumberComplement();
    System.out.println(&quot;Complement is &quot; + num.findComplement(4));
}
public int findComplement(int num){
    int result = 0;
    for(int i = 0; num != 0;i++,num=num&gt;&gt;1){
        result += (num%2==0?1:0)&lt;&lt;i;
    }
    return result;
}
</code></pre><p>}</p>
<p>æ‰ç¬¬ä¸€å¤©ï¼Œä»ç®€å•çš„å¼€å§‹ï¼Œç»§ç»­åŠ æ²¹ï¼</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Android å¼€å‘è‰ºæœ¯æ¢ç´¢2.4æ”¶è·ï¼ˆå‰ä¸‰å°èŠ‚ï¼‰]]></title>
      <url>http://wincber.com/2017/03/03/Android-%E5%BC%80%E5%8F%91%E8%89%BA%E6%9C%AF%E6%8E%A2%E7%B4%A22-4%E6%94%B6%E8%8E%B7/</url>
      <content type="html"><![CDATA[<p>  2.4è®²çš„æ˜¯Androidä¸­çš„IPCæ–¹å¼ï¼Œè¿™ä¸€å°èŠ‚æ¯”è¾ƒé•¿ï¼ˆ60+é¡µï¼‰ï¼Œä¹Ÿæ˜¯å› ä¸ºDemoä»£ç å‚éƒ½æ¯”è¾ƒé•¿ï¼Œæ‰€ä»¥ä¼šåˆ†å¼€å‡ ç¯‡æ¥è®²ï¼Œè¿™ä¸€å°èŠ‚åˆåˆ†å‡ ä¸ªå°èŠ‚ï¼Œæ‰€ä»¥å…ˆè¯´ä¸ªå‰ä¸‰ä¸ªå°èŠ‚ã€‚<a id="more"></a></p>
<h2 id="ä½¿ç”¨Bundle"><a href="#ä½¿ç”¨Bundle" class="headerlink" title="ä½¿ç”¨Bundle"></a>ä½¿ç”¨Bundle</h2><p>Bundleæ˜¯å®ç°äº†åºåˆ—åŒ–çš„ï¼Œå¹³æ—¶åœ¨å†™ä»£ç ä¸­ä¹Ÿä¼šç”¨éƒ½ç”¨æ¥åœ¨ä¿å­˜æ•°æ®ç„¶åé€šè¿‡Intentä¼ é€’çš„ã€‚å‡†ç¡®çš„è¯´å®ƒæ˜¯å®ç°äº†Parcelableæ¥å£ã€‚<br>å› ä¸ºæ¯”è¾ƒå¸¸ç”¨æ‰€ä»¥è®²çš„æ¯”è¾ƒå°‘ã€‚ä¸è¿‡å€¼å¾—ä¸€æçš„æ˜¯ä¸€ç§æ–¹æ¡ˆ</p>
<pre><code>Aè¿›ç¨‹è¿›è¡Œä¸€ä¸ªè®¡ç®—ï¼Œè®¡ç®—å®Œåè¦å¯åŠ¨Bçš„ä¸€ä¸ªç»„ä»¶å¹¶æŠŠè®¡ç®—ç»“æœä¼ é€’ç»™Bï¼Œä½†è®¡ç®—ç»“æœä¸æ”¯æŒæ”¾å…¥Bundleã€‚
å¯ä»¥Aè¿›ç¨‹é€šè¿‡Intentå¯ç”¨Bè¿›ç¨‹çš„ä¸€ä¸ªServiceè¿›è¡Œè®¡ç®—å·¥ä½œï¼Œè®¡ç®—å®Œæˆååœ¨å¯åŠ¨Bè¿›ç¨‹æ‰€éœ€è¦çš„ç»„ä»¶ï¼Œå°†è®¡ç®—ç»“æœç»™åˆ°ç»„ä»¶ã€‚
</code></pre><h2 id="ä½¿ç”¨æ–‡ä»¶å…±äº«"><a href="#ä½¿ç”¨æ–‡ä»¶å…±äº«" class="headerlink" title="ä½¿ç”¨æ–‡ä»¶å…±äº«"></a>ä½¿ç”¨æ–‡ä»¶å…±äº«</h2><p>Androidç³»ç»Ÿä¸Šå¯¹æ–‡ä»¶çš„å¹¶å‘è¯»å†™æ˜¯æ²¡æœ‰é™åˆ¶çš„ã€‚ï¼ˆä½†å°½é‡é¿å…å¹¶å‘å†™ï¼‰ï¼Œè¿™ç§æ–¹å¼é€‚åˆåœ¨æ•°æ®åŒæ­¥è¦æ±‚ä¸é«˜çš„è¿›ç¨‹é—´è¿›è¡Œé€šä¿¡ã€‚æ­¤å¤–ç‰¹åˆ«æå‡ºSharedPreferencesçš„ç‰¹æ®Šæ€§ï¼Œå…¶åº•å±‚å®ç°æ˜¯å¯¹xmlæ–‡ä»¶çš„è¯»å†™ï¼Œå¯¹äºç³»ç»Ÿå¯¹ä»–çš„è¯»å†™æ˜¯æœ‰ä¸€å®šçš„ç¼“å­˜ç­–ç•¥ï¼Œæ‰€ä»¥å¹¶å‘è¯»å†™æ—¶ä¼šæœ‰ä¸€å®šçš„å‡ ç‡ä¸¢å¤±æ•°æ®ï¼Œé«˜å¹¶å‘æ—¶ä¼šæ›´ä¸¥é‡ã€‚æ‰€ä»¥ä¸å»ºè®®è¿›ç¨‹é—´é€šä¿¡åˆ†äº«SharedPreferenceã€‚</p>
<p>æ­¤å¤–ç»™å‡ºäº†ä¸€ä¸ªDemoï¼Œä¸»è¦æ˜¯é€šè¿‡ä¸€ä¸ªè¿›ç¨‹ï¼ˆActivityï¼‰å¼€å¯ä¸€ä¸ªçº¿ç¨‹ï¼Œé€šè¿‡åºåˆ—åŒ–å°†ä¸€ä¸ªå¯¹è±¡å†™å…¥æ–‡ä»¶ï¼Œè€Œå¦ä¸€ä¸ªè¿›ç¨‹ï¼ˆActivityï¼‰å¼€å¯ä¸€ä¸ªçº¿ç¨‹ï¼Œé€šè¿‡ååºåˆ—åŒ–è¯»å‡ºæ–‡ä»¶ä¸­çš„å¯¹è±¡ã€‚éƒ½å®ç°åœ¨onResume()ä¸­ç”¨äºæ•°æ®æ¢å¤ã€‚<br>ä»£ç å¦‚ä¸‹ï¼š<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">import android.content.Context;</span><br><span class="line">import android.content.Intent;</span><br><span class="line">import android.support.v7.app.AppCompatActivity;</span><br><span class="line">import android.os.Bundle;</span><br><span class="line">import android.util.Log;</span><br><span class="line"></span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.ObjectOutputStream;</span><br><span class="line"></span><br><span class="line">public class MainActivity extends AppCompatActivity &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">        Intent intent = new Intent(this,SecondActivity.class);</span><br><span class="line">        startActivity(intent);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onResume() &#123;</span><br><span class="line">        super.onResume();</span><br><span class="line">        new Thread(new Runnable() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void run() &#123;</span><br><span class="line">                User user = new User(1,&quot;hello world&quot;,false);</span><br><span class="line">                ObjectOutputStream outputStream = null;</span><br><span class="line">                FileOutputStream out = null;</span><br><span class="line">                try &#123;</span><br><span class="line">                    out = openFileOutput(&quot;test&quot;, Context.MODE_PRIVATE);</span><br><span class="line">                    outputStream = new ObjectOutputStream(out);</span><br><span class="line">                    outputStream.writeObject(user);</span><br><span class="line">                    Log.d(&quot;MainActivity&quot;,&quot;persist user: write &quot; + user);</span><br><span class="line">                &#125; catch (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;finally &#123;</span><br><span class="line">                    try &#123;</span><br><span class="line">                        outputStream.close();</span><br><span class="line">                    &#125; catch (IOException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">import android.support.v7.app.AppCompatActivity;</span><br><span class="line">import android.os.Bundle;</span><br><span class="line">import android.util.Log;</span><br><span class="line"></span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.ObjectInputStream;</span><br><span class="line"></span><br><span class="line">public class SecondActivity extends AppCompatActivity &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_second);</span><br><span class="line">        Log.d(&quot;SecondActivity&quot;,&quot;onCreate&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onResume() &#123;</span><br><span class="line">        super.onResume();</span><br><span class="line">        Log.d(&quot;SecondActivity&quot;,&quot;onResume&quot;);</span><br><span class="line">        new Thread(new Runnable() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void run() &#123;</span><br><span class="line">                User user = null;</span><br><span class="line"></span><br><span class="line">                    ObjectInputStream inputStream = null;</span><br><span class="line">                    FileInputStream input = null;</span><br><span class="line">                    try &#123;</span><br><span class="line">                        input = openFileInput(&quot;test&quot;);</span><br><span class="line">                        inputStream = new ObjectInputStream(input);</span><br><span class="line">                        user = (User)inputStream.readObject();</span><br><span class="line">                        Log.d(&quot;SecondActivity&quot;,&quot;read it&quot; + user);</span><br><span class="line">                    &#125; catch (Exception e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;finally&#123;</span><br><span class="line">                        try &#123;</span><br><span class="line">                            inputStream.close();</span><br><span class="line">                        &#125; catch (IOException e) &#123;</span><br><span class="line">                            e.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸€ä¸ªå°æŠ€å·§æ˜¯ï¼Œå› ä¸ºè¿ä¸ªActivityæ˜¯åœ¨ä¸¤ä¸ªè¿›ç¨‹ï¼Œæ‰€ä»¥æƒ³è¦å•ç‹¬è¿è¡ŒSecondActivityæ—¶ï¼Œéœ€è¦è®¾ç½®Androidifmainestä¸­çš„å±æ€§ï¼Œâ€œexported = trueâ€,è¿™æ ·å¯ä»¥å•ç‹¬è¿è¡Œæˆ–è°ƒè¯•SecondActivityã€‚</p>
<h2 id="ä½¿ç”¨Messenger"><a href="#ä½¿ç”¨Messenger" class="headerlink" title="ä½¿ç”¨Messenger"></a>ä½¿ç”¨Messenger</h2><p>Messengeråº•å±‚å®ç°æ˜¯AIDLï¼Œé€‚åˆç”¨æ¥åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯å‘é€è¯·æ±‚ã€‚è¿™ä¸€èŠ‚ä¹Ÿæ˜¯é€šè¿‡ä»£ç demoæ¥è®²è§£Messengerçš„é€šä¿¡è¿‡ç¨‹ï¼Œé€šè¿‡æ„å»ºServiceè¿è¡Œåœ¨ä¸ªè¿›ç¨‹ä¸­ï¼Œé€šè¿‡Messengerå‘é€è¯·æ±‚å¹¶å¤„ç†è¯·æ±‚ï¼Œç¼ºç‚¹æ˜¯ï¼ŒæœåŠ¡å™¨ç«¯ä¸€æ¬¡åªèƒ½å¤„ç†ä¸€ä¸ªå®¢æˆ·ç«¯å‘æ¥çš„è¯·æ±‚ã€‚<br>è®°å¾—æŸ¥çœ‹logcatæ—¶ï¼Œåˆ é€‰æ¡ä»¶ä¸ºno filterè¦ä¸ç„¶åªèƒ½çœ‹åˆ°ä½ å½“å‰è¿›ç¨‹çš„logä¿¡æ¯ã€‚</p>
<p><a href="http://oczm2hjoz.bkt.clouddn.com/image/jpg/MessengerIPC.jpgMessengerIPC.png" target="_blank" rel="noopener">!æµ‹è¯•ç»“æœ</a></p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å‰é¢ä¸‰èŠ‚çš„å†…å®¹éƒ½æ˜¯ä¸ºç¬¬å››èŠ‚AIDLåšé“ºå«ï¼Œé€šè¿‡Messengerçš„æœåŠ¡ç«¯æ¯æ¬¡åªèƒ½å¤„ç†ä¸€ä¸ªè¯·æ±‚è€Œå¼•å‡ºAIDLï¼ˆå¤„ç†å¹¶å‘è¯·æ±‚ï¼‰ï¼ŒAIDLè¿™ä¸€èŠ‚æœ‰60+é¡µï¼Œä¼šæ¯”è¾ƒè´¹æ—¶é—´ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[java Listå°ç»“]]></title>
      <url>http://wincber.com/2017/03/01/java-%E9%9B%86%E5%90%88%E5%B0%8F%E7%BB%93/</url>
      <content type="html"><![CDATA[<p>ç»§ç»­æ˜¨å¤©çš„ï¼Œé›†åˆçŸ¥è¯†å°ç»“ã€‚ï¼ˆç®€å•çš„é˜…è¯»äº†æºç å’Œç½‘ä¸Šçš„ä¸€äº›è§£è¯»ã€‚</p>
<h2 id="Colletion"><a href="#Colletion" class="headerlink" title="Colletion"></a>Colletion</h2><p>å’ŒMapå¹¶è‚©æ„æˆé›†åˆç±»çš„æœ€æ ¹æœ¬çš„æ¥å£ï¼Œç»§æ‰¿è‡ªIterableæ¥å£ï¼Œæ‰€æœ‰é›†åˆéƒ½å¯ç”¨è¿­ä»£å™¨è¿­ä»£æ¥éå†é›†åˆ<br><a id="more"></a><br>APIä¸»è¦æœ‰ï¼š</p>
<pre><code>int size();         é›†åˆå¤§å°
boolean isEmpty();    æ˜¯å¦ä¸ºç©ºé›†
boolean contains(Object o);  æ˜¯å¦åŒ…å«oå¯¹è±¡
Interator&lt;E&gt; iterator();   è¿”å›è¯¥é›†åˆçš„è¿­ä»£å™¨
Object[]  toArray();     é›†åˆè½¬æ•°ç»„ï¼ˆæ— ç±»å‹ï¼‰
&lt;T&gt; T[] toArray(T[] a);   é›†åˆè½¬æ•°ç»„ï¼ˆå»ºè®®ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œä¸”ä¼ å…¥æ•°ç»„çš„ç±»å‹å’Œå¤§å°è¦å’Œé›†åˆä¸€æ ·ï¼‰
boolean add(E e);   æ·»åŠ å…ƒç´ 
boolean remove(Object o)ï¼›  åˆ é™¤å¯¹è±¡o
boolean containsAll(Collection&lt;?&gt; c);  æ˜¯å¦åŒ…å«å¦ä¸€ä¸ªé›†åˆc
boolean addAll(Collection&lt;? extends E&gt; c);  æ·»åŠ å¦ä¸€ä¸ªé›†åˆ
boolean remove All(Collection&lt;?&gt; c); åˆ é™¤ä¸€ä¸ªé›†åˆ
default boolean removeIf(predicate&lt;? super E&gt;); filter);  åˆ é™¤æ»¡è¶³filterçš„å…ƒç´ 
boolean retainAll(Collection&lt;?&gt; c); ä¿ç•™é›†åˆcçš„å…ƒç´ ï¼Œåˆ é™¤å…¶ä»–å…ƒç´ 
void clear();  æ¸…ç©ºé›†åˆ
</code></pre><h3 id="AbstractCollection-æ˜¯å®ç°Collectionçš„é›†åˆç±»ã€‚å®ç°äº†Collectioné™¤äº†iterator-å’Œsize-æŠ½è±¡æ–¹æ³•-ä»¥å¤–çš„å…¶ä»–æ–¹æ³•ã€‚"><a href="#AbstractCollection-æ˜¯å®ç°Collectionçš„é›†åˆç±»ã€‚å®ç°äº†Collectioné™¤äº†iterator-å’Œsize-æŠ½è±¡æ–¹æ³•-ä»¥å¤–çš„å…¶ä»–æ–¹æ³•ã€‚" class="headerlink" title="AbstractCollection æ˜¯å®ç°Collectionçš„é›†åˆç±»ã€‚å®ç°äº†Collectioné™¤äº†iterator()å’Œsize()(æŠ½è±¡æ–¹æ³•)ä»¥å¤–çš„å…¶ä»–æ–¹æ³•ã€‚"></a>AbstractCollection æ˜¯å®ç°Collectionçš„é›†åˆç±»ã€‚å®ç°äº†Collectioné™¤äº†iterator()å’Œsize()(æŠ½è±¡æ–¹æ³•)ä»¥å¤–çš„å…¶ä»–æ–¹æ³•ã€‚</h3><h2 id="List"><a href="#List" class="headerlink" title="List"></a>List</h2><p>List ç»§æ‰¿è‡ª Colletionæ¥å£ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æœ‰ä¸ªç´¢å¼•å·ï¼Œæ˜¯æœ‰åºçš„é˜Ÿåˆ—ï¼Œè€Œä¸”å®ƒçš„å…ƒç´ æ˜¯å¯ä»¥é‡å¤çš„ï¼Œé™¤äº†ç»§æ‰¿Collectionçš„æ–¹æ³•å¤–ï¼Œè¿˜æœ‰è‡ªå·±çš„APIæ¥å£</p>
<pre><code>boolean add(E e);   æ·»åŠ å…ƒç´ åˆ°é˜Ÿå°¾
boolean remove(Object o)   åˆ é™¤ç¬¬ä¸€æ¬¡å‡ºç°çš„oå¯¹è±¡
default void sort(Comparator&lt;? super E&gt; c);    æ’åºï¼ˆé€šè¿‡Array.sort(c)ï¼‰  æä¾›æ¯”è¾ƒå™¨ç”¨Array.sortæ¥æ’åº
*E get(int index);   è·å–å…·ä½“æŸä¸ªç´¢å¼•çš„å…ƒç´ 
*E set(int index,E element)  è®¾ç½®å…·ä½“æŸä¸ªç´¢å¼•å¯¹åº”çš„å…ƒç´ ä¸º element
*E add(int index,E element)  åœ¨å…·ä½“ç´¢å¼•å¤„æ’å…¥å…ƒç´ 
*E remove(int index) åˆ é™¤ç´¢å¼•ä¸ºindexçš„å…ƒç´ 
*int indexOf(Object o) æŸ¥è¯¢å…ƒç´ oç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•
*int lastIndexOf(Object o) æŸ¥è¯¢å…ƒç´ oæœ€åä¸€æ¬¡å‡ºç°çš„ç´¢å¼•
ListIterator&lt;E&gt; listIterator()  è¿”å›æœ‰ä¸ªé˜Ÿåˆ—çš„è¿­ä»£å™¨
ListIterator&lt;E&gt; listIterator(int index) è¿”å›ä»indexå¼€å§‹çš„è¿­ä»£å™¨
*List&lt;E&gt; subList(int fromeIndex,int toIndex) è¿”å›æŒ‡å®šçš„ä¸€æ®µå­é˜Ÿåˆ—
</code></pre><h3 id="AbstractList-ç»§æ‰¿è‡ªAbstractCollection-ï¼Œå®ç°Listæ¥å£ï¼Œé™¤get-å’Œ-size-ä¸¤ä¸ªæŠ½è±¡æ–¹æ³•å¤–å®ç°äº†Listçš„å…¶ä»–æ–¹æ³•ï¼Œæ˜¯ArrayListå’ŒLinkedListçš„åŸºç±»"><a href="#AbstractList-ç»§æ‰¿è‡ªAbstractCollection-ï¼Œå®ç°Listæ¥å£ï¼Œé™¤get-å’Œ-size-ä¸¤ä¸ªæŠ½è±¡æ–¹æ³•å¤–å®ç°äº†Listçš„å…¶ä»–æ–¹æ³•ï¼Œæ˜¯ArrayListå’ŒLinkedListçš„åŸºç±»" class="headerlink" title="AbstractList ç»§æ‰¿è‡ªAbstractCollection ï¼Œå®ç°Listæ¥å£ï¼Œé™¤get() å’Œ size() ä¸¤ä¸ªæŠ½è±¡æ–¹æ³•å¤–å®ç°äº†Listçš„å…¶ä»–æ–¹æ³•ï¼Œæ˜¯ArrayListå’ŒLinkedListçš„åŸºç±»"></a>AbstractList ç»§æ‰¿è‡ªAbstractCollection ï¼Œå®ç°Listæ¥å£ï¼Œé™¤get() å’Œ size() ä¸¤ä¸ªæŠ½è±¡æ–¹æ³•å¤–å®ç°äº†Listçš„å…¶ä»–æ–¹æ³•ï¼Œæ˜¯ArrayListå’ŒLinkedListçš„åŸºç±»</h3><h4 id="ArrayList-ï¼ŒLinkedListï¼Œvectoréƒ½æ˜¯ç»§æ‰¿è‡ªAbstractList"><a href="#ArrayList-ï¼ŒLinkedListï¼Œvectoréƒ½æ˜¯ç»§æ‰¿è‡ªAbstractList" class="headerlink" title="ArrayList ï¼ŒLinkedListï¼Œvectoréƒ½æ˜¯ç»§æ‰¿è‡ªAbstractList"></a>ArrayList ï¼ŒLinkedListï¼Œvectoréƒ½æ˜¯ç»§æ‰¿è‡ªAbstractList</h4><p>ä¸‰è€…åŒºåˆ«åœ¨äº<br>LinkedListï¼š</p>
<pre><code>ç›´æ¥ç»§æ‰¿çš„æ˜¯AbstractSequentialList,ä¸”å®ç°äº†Queueæ¥å£ã€‚
å®é™…ä¸Šæ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œæ‰€ä»¥å®ƒçš„å¾ˆå¤šæ“ä½œéƒ½æ˜¯é“¾è¡¨æ“ä½œï¼Œå»ºç«‹é“¾è¡¨ä¸»è¦çš„æ–¹æ³•éƒ½æ˜¯ç§æœ‰æ–¹æ³•ï¼Œç”¨äºå†…éƒ¨é“¾è¡¨çš„å»ºç«‹ï¼Œæ¯”å¦‚
å®šä¹‰ç§æœ‰èŠ‚ç‚¹ç±»Node&lt;E&gt;
private static class Node&lt;E&gt; {
    E item;
    Node&lt;E&gt; next;
    Node&lt;E&gt; prev;

    Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) {
        this.item = element;
        this.next = next;
        this.prev = prev;
    }
}
(private)æ–¹æ³•
    linkFirst(E e)     é“¾æ¥eä½œä¸ºç¬¬ä¸€ä¸ªå…ƒç´ 
    unlinkFirst(Node&lt;e&gt; f)  åˆ é™¤éç©ºçš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹f
    unlinkLast(Node&lt;e&gt; l)   åˆ é™¤éç©ºçš„æœ€åä¸€ä¸ªèŠ‚ç‚¹l
    writeObject(java.io.ObjectOutputStream s)  ä¿å­˜é“¾è¡¨å½“å‰çŠ¶æ€åˆ°streamä¸­ï¼ˆç”¨äºåºåˆ—åŒ–ï¼‰
    readObject(java.io.ObjectInputStream s)     å¯¹åº”çš„ååºåˆ—åŒ–
    isElementIndex(int index)   ç´¢å¼•indexå¤„æ˜¯å¦å­˜åœ¨å…ƒç´ 
    isPositionIndex(int index)  indexæ˜¯å¦æœ‰æ•ˆ
    ...
    ï¼ˆå…¶é“¾è¡¨å®ç°ä¸æ“ä½œçš„å®ç°ä¸cè¯­è¨€ä¸­é“¾è¡¨çš„æ“ä½œåŸºæœ¬ç›¸åŒï¼‰

(friendly)æ–¹æ³•
    linkLast(E e)   è¿æ¥eä½œä¸ºé˜Ÿåä¸€ä¸ªå…ƒç´ 
    linkBefore(E e,Node&lt;e&gt; succ)    åœ¨èŠ‚ç‚¹succå‰æ’å…¥å…ƒç´ e
    unlink(Node&lt;E&gt; x)   åˆ é™¤èŠ‚ç‚¹x
å…¶ä½™åŸºæœ¬ä¸ºLinkedListçš„API,ä¹Ÿä½“ç°äº†åŒå‘é“¾è¡¨çš„ç‰¹ç‚¹ï¼ˆä¹ŸåŒ…å«äº†é˜Ÿåˆ—çš„ç‰¹ç‚¹ï¼‰

    E getFirst()    è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ 
    E getLast()     è¿”å›æœ€åä¸€ä¸ªå…ƒç´ 
    E removeFirst() åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ 
    E removeLast()  åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ 
    void addFirst(E e)  é˜Ÿå¤´æ’å…¥å…ƒç´ 
    void addLast(E e)   æ·»åŠ å…ƒç´ è‡³é˜Ÿå°¾
    Listæ‰€åŒ…å«çš„æ–¹æ³•éƒ½æœ‰å®ç°ï¼ŒåŒ…æ‹¬æ ¹æ®ç´¢å¼•å€¼æ¥æ’å…¥åˆ é™¤ç­‰ã€‚
æŒ‡çš„ä¸€æçš„æ˜¯ï¼ŒLinkedListæ˜¯æ²¡æœ‰å®¹é‡é™åˆ¶çš„ï¼Œæºç ä¸­é˜Ÿsize,first(å¤´èŠ‚ç‚¹),last(å°¾èŠ‚ç‚¹)éƒ½æ˜¯transientç±»å‹çš„ï¼Œå³æš‚æ—¶æ€§çš„ï¼Œä»–çš„å®¹é‡æ˜¯éšæ“ä½œå˜åŒ–çš„ã€‚æ­¤å¤–æ—¢ç„¶æ˜¯é“¾è¡¨ï¼Œé‚£ä¹ˆé¡ºåºéå†æ¯”éšæœºéå†è¦å¿«ï¼Œæ­¤å¤–ä»–ä¹Ÿæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼ŒéåŒæ­¥çš„ã€‚
</code></pre><p>ArrayList:</p>
<pre><code>ArrayListæ˜¯æŒ‡æ˜¯ä¸€ä¸ªåŠ¨æ€æ•°ç»„ï¼Œé»˜è®¤å®¹é‡ä¸º10ï¼Œå­˜å‚¨æ—¶ä¹Ÿæ˜¯æŒ‰æ•°ç»„å½¢å¼å­˜å‚¨ï¼Œå½“å®¹é‡ä¸è¶³æ—¶ï¼Œæ¯æ¬¡å¢åŠ ä¸€åŠã€‚åŒæ ·æ˜¯éåŒæ­¥çš„ã€‚è¦ç´ æ˜¯elementData(transient)å’Œsize,å»ºè®®æ˜¯æ¯æ¬¡åˆ›å»ºæ—¶æŒ‡å®šå¥½å¤§å°ã€‚ç”±äºæ˜¯æ•°ç»„å½¢å¼ï¼Œéå†æ—¶éšæœºè®¿é—®æ•ˆç‡æ˜¯æœ€é«˜çš„ã€‚
</code></pre><p>Vector</p>
<pre><code>Vectoræ˜¯çŸ¢é‡é˜Ÿåˆ—ï¼Œå…¶ç‰¹ç‚¹æ˜¯å¯ä»¥è®¾ç½®å®¹é‡çš„å¢é•¿æŒ‡æ•°å³capacityIncrementï¼Œé»˜è®¤æƒ…å†µä¸‹å®¹é‡ä¸è¶³æ—¶æ˜¯å¢åŠ ä¸€å€ã€‚
å®ƒçš„å†…éƒ¨å®ç°äº†è®¸å¤šå…³äºå®¹é‡çš„æ–¹æ³•ä»¥æ›´å¥½çš„å®Œæˆå¯¹äºå®¹é‡çš„æ§åˆ¶ã€‚æ¯”å¦‚
    ensureCapacityHelper(int minCapacity)   æŒ‡å®šæœ€å°å®¹é‡
    grow(int minCapacity)  minCapacityçš„åŸºç¡€ä¸Šæ‰©å……
    hugeCapacity(int minCapacity)   è¿”å›ä¸€ä¸ªå¤§å®¹é‡
æ­¤å¤–ï¼Œæ­£å¸¸æƒ…å†µä¸‹åˆ†é…ç»™arrayçš„æœ€å¤§sizeæ˜¯Integer.MAX_VALUE - 8 ã€‚
æ³¨æ„è¿™é‡Œçš„sizeå’Œcapacityæ˜¯ä¸¤ä¸ªä¸œè¥¿ï¼Œsizeæ˜¯å…ƒç´ çš„æ•°é‡ï¼Œcapacityæ˜¯vectorçš„å®¹é‡ã€‚
vectoræ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œåˆ‡éšæœºè®¿é—®æ•ˆç‡æœ€é«˜ã€‚
</code></pre><p>Stack</p>
<pre><code>æ ˆæ˜¯ç›´æ¥ç»§æ‰¿è‡ªVectorçš„ï¼Œè§„å¾‹æ˜¯â€œåè¿›å…ˆå‡ºâ€ï¼Œä¹Ÿæ˜¯æœ‰ç‰¹æœ‰çš„çš„å‡ ä¸ªæ–¹æ³•
push()  å‹æ ˆ
pop()   å‡ºæ ˆ
peek()  æŸ¥çœ‹æ ˆé¡¶å…ƒç´ 
</code></pre><p>##æ€»ç»“<br>åšäº†å¤§æ¦‚çš„æ€»ç»“ä¹Ÿç®€å•çš„é˜…è¯»äº†æºç ï¼Œå…¶å®æ˜¯æœ‰ä¸€äº›å…³äºè¿­ä»£å™¨çš„æ–¹æ³•æ²¡æœ‰æåˆ°ï¼Œä»¥åä¹Ÿä¼šå†è¡¥å›æ¥çš„ï¼Œæ˜å¤©æ˜¯Mapçš„ç›¸å…³æ€»ç»“ï¼Œç»§ç»­åŠ æ²¹ï¼</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[2æœˆ28æ—¥ï¼šStringï¼ŒStringBufferï¼ŒStringBuilderå’Œé›†åˆåˆ†ç±»]]></title>
      <url>http://wincber.com/2017/02/28/2.28%20java%20List%20%E5%B0%8F%E7%BB%93/</url>
      <content type="html"><![CDATA[<p>2æœˆ28æ—¥çš„æ”¶è·ï¼šå¯¹Stringï¼ŒStringBufferï¼ŒStringBuilderè¿›è¡Œäº†å°ç ”ç©¶ï¼Œç®€å•åœ°æŸ¥çœ‹äº†æºç ï¼Œä¹Ÿçœ‹äº†ç½‘ä¸Šçš„è®²è§£ä¸‰è€…çš„åŒºåˆ«å’Œä¼˜ç¼ºç‚¹å’Œä½¿ç”¨æ–¹æ³•å¯¹javaä¸­çš„é›†åˆéƒ¨åˆ†æœ‰äº†ä¸€å®šçš„äº†è§£ã€‚ï¼ˆé€šè¿‡ç®€å•çš„æŸ¥çœ‹æºç ä»¥åŠç½‘ä¸Šåšå®¢åˆ†æï¼‰ï¼Œè¿˜æœ‰<a id="more"></a> ç»™åšå®¢ç«™ç‚¹è£…äº†ä¸ªç½‘æ˜“äº‘éŸ³ä¹çš„å¤–é“¾æ’­æ”¾å™¨ï¼Œè¿˜ä¸é”™å“¦ã€‚è¿˜æœ‰è¿™ä¸¤å¤©ä¹°äº†ä¸¤æœ¬ä¹¦ã€ŠAndroidå¼€å‘è‰ºæœ¯æ¢ç´¢ã€‹ï¼Œã€Šç®—æ³•å¯¼è®ºã€‹ï¼Œandroidè¦äº†è§£æ·±å±‚çŸ¥è¯†ï¼Œç®—æ³•ä¹Ÿè¦åˆ·ï¼</p>
<p>åºŸè¯ï¼šåˆšå¼€å­¦è¿™ä¸¤å¤©äº‹ç‰¹åˆ«å¤šï¼Œå‹åŠ›ä¹Ÿå¾ˆå¤šï¼Œäº‹å¤šæ˜¯èº«ä»½è¯ä¸¢äº†è¦å¼‚åœ°è¡¥åŠéº»çƒ¦çš„å¾ˆï¼Œè¿˜æœ‰æŠ¥äº†é©¾æ ¡ï¼Œæ¥ä¸‹æ¥çš„æ—¥å­ä¹Ÿè¦æŒ¤å‡ºæ—¶é—´æ¥ç»ƒè½¦ï¼Œè¿˜å¥½è¿™å­¦æœŸè¯¾ä¸æ˜¯å¾ˆå¤šï¼ˆæš‚æ—¶ï¼‰ï¼Œå‹åŠ›å¤§æ˜¯å› ä¸ºæ‰“ç®—æ‰¾ä¸ªå®ä¹ ï¼Œåˆšå¥½æœ€è¿‘å„å¤§å…¬å¸éƒ½å¼€å§‹äº†å†…æ¨ï¼Œå¿ƒé‡Œå¾ˆçº ç»“ï¼Œä¸€æ–¹é¢è§‰å¾—è‡ªå·±å®åŠ›ä¸å¤Ÿè¿›å¤§å…¬å¸ï¼ˆç”šè‡³å°å…¬å¸è‡ªå·±å¿ƒé‡Œä¹Ÿæ²¡æœ‰åº•ï¼‰ï¼Œå¦ä¸€æ–¹é¢åˆæƒ³è¯•è¯•ï¼Œå”‰ï¼Œä½†æ˜¯ä¸ç®¡æ€ä¹ˆè¯´æ¥ä¸‹<br>çš„æ—¥å­è‚¯å®šæ˜¯è¦åŠ å€åŠªåŠ›ã€‚<br>æ­£æ–‡ï¼š<br>æƒ³ç€è¦å®ä¹ ï¼Œæ˜¯è¦çœ‹ä¸€äº›é¢è¯•çš„é¢˜ç›®æˆ–è€…è€ç”Ÿå¸¸è°ˆçš„é—®é¢˜ï¼Œåˆšå¥½è¿™å­¦æœŸè¯¾è¡¨é‡Œä¹Ÿæœ‰javaï¼Œè‡ªå·±ä¹Ÿè¦å·©å›ºä¸€ä¸‹javaã€‚æ‰€ä»¥å°±æ¥åˆ°äº†Stringï¼ŒStringBufferï¼ŒStringBuilderä¸‰è€…ï¼Œä»¥åŠé›†åˆçš„åˆ†ç±»å’Œä½¿ç”¨ã€‚</p>
<h2 id="Stringï¼ŒStringBufferï¼ŒStringBuilder"><a href="#Stringï¼ŒStringBufferï¼ŒStringBuilder" class="headerlink" title="Stringï¼ŒStringBufferï¼ŒStringBuilder"></a>Stringï¼ŒStringBufferï¼ŒStringBuilder</h2><p>ç½‘ä¸Šåˆ†æçš„æ–‡ç« æœ‰å¾ˆå¤šï¼Œä½†æƒ³ç€è‡ªå·±å†™ä¸€éæ›´åŠ æ·±äº†è§£ã€‚ã€‚ã€‚<br>é¦–å…ˆå®ƒä»¬éƒ½æ˜¯é€šè¿‡ //char[] æ¥å­˜å‚¨å­—ç¬¦ä¸²çš„å­—ç¬¦ï¼Œå…¶ä¸­Stringä¸­çš„ //char[] æ˜¯finalå‹çš„ æ‰€ä»¥Stringæ˜¯ä¸å¯å˜çš„ï¼Œè€ŒStringBufferå’ŒStringBuilderéƒ½æ˜¯ç»§æ‰¿è‡ªAbstractStringBuilderï¼Œå…¶å­—ç¬¦ä¸²æ˜¯å¯å˜çš„ã€‚<br>æ‰€ä»¥æœ‰å¸¸è¯´çš„Stringä¸èƒ½ä¿®æ”¹ï¼Œè€Œè¦è¿›è¡Œå­—ç¬¦ä¸²çš„ä¿®æ”¹çš„è¯ä½¿ç”¨StringBufferå’ŒStringBuilderï¼Œè€ŒStringBufferå’ŒStringBuilderçš„åŒºåˆ«åœ¨äºçº¿ç¨‹å®‰å…¨åŒºåˆ«ï¼Œçœ‹æºç å¯ä»¥çŸ¥é“StringBufferå’ŒStringBuilderè™½ç„¶åŸºç±»éƒ½æ˜¯AbstractStringBuilderä¸”å†…éƒ¨æ–¹æ³•å®ç°åŸºæœ¬ç›¸åŒï¼Œä½†æ˜¯åŒºåˆ«åœ¨äºï¼ŒStringBufferæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå…¶ä¸StringBuilderçš„æ–¹æ³•åŒºåˆ«æ˜¯ä»–çš„æ–¹æ³•éƒ½æ˜¯sychronizedçš„å³çº¿ç¨‹åŒæ­¥çš„ï¼Œæ‰€ä»¥åœ¨å¤šçº¿ç¨‹ä¸­ä½¿ç”¨StringBufferæ›´åŠ å®‰å…¨ï¼Œè€Œå•çº¿ç¨‹ä¸­çš„è¯ä½¿ç”¨StringBuilderä¼šæ›´åŠ é«˜æ•ˆã€‚</p>
<h2 id="é›†åˆï¼šä»ä¸Šè‡³ä¸‹å³ä»Collectionå’ŒMapä¸¤ä¸ªæ¥å£åˆ°ä¸¤ä¸ªæ¥å£æ´¾ç”Ÿçš„Listã€Setæ¥å£å’ŒSortedMapï¼ŒNegativeMapæ¥å£ä¹ƒè‡³å®ç°å„è‡ªæ¥å£çš„ç±»"><a href="#é›†åˆï¼šä»ä¸Šè‡³ä¸‹å³ä»Collectionå’ŒMapä¸¤ä¸ªæ¥å£åˆ°ä¸¤ä¸ªæ¥å£æ´¾ç”Ÿçš„Listã€Setæ¥å£å’ŒSortedMapï¼ŒNegativeMapæ¥å£ä¹ƒè‡³å®ç°å„è‡ªæ¥å£çš„ç±»" class="headerlink" title="é›†åˆï¼šä»ä¸Šè‡³ä¸‹å³ä»Collectionå’ŒMapä¸¤ä¸ªæ¥å£åˆ°ä¸¤ä¸ªæ¥å£æ´¾ç”Ÿçš„Listã€Setæ¥å£å’ŒSortedMapï¼ŒNegativeMapæ¥å£ä¹ƒè‡³å®ç°å„è‡ªæ¥å£çš„ç±»"></a>é›†åˆï¼šä»ä¸Šè‡³ä¸‹å³ä»Collectionå’ŒMapä¸¤ä¸ªæ¥å£åˆ°ä¸¤ä¸ªæ¥å£æ´¾ç”Ÿçš„Listã€Setæ¥å£å’ŒSortedMapï¼ŒNegativeMapæ¥å£ä¹ƒè‡³å®ç°å„è‡ªæ¥å£çš„ç±»</h2><pre><code>Listï¼ˆæœ‰åºå¯é‡å¤ï¼‰:ArrayList,LinkedList,Vector,Stack.
Setï¼ˆä¸å¯é‡å¤ï¼‰ï¼šHashSet
Map:HashMap HashTableï¼ŒTreeMapï¼ŒWeakHashMap
å·¥å…·ç±»ï¼šArraysï¼ŒCollections
</code></pre><p>å…¶ç»§æ‰¿ä¸å®ç°ä¾èµ–å…³ç³»å¯è§ä¸‹å›¾ï¼š<br><img src="http://oczm2hjoz.bkt.clouddn.com/Image/jpg/Collection.jpg" width="600" height="500" alt="å…³ç³»å›¾" align="center"><br>å…³ç³»å¾ˆæ˜ç„¶å¯¹å§ï¼ŒMapè¿™è¾¹çš„è¿˜æ²¡æœ‰çœ‹å®Œï¼Œæ‰€ä»¥æ˜å¤©å†™é›†åˆéƒ¨åˆ†çš„æ‰€æœ‰æ€»ç»“å§</p>
<p>æ€»ç»“ï¼šè¿˜æ˜¯è¦çœ‹ä¸€äº›æ·±å±‚æ¬¡çš„ä¸œè¥¿å•Šï¼</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[2.28 Android IPCå‰ä¸‰èŠ‚æ”¶è·]]></title>
      <url>http://wincber.com/2017/02/28/2-28-Android-IPC/</url>
      <content type="html"><![CDATA[<p>ä¹°äº†ã€ŠAndroidå¼€å‘è‰ºæœ¯æ¢ç´¢ã€‹ï¼Œçœ‹äº†IPCè¿™ä¸€ç« èŠ‚çš„å‰ä¸¤ä¸ªå°èŠ‚ï¼Œåºåˆ—åŒ–æœºåˆ¶å’ŒBinderï¼Œå³è¿›ç¨‹é—´é€šä¿¡è¿™ä¸€èŠ‚ï¼Œè°ˆè°ˆæ”¶è·ã€‚<br><a id="more"></a><br>è¿›ç¨‹é—´é€šä¿¡åœ¨Androidå¼€å‘ä¸­å¥½åƒä¸æ˜¯å¾ˆå¸¸è¯´ï¼ˆè‡³å°‘ä»¥æˆ‘çš„ç›®å‰å°‘å¾—å¯æ€œçš„ç»éªŒä¸­é™¤äº†ç‰¹æ„æµ‹è¯•è¿›ç¨‹çš„demoå¤–æ²¡æœ‰ç”¨è¿‡è¿›ç¨‹é—´é€šä¿¡ï¼‰ã€‚</p>
<h2 id="ç¬¬ä¸€å°èŠ‚-IPCä»‹ç»"><a href="#ç¬¬ä¸€å°èŠ‚-IPCä»‹ç»" class="headerlink" title="ç¬¬ä¸€å°èŠ‚ IPCä»‹ç»"></a>ç¬¬ä¸€å°èŠ‚ IPCä»‹ç»</h2><p>ç¬¬ä¸€å°èŠ‚ä¸»è¦ä»‹ç»äº†Android IPCæœºåˆ¶çš„æ¦‚å¿µï¼Œä¸»è¦æå‡ºäº†Andoridä¸Šçš„è¿›ç¨‹é—´é€šä¿¡å’Œå…¶ä»–å¹³å°ä¸Šçš„è¿›ç¨‹é—´é€šä¿¡ï¼Œæåˆ°å„ä¸ªå¹³å°çš„ç‰¹æœ‰çš„è¿›ç¨‹é—´é€šä¿¡æ–¹å¼æ¯”å¦‚Windowsçš„ç®¡é“ï¼Œé‚®æ§½ï¼ŒLinuxä¸Šçš„å‘½åç®¡é“ï¼Œä¿¡å·é‡ï¼Œå…±äº«å†…å­˜ç­‰ç­‰ã€‚<br>è€ŒAndroidä¸Šç‰¹æœ‰çš„å°±æ˜¯Binderï¼Œæ­¤å¤–è¿˜æœ‰socketï¼ˆsocketåœ¨å„ä¸ªå¹³å°éƒ½å¯ä»¥å§ï¼‰ï¼Œè€Œç”¨åˆ°è¿›ç¨‹é—´é€šä¿¡çš„åœºæ™¯ä¸»è¦1ï¼Œåº”ç”¨ä½“ç§¯å¤§éœ€è¦å¼€å¯å¤šè¿›ç¨‹æ¥è·å–å¤šå—å†…,2ï¼Œç‰¹æ®Šæ¨¡å—éœ€è¦å•ç‹¬è¿è¡Œåœ¨å•ä¸ªè¿›ç¨‹ä¸­ï¼Œ3ï¼Œå‘å…¶ä»–åº”ç”¨è·å–æ•°æ®ï¼ˆç”¨ContentProviderä¹Ÿæ˜¯è¿›ç¨‹é—´é€šä¿¡ï¼‰ã€‚</p>
<h2 id="ç¬¬äºŒå°èŠ‚-å¤šè¿›ç¨‹æ¨¡å¼"><a href="#ç¬¬äºŒå°èŠ‚-å¤šè¿›ç¨‹æ¨¡å¼" class="headerlink" title="ç¬¬äºŒå°èŠ‚ å¤šè¿›ç¨‹æ¨¡å¼"></a>ç¬¬äºŒå°èŠ‚ å¤šè¿›ç¨‹æ¨¡å¼</h2><p>ç¬¬ä¸€å°èŠ‚é€šè¿‡android:processçš„è®¾ç½®çš„demoä»‹ç»äº†å¼€å¯æ–°è¿›ç¨‹çš„æ–¹å¼ã€‚<br>ç¬¬äºŒå°èŠ‚é€šè¿‡åˆ›å»ºä¸€ä¸ªç±»ï¼Œé€šè¿‡åœ¨ä¸åŒè¿›ç¨‹ä¸­ä¿®æ”¹è¯¥ç±»ä¸­çš„ä¸€ä¸ªé™æ€å˜é‡å€¼è€Œå¾—å‡ºçš„å¤šè¿›ç¨‹æ•°æ®ä¸èƒ½åŒæ­¥å…±äº«å› ä¸ºæ¯ä¸ªè¿›ç¨‹ä¸­è¯¥ç±»æ˜¯å•ç‹¬çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œä¿®æ”¹ç±»ä¸­çš„é™æ€å€¼ä¸ä¼šå½±å“å…¶ä»–è¿›ç¨‹ã€‚<br>æ‰€ä»¥å¤šè¿›ç¨‹å¯èƒ½é€ æˆçš„é—®é¢˜ï¼š</p>
<pre><code>1.é™æ€æˆå‘˜å’Œå•ä¾‹æ¨¡å¼å®Œå…¨å¤±æ•ˆ
2.çº¿ç¨‹åŒæ­¥æœºåˆ¶å®Œå…¨å¤±æ•ˆ
3.SharedPreferencesçš„å¯é æ€§ä¸‹é™ï¼ˆåº•å±‚é€šè¿‡è¯»/å†™ XMLæ–‡ä»¶å®ç°ï¼Œå¹¶å‘è¯»å†™ä¼šå‡ºé—®é¢˜ï¼‰
4.Applicationä¼šå¤šæ¬¡åˆ›å»ºï¼ˆä¸€ä¸ªè¿›ç¨‹ä¸€ä¸ªåº”ç”¨ï¼‰
</code></pre><h2 id="ç¬¬ä¸‰å°èŠ‚-åºåˆ—åŒ–æœºåˆ¶"><a href="#ç¬¬ä¸‰å°èŠ‚-åºåˆ—åŒ–æœºåˆ¶" class="headerlink" title="ç¬¬ä¸‰å°èŠ‚ åºåˆ—åŒ–æœºåˆ¶"></a>ç¬¬ä¸‰å°èŠ‚ åºåˆ—åŒ–æœºåˆ¶</h2><h3 id="Serializableæ¥å£"><a href="#Serializableæ¥å£" class="headerlink" title="Serializableæ¥å£"></a>Serializableæ¥å£</h3><p>æ˜¯javaçš„åºåˆ—åŒ–ï¼ŒserialVersionUIDå°±æ˜¯åºåˆ—åŒ–æ ‡è®°ï¼Œç”¨äºè¾…åŠ©è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–.é€šè¿‡FileOutputStreamï¼ŒFileInputStreamè¿›è¡Œè¯»å†™ï¼ˆè¿™é‡Œæ˜¯è¯»å†™åˆ°æ–‡ä»¶ä¸­ï¼‰æ¥å®ç°ç®€å•çš„åºåˆ—åŒ–ã€‚</p>
<h3 id="Parcelableæ¥å£"><a href="#Parcelableæ¥å£" class="headerlink" title="Parcelableæ¥å£"></a>Parcelableæ¥å£</h3><p>æ˜¯androidç‰¹æœ‰çš„åºåˆ—åŒ–å®ç°Serializableæ¥å£åï¼Œä¸€ä¸ªç±»çš„å¯¹è±¡å°±èƒ½å®ç°åºåˆ—åŒ–å¯ä»¥é€šè¿‡Intentå’ŒBinderä¼ é€’ã€‚<br>ä¸»è¦å®ç°åŠŸèƒ½æœ‰ </p>
<pre><code>1.åºåˆ—åŒ–  writeToParcel(Parcle out,int flags) é€šè¿‡Parcelçš„writeæ–¹æ³•å®Œæˆ
2.ååºåˆ—åŒ– CREATORå®Œæˆ  é€šè¿‡Parcleçš„readæ–¹æ³•å®Œæˆ
3.å†…å®¹æè¿° describeContent() æ–¹æ³•å®Œæˆ ï¼ˆå‡ ä¹æ‰€æœ‰æƒ…å†µä¸‹éƒ½è¿”å›0ï¼‰
</code></pre><h3 id="Binder"><a href="#Binder" class="headerlink" title="Binder"></a>Binder</h3><p>è¿™èŠ‚æŒºéš¾ã€‚é¦–å…ˆä»‹ç»äº†Binderçš„æ¦‚å¿µï¼Œæ˜¯å®ç°äº†IBinderæ¥å£çš„ä¸€ä¸ªç±»ï¼Œæ˜¯androidç‰¹æœ‰çš„ä¸€ä¸ªè·¨è¿›ç¨‹é€šä¿¡æ–¹å¼ã€‚<br>Binderä¸»è¦ç”¨åœ¨Serviceä¸­ï¼ŒåŒ…æ‹¬AIDLå’ŒMessenger(åº•å±‚æ˜¯AIDL)<br>æ¥ç€é€šè¿‡ç”Ÿæˆä¸€ä¸ªAIDLç¤ºä¾‹çš„Demoä»‹ç»äº†ç³»ç»Ÿç”Ÿæˆçš„Binderå†…éƒ¨ä»¥åŠå¦‚ä½•å®ç°ï¼Œè¿™ä¸€éƒ¨åˆ†æ¯”è¾ƒç¹æ‚ï¼Œç³»ç»Ÿç”Ÿæˆæˆ–è€…è‡ªå·±å†™çš„Binderä¸­é‡è¦éƒ¨åˆ†æœ‰</p>
<pre><code>1.DESCRIPTOR  Binderçš„å”¯ä¸€æ ‡è¯†ï¼ˆä¸€èˆ¬æ˜¯å½“å‰ç±»åï¼ˆåŒ…å«åŒ…åï¼‰ï¼‰
2.asInterface(android.os.IBinder obj)   ç”¨äºå°†æœåŠ¡ç«¯çš„Binderå¯¹è±¡è½¬æ¢æˆå®¢æˆ·ç«¯æ‰€éœ€çš„AIDLæ¥å£ç±»å‹å¯¹è±¡ï¼Œå¯èƒ½è¿”å›å¯¹è±¡æœ¬èº«ï¼Œå¯èƒ½è¿”å›Stub.proxyå¯¹è±¡
3.asBinder() è¿”å›å½“å‰Binderå¯¹è±¡
4.onTransact(int code,android.os.Parcel data,android.os.Parcel reply,int flags) è¿è¡Œåœ¨Binderçº¿ç¨‹æ± ä¸­ï¼Œé€šè¿‡codeè¯†åˆ«è¯·æ±‚æ–¹æ³•ï¼Œdataå–å‡ºæ•°æ®ï¼Œreplyå†™å…¥è¿”å›å€¼
5.Proxy#getBookList è¿è¡Œåœ¨å®¢æˆ·ç«¯ï¼Œé€šè¿‡Parcelå¯¹è±¡_data,_replyè¿›è¡Œè¾“å…¥è¾“å‡ºç„¶åçº¿ç¨‹æŒ‚èµ·ï¼ŒæœåŠ¡ç«¯è°ƒç”¨ontransact
6.Proxy#addBook åŒç†
</code></pre><p>æš‚æ—¶åˆ°è¿™</p>
<p>æ€»ç»“ï¼šIPCæœºåˆ¶å°¤å…¶æ˜¯Binderè™½ç„¶æˆ‘æ²¡ç”¨è¿‡ï¼Œä½†æ˜¯æ˜¯å¾ˆæœ‰å¿…è¦äº†è§£å¹¶æ˜ç™½åŸç†çš„ï¼Œæ˜å¤©æ¥ç€çœ‹å†™ï¼</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[androidæœåŠ¡å™¨ç«¯ä¸å®¢æˆ·ç«¯Socketé€šä¿¡Demo]]></title>
      <url>http://wincber.com/2016/12/04/android%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E4%B8%8E%E5%AE%A2%E6%88%B7%E7%AB%AFSocket%E9%80%9A%E4%BF%A1Demo/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>  æœ€è¿‘è®¡ç½‘çœ‹åˆ°TCP/IPåè®®ï¼Œå’Œsocketé€šä¿¡ï¼Œçœ‹androidçš„ç½‘ç»œç¼–ç¨‹ä¹¦ä¸Šåˆšå¼€å§‹è®²TCP/IPåè®®ï¼Œå¹¶ä¸”è®²socketé€šä¿¡ï¼Œå°±å†³å®šæ¥è§¦ä¸€ä¸‹socketç¼–ç¨‹ï¼Œè¿™ä¸ªæ¶‰åŠåˆ°æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯ä¸¤ä¸ªæ–¹é¢ï¼Œä½†æ˜¯åŸç†æ˜¯ä¸€æ ·çš„ã€‚<br><a id="more"></a></p>
<h2 id="Socket-é€šä¿¡"><a href="#Socket-é€šä¿¡" class="headerlink" title="Socket é€šä¿¡"></a>Socket é€šä¿¡</h2><p>  è‡³äºTCP/IPåè®®å°±ä¸è¯¦è¯´äº†ï¼Œå¤§å®¶ä¹Ÿå­¦è¿‡ï¼Œç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šèµ„æ–™ï¼Œç®€å•çš„è¯´ï¼ŒTCPæ˜¯é¢å‘è¿æ¥çš„ï¼Œæ‰€ä»¥è¿™é‡Œç”¨åˆ°Socketç¼–ç¨‹ä½¿ç”¨socketå»ºç«‹æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯é—´çš„è¿æ¥ã€‚</p>
<p>è¿™ä¸ªå°Demoé‡Œåšäº†æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯ï¼ŒæœåŠ¡å™¨ç«¯æ˜¯åœ¨pcï¼Œç”¨SocketServeræ¥æ­å»ºï¼Œå®¢æˆ·ç«¯åœ¨androidä¸Šï¼Œä¹Ÿæ˜¯ç”¨javaçš„socketæ¥å»ºç«‹ã€‚</p>
<h2 id="åŸºæœ¬æ­¥éª¤"><a href="#åŸºæœ¬æ­¥éª¤" class="headerlink" title="åŸºæœ¬æ­¥éª¤"></a>åŸºæœ¬æ­¥éª¤</h2><h3 id="æœåŠ¡å™¨ç«¯"><a href="#æœåŠ¡å™¨ç«¯" class="headerlink" title="æœåŠ¡å™¨ç«¯"></a>æœåŠ¡å™¨ç«¯</h3><p>  å¼€å§‹æ—¶ç»ƒä¹ çš„ä¸æ˜¯åœ¨androidä¸Šï¼Œæ˜¯javaä¸Šsocketé€šä¿¡ï¼Œç®€å•çš„ä¸€å¯¹ä¸€çš„è¯ä¸ç”¨å¼€å¯çº¿ç¨‹ï¼Œè¦ä½¿å¤šä¸ªå®¢æˆ·ç«¯è¿å…¥çš„è¯å°±éœ€è¦æ¯æ¬¡æ¥3å—åˆ°ä¸€ä¸ªsocketè¿æ¥å°±å¼€å¯ä¸€ä¸ªçº¿ç¨‹æ¥å¤„ç†è¿™ä¸ªsocketçš„é€šä¿¡ï¼Œè¦æƒ³æœåŠ¡å™¨ä¹Ÿå‘å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯çš„è¯å°±è¦å†å¼€å¯å‘é€æœåŠ¡å™¨è‡ªå®šä¹‰çš„æ¶ˆæ¯<br>ä¸è¿‡æˆ‘è¿™å„¿å°±å‘é€ä½ æ§åˆ¶å°è¾“å…¥çš„æ¶ˆæ¯äº†ï¼ˆSystem.inï¼‰ã€‚å½“ç„¶è¿™æ ·å°±ä¸èƒ½å•ç‹¬å‘æŸä¸ªå®¢æˆ·ç«¯å‘é€è‡ªå®šä¹‰æ¶ˆæ¯äº†ï¼Œè€Œä¸”ä¸ºå¼€å¯å¤šå°‘ä¸ªå®¢æˆ·ç«¯ä»‹å…¥çš„å­çº¿ç¨‹ï¼Œå°±å¼€å¯å¤šå°‘ä¸ªæ¥å—System.inçš„å­çº¿ç¨‹ï¼Œæ‰€ä»¥æ¯ä¸ªå®¢æˆ·ç«¯éƒ½ä¼šæ¥æ”¶åˆ°åŒæ ·çš„è‡ªå®šä¹‰æ¶ˆæ¯ã€‚</p>
<h3 id="å®¢æˆ·ç«¯"><a href="#å®¢æˆ·ç«¯" class="headerlink" title="å®¢æˆ·ç«¯"></a>å®¢æˆ·ç«¯</h3><p>  å®¢æˆ·ç«¯æ–¹é¢éœ€è¦å¼€å¯ä¸¤ä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªçº¿ç¨‹æ˜¯ç”¨æ¥ä¸æœåŠ¡å™¨è¿›è¡Œé€šä¿¡ï¼Œä¸€ä¸ªçº¿ç¨‹ç”¨æ¥æ›´æ–°UIï¼ˆå°†æœåŠ¡å™¨å‘æ¥çš„æ¶ˆæ¯æ˜¾ç¤ºåœ¨TextViewä¸­ï¼‰ã€‚<br>å¤§æ¦‚å°±æ˜¯è¿™æ ·ã€‚</p>
<h2 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h2><p>1.æœåŠ¡å™¨IPåœ°å€é—®é¢˜<br>  è¿™ä¸ªdemoä¸­å®¢æˆ·ç«¯é“¾æ¥çš„æ˜¯å±€åŸŸç½‘ä¸­ä¸»æœºçš„ipï¼Œæ‰‹æœºè¦ä¸PCåœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ä¸­ï¼Œè‡³äºå¦‚ä½•æ¢æˆè¿æ¥å…¬ç½‘ï¼ˆä¸åœ¨åŒä¸€å±€åŸŸç½‘æ—¶ä¹Ÿå¯ä»¥é€šä¿¡ï¼‰è¿™ä¸ªé—®é¢˜æ¯”è¾ƒéº»çƒ¦ï¼Œè®¾è®¡ç‚¹åˆ°ç‚¹é€šä¿¡ä¹‹ç±»çš„è®¡ç®—æœºç½‘ç»œçŸ¥è¯†ï¼Œè™½è¯´è¿™å­¦æœŸå­¦äº†è®¡ç®—æœºç½‘ç»œï¼Œä½†æ˜¯ã€‚ã€‚å”‰ä¸è¯´äº†<br>åæ­£å°±æ˜¯è¿å…¬ç½‘çš„è¯è¿˜éœ€è¦æ‚¨è‡ªå·±å»æŸ¥é˜…èµ„æ–™è§£å†³ï¼Œæˆ‘ä¹Ÿå›å»ç ”ç©¶ç ”ç©¶ï¼Œä¸è¿‡è¿™é‡Œå°±ä¸è§£å†³äº†<br>2.å‘é€ä¿¡æ¯ç´Šä¹±é—®é¢˜<br>ï¼ˆ1ï¼‰å¤šçº¿ç¨‹çš„è¯»å†™ï¼šåœ¨åˆšå¼€å§‹æ—¶ç»ƒä¹ æ—¶ï¼Œå¤šä¸ªå®¢æˆ·ç«¯è¿å…¥ï¼Œä¸æœåŠ¡å™¨äº’å‘æ¶ˆæ¯ä¼šå‡ºç°ä¹±æ‰ï¼Œé—®é¢˜ä¸»è¦å‡ºåœ¨æœåŠ¡å™¨ç«¯ï¼Œç”¨äºè¯»å–æ¥å…¥å®¢æˆ·ç«¯è€Œåˆ›å»ºçš„å¥—æ¥å­—çš„socketçš„BufferedReaderä»¥åŠå‹‡äºå†™å…¥çš„BufferedWriteréƒ½éœ€è¦å®šä¹‰ä¸ºå±€éƒ¨å˜é‡ï¼Œå› ä¸ºå¤šçº¿ç¨‹ä¸­çš„socketä¸åŒï¼Œè¯»å–å’Œå†™å…¥æ¯ä¸ªéƒ½è¦å•ç‹¬æ“ä½œï¼Œä¸ç„¶å°±ä¼šå‡ºç°è¿™ä¸ªçº¿ç¨‹ä¸­è¯»å‡ºçš„æ˜¾ç¤ºåœ¨å¦ä¸€ä¸ªçº¿ç¨‹ä¸­å‘ç»™æœåŠ¡å™¨çš„InputStreamã€‚<br>ï¼ˆ2ï¼‰æœåŠ¡å™¨ç«¯æ¥å—System.inçš„æ¶ˆæ¯å‘é€ç»™æ‰€æœ‰å®¢æˆ·ç«¯ï¼Œéœ€è¦å¼€å¯åŒæ ·æ•°é‡çš„å­çº¿ç¨‹ï¼Œå¦åˆ™ä¼šå‡ºç°æœ‰äº›å®¢æˆ·ç«¯æ¥å—ä¸åˆ°æœåŠ¡å™¨å‘é€çš„è‡ªå®šä¹‰æ¶ˆæ¯</p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><h3 id="å®¢æˆ·ç«¯-1"><a href="#å®¢æˆ·ç«¯-1" class="headerlink" title="å®¢æˆ·ç«¯"></a>å®¢æˆ·ç«¯</h3><p>dash<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">public class ClientThread implements Runnable &#123;</span><br><span class="line">Handler mHandler;  // æœåŠ¡å™¨é€šä¿¡ çš„handler</span><br><span class="line">public Handler mRevHandler; // ä¸UIçº¿ç¨‹é€šä¿¡çš„handler</span><br><span class="line">BufferedReader reader;</span><br><span class="line">BufferedWriter writer;</span><br><span class="line">Socket mSocket;</span><br><span class="line">public ClientThread(Handler handler)&#123;</span><br><span class="line">    mHandler = handler;</span><br><span class="line">&#125;</span><br><span class="line">@Override</span><br><span class="line">public void run() &#123;</span><br><span class="line">    try&#123;</span><br><span class="line">        mSocket = new Socket();</span><br><span class="line">        mSocket.connect(new InetSocketAddress(&quot;192.168.191.1&quot;,23333),60000);</span><br><span class="line">        Log.d(&quot;socket connecting&quot;,&quot;connecting ...&quot;);</span><br><span class="line">        reader = new BufferedReader(new InputStreamReader(mSocket.getInputStream()));</span><br><span class="line">        writer = new BufferedWriter(new OutputStreamWriter(mSocket.getOutputStream()));</span><br><span class="line">        new Thread(new Runnable() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void run() &#123;</span><br><span class="line">                String content = null;</span><br><span class="line">                try &#123;</span><br><span class="line">                    while((content = reader.readLine() )!= null )&#123;</span><br><span class="line">                        Message msg = new Message();</span><br><span class="line">                        Message msg2 = new Message();</span><br><span class="line">                        msg.what = 0x66;</span><br><span class="line">                        msg2.what = 0x22;</span><br><span class="line">                        msg.obj = content ;</span><br><span class="line">                        msg2.obj = mSocket.hashCode();</span><br><span class="line">                        mHandler.sendMessage(msg);</span><br><span class="line">                        mHandler.sendMessage(msg2);</span><br><span class="line">                        Log.d(&quot;Received message:&quot; ,content);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; catch (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line">        Looper.prepare();</span><br><span class="line">        mRevHandler = new Handler()&#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void handleMessage(Message msg) &#123;</span><br><span class="line">                super.handleMessage(msg);</span><br><span class="line">                if(msg.what == 0x11)&#123;</span><br><span class="line">                    try &#123;</span><br><span class="line">                        writer.write(msg.obj.toString()+&quot; from &quot;+ mSocket.hashCode()+&quot;\n&quot;);</span><br><span class="line">                        writer.flush();</span><br><span class="line">                    &#125; catch (IOException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        Looper.loop();</span><br><span class="line">    &#125;catch(IOException e)&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;finally &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            reader.close();</span><br><span class="line">            writer.close();</span><br><span class="line">            mSocket.close();</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="æœåŠ¡å™¨ç«¯-1"><a href="#æœåŠ¡å™¨ç«¯-1" class="headerlink" title="æœåŠ¡å™¨ç«¯"></a>æœåŠ¡å™¨ç«¯</h3><p>dash<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">    public class MySocketServer &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        MySocketServer socketServer = new MySocketServer();</span><br><span class="line">        socketServer.startServer();</span><br><span class="line">    &#125;</span><br><span class="line">    public void startServer() &#123;</span><br><span class="line">        ServerSocket serverSocket = null;</span><br><span class="line">        Socket socket = null;</span><br><span class="line">        try &#123;</span><br><span class="line">            String ip;</span><br><span class="line">            InetAddress adr = InetAddress.getLocalHost();</span><br><span class="line">            ip = adr.getHostAddress();</span><br><span class="line">            System.out.println(ip);</span><br><span class="line">            serverSocket = new ServerSocket(23333);</span><br><span class="line">            System.out.println(&quot;server start&gt;&gt;&quot;);</span><br><span class="line">            while(true)&#123;</span><br><span class="line">                socket = serverSocket.accept();</span><br><span class="line">                setServerInput(socket);</span><br><span class="line">                manageConnection(socket);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;finally &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                serverSocket.close();</span><br><span class="line">            &#125; catch (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public void setServerInput(final Socket socket)&#123;</span><br><span class="line">        new Thread(new Runnable() &#123;</span><br><span class="line">            BufferedReader input = null;</span><br><span class="line">            BufferedWriter writer = null;</span><br><span class="line">            @Override</span><br><span class="line">            public void run() &#123;</span><br><span class="line">                try &#123;</span><br><span class="line">                    input = new BufferedReader(new InputStreamReader(System.in));</span><br><span class="line">                    writer = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));</span><br><span class="line">                    String content;</span><br><span class="line">                    while((content = input.readLine())!= null)&#123;</span><br><span class="line">                        writer.write(content+&quot;\n&quot;);</span><br><span class="line">                        writer.flush();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; catch (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;finally &#123;</span><br><span class="line">                    try &#123;</span><br><span class="line">                        input.close();</span><br><span class="line">                        writer.close();</span><br><span class="line">                    &#125; catch (IOException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line">    &#125;</span><br><span class="line">    public void manageConnection(final Socket socket) &#123;</span><br><span class="line"></span><br><span class="line">        new Thread(new Runnable() &#123;</span><br><span class="line">            BufferedReader reader = null;</span><br><span class="line">            BufferedWriter writer = null;</span><br><span class="line">            @Override</span><br><span class="line">            public void run() &#123;</span><br><span class="line">                try &#123;</span><br><span class="line">                    System.out.println(&quot;Socket &quot; + socket.hashCode() + &quot; has connected&quot;);</span><br><span class="line">                    reader = new BufferedReader(new InputStreamReader(socket.getInputStream()));</span><br><span class="line">                    writer = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));</span><br><span class="line">                    String receivedMsg;</span><br><span class="line">                    while ((receivedMsg = reader.readLine()) != null) &#123;</span><br><span class="line">                        System.out.println(receivedMsg);</span><br><span class="line">                        writer.write(&quot;server received : &quot; + receivedMsg+&quot;\n&quot;);</span><br><span class="line">                        writer.flush();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;catch (Exception e)&#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;finally&#123;</span><br><span class="line">                    try &#123;</span><br><span class="line">                        reader.close();</span><br><span class="line">                        writer.close();</span><br><span class="line">                    &#125;catch (Exception e )&#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ€»çš„æ¥è¯´ï¼Œè¿™æ˜¯ä¸ªç®€å•çš„socketé€šä¿¡ï¼Œä¹Ÿæ˜¯æœ€åŸºæœ¬çš„æœåŠ¡å™¨å®¢æˆ·ç«¯é€šä¿¡æ–¹å¼ï¼Œä»ç®€å•çš„å¼€å§‹ï¼Œæ…¢æ…¢è¿›æ­¥ï¼</p>
<p>gituhbï¼š<a href="https://github.com/wincber/SocketTalkClientDemo" target="_blank" rel="noopener">https://github.com/wincber/SocketTalkClientDemo</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[é¢è¯•é¢˜çŸ¥è¯†ç‚¹ï¼ˆä¸€ï¼‰]]></title>
      <url>http://wincber.com/2016/10/21/%E9%9D%A2%E8%AF%95%E9%A2%98%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%88%E4%B8%80%EF%BC%89/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>çœ‹åˆ°ç¾¤é‡Œæœ‰äººå‘é¢è¯•é¢˜æˆ‘å°±è¯•ç€çœ‹äº†çœ‹ï¼Œå‘ç°æœ‰å¾ˆå¤šè‡ªå·±ä¸æ˜ç™½çš„ï¼Œæ‰€ä»¥å†™è¿™ä¸ªï¼Œä¸€æ–¹é¢ç›¸å½“äºè‡ªå·±çš„ç¬”è®°ï¼Œä¹Ÿèƒ½æ›´å¥½çš„è®°ä½ï¼Œç†è§£ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿä¸ºå…¶ä»–äººæä¾›ä¸€äº›çŸ¥è¯†ç‚¹å‚è€ƒå§ã€‚<br><a id="more"></a></p>
<h3 id="1-listView-ä¼˜åŒ–é—®é¢˜"><a href="#1-listView-ä¼˜åŒ–é—®é¢˜" class="headerlink" title="1. listView ä¼˜åŒ–é—®é¢˜"></a>1. listView ä¼˜åŒ–é—®é¢˜</h3><p>æ„Ÿè§‰è¿™æ˜¯ä¸ªè€ç”Ÿå¸¸è°ˆçš„é—®é¢˜äº†ã€‚ç›´æ¥è¯´ç»“æœ<br>1ï¼Œä½¿ç”¨convertViewç¼“å­˜ï¼Œå³åœ¨å¾ˆå¤šåœ°æ–¹çœ‹åˆ°çš„å†™é€‚é…å™¨çš„<em>getView</em>æ–¹æ³•ä¸­ç”¨åˆ°çš„ï¼Œå½“converViewä¸ºnullæ—¶åˆ›å»ºæ–°çš„å¸ƒå±€Viewï¼Œå½“ä¸ä¸ºç©ºæ—¶ç›´æ¥ä½¿ç”¨<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">public View getViewï¼ˆint positionï¼ŒView convertViewï¼ŒView parentï¼‰ &#123;</span><br><span class="line">    <span class="keyword">if</span>(convertView == null) &#123;</span><br><span class="line">        //convertView = your layout View</span><br><span class="line">    &#125;</span><br><span class="line">    //æ“ä½œä½ çš„æ§ä»¶,convertViewä½œä¸ºlayout View</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">return</span> convertView;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>2ï¼Œä½¿ç”¨convertView+ViewHolder<br>å°±åƒRecycleViewä¸­çš„ViewHolderï¼Œå°†itemä¸­çš„æ‰€è¦æ“ä½œçš„æ§ä»¶å†™åˆ°é‡Œé¢ï¼Œå‡å°‘äº†findViewById<br>åˆ™æ”¹è¿›éƒ¨åˆ†ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ViewHolder mHolder;</span><br><span class="line"><span class="keyword">if</span>(convertView == null) &#123;</span><br><span class="line">    convertView = LayoutInflater.from(context).inflate(...);</span><br><span class="line">    mHolder = new ViewHolder(); </span><br><span class="line">    mHolder.textView = (TextView)findViewById(R.id.text);</span><br><span class="line">    mHolder.imageView = (ImageView)findViewById(R.id.image);</span><br><span class="line">    ...</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    mHolder = (ViewHolder)convertView;</span><br><span class="line">&#125;</span><br><span class="line">......</span><br><span class="line"></span><br><span class="line">è¿˜æœ‰ä¸€äº›ç»ˆæä¼˜åŒ–æŠ€å·§å°±ä¸ç»†è¯´äº†ï¼Œå¯ä»¥çœ‹è¿™ä¸ª[http://blog.csdn.net/sweetvvck/article/details/12753851]</span><br></pre></td></tr></table></figure></p>
<h3 id="2ï¼ŒActivityçš„å¯åŠ¨æ–¹å¼æœ‰å‡ ç§ï¼Œæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ"><a href="#2ï¼ŒActivityçš„å¯åŠ¨æ–¹å¼æœ‰å‡ ç§ï¼Œæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ" class="headerlink" title="2ï¼ŒActivityçš„å¯åŠ¨æ–¹å¼æœ‰å‡ ç§ï¼Œæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ"></a>2ï¼ŒActivityçš„å¯åŠ¨æ–¹å¼æœ‰å‡ ç§ï¼Œæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ</h3><p>è¿™ä¸ªé—®é¢˜çœ‹äº†Androidå¼€å‘è‰ºæœ¯æ¢ç´¢çš„è‚¯å®šæœ‰äº†è§£ï¼Œå°±ç›´æ¥è¯´<br>Â·standard å³æ ‡å‡†æ¨¡å¼ï¼Œæ¯æ¬¡è¦å¼€å¯åŒä¸€ä¸ªactivity Aæ—¶éƒ½ä¼šæ–°åˆ›å»ºä¸€ä¸ªAçš„å®ä¾‹<br>Â·singleTop å³æ ˆé¡¶å¤ç”¨æ¨¡å¼ è‹¥è¦åˆ›å»ºçš„activityå·²åœ¨æ ˆé¡¶ï¼Œåˆ™ä¸åˆ›å»ºæ–°çš„å®ä¾‹ï¼Œåªè°ƒç”¨onNewIntentï¼Œå¦åˆ™åˆ›å»ºæ–°çš„å®ä¾‹<br>Â·singleTask å³æ ˆå†…å¤ç”¨æ¨¡å¼ ï¼Œè¦åˆ›å»ºçš„æ ˆè‹¥åœ¨å®ƒæ‰€éœ€çš„ä»»åŠ¡æ ˆä¸­åˆ™ä¸åˆ›å»ºæ–°çš„å®ä¾‹ä½†ä¼šclearTopï¼Œå¦åˆ™åˆ›å»ºæ–°çš„å®ä¾‹ï¼Œ<br>Â·singleInstance å•å®ä¾‹æ¨¡å¼ è¯¥activityå•ç‹¬åœ¨ä¸€ä¸ªç‹¬æœ‰çš„æ ˆå†…</p>
<p>æˆ‘çœ‹åˆ°çš„éƒ½æ˜¯é—®singleTaskå¯åŠ¨æ–¹å¼ï¼ŒAå¯åŠ¨Bï¼ŒBå¯åŠ¨C,Cå†å¯åŠ¨Aï¼Œé‚£ä¹ˆåªæœ‰Aåœ¨æ ˆé¡¶äº†ã€‚</p>
<h3 id="3ï¼ŒHanlder-Looper-MessageQueue-Message-ä»–ä»¬çš„å…³ç³»"><a href="#3ï¼ŒHanlder-Looper-MessageQueue-Message-ä»–ä»¬çš„å…³ç³»" class="headerlink" title="3ï¼ŒHanlder Looper MessageQueue Message ä»–ä»¬çš„å…³ç³»"></a>3ï¼ŒHanlder Looper MessageQueue Message ä»–ä»¬çš„å…³ç³»</h3><p>åœ¨çœ‹ç¬¬ä¸€è¡Œä»£ç æ—¶å°±æœ‰è¯´è¿™ä¸ªçš„ç« èŠ‚ï¼Œä¸»è¦æ˜¯è®²å¼‚æ­¥æ¶ˆæ¯å¤„ç†æœºåˆ¶é‚£å—ï¼ŒAndroidçš„å¼‚æ­¥æ¶ˆæ¯å¤„ç†ä¸»è¦å°±æ˜¯ç”±è¿™å››ä¸ªéƒ¨åˆ†ç»„æˆ<br>Â·Message çº¿ç¨‹ä¹‹é—´ä¼ é€’æ•°æ®çš„è½½ä½“<br>Â·handler ä¸»è¦ç”¨æ¥å‘é€å’Œå¤„ç†æ¶ˆæ¯ sendMessage() handleMessage()<br>Â·MessageQueue  æ¶ˆæ¯é˜Ÿåˆ— å­˜æ”¾Handlerå‘é€çš„æ¶ˆæ¯ï¼Œç­‰å¾…å¤„ç†ï¼Œæ¯ä¸ªçº¿ç¨‹ä¸­åªæœ‰ä¸€ä¸ª<br>Â·Looper çº¿ç¨‹è°ƒç”¨loopå‡½æ•°è¿›å…¥åˆ°æ— é™å¾ªç¯ï¼Œç”¨äºå–å‡ºMessageQueueçš„æ¶ˆæ¯ï¼Œä¼ é€’åˆ°handleMessage()ï¼Œæ¯ä¸ªçº¿ç¨‹åªæœ‰ä¸€ä¸ª</p>
<h3 id="4ï¼ŒAsyncTaskçš„åŸç†ï¼Œä½¿ç”¨ï¼Ÿä¸Handlerçš„å…³ç³»ï¼Œçº¿ç¨‹æ± å†…ç®¡ç†å‡ ä¸ªçº¿ç¨‹ï¼Ÿ"><a href="#4ï¼ŒAsyncTaskçš„åŸç†ï¼Œä½¿ç”¨ï¼Ÿä¸Handlerçš„å…³ç³»ï¼Œçº¿ç¨‹æ± å†…ç®¡ç†å‡ ä¸ªçº¿ç¨‹ï¼Ÿ" class="headerlink" title="4ï¼ŒAsyncTaskçš„åŸç†ï¼Œä½¿ç”¨ï¼Ÿä¸Handlerçš„å…³ç³»ï¼Œçº¿ç¨‹æ± å†…ç®¡ç†å‡ ä¸ªçº¿ç¨‹ï¼Ÿ"></a>4ï¼ŒAsyncTaskçš„åŸç†ï¼Œä½¿ç”¨ï¼Ÿä¸Handlerçš„å…³ç³»ï¼Œçº¿ç¨‹æ± å†…ç®¡ç†å‡ ä¸ªçº¿ç¨‹ï¼Ÿ</h3><p>åŸç†è¿˜æ˜¯åŸºäºå¼‚æ­¥æ¶ˆæ¯å¤„ç†æœºåˆ¶<br>AsyncTaskæ˜¯æŠ½è±¡ç±»ï¼Œéœ€è¦ç»§æ‰¿ä½¿ç”¨ï¼Œå¹¶é‡å†™onPreExecute(),doInBackground(params..),onProgressUpdate(progress..),onPostExecute();<br>ä¸Handlerå…³ç³»ï¼ŒAsyncTaskå®é™…æ—¶Thread+Handlerçš„å°è£…ï¼Œå¯ä»¥åšå¼‚æ­¥å·¥ä½œåŒæ—¶æ›´æ–°UIï¼ŒAsyncTaskä¼šæ›´åŠ è€—è´¹èµ„æº<br>api10ä¹‹å‰çº¿ç¨‹æ± çš„çº¿ç¨‹é™åˆ¶5ï¼ŒAPI10åå¯è‡ªå·±å®šåˆ¶ä¸ºæ— é™åˆ¶</p>
<p>å…ˆå†™è¿™å››ä¸ªé—®é¢˜ï¼Œè¿™é‡Œéƒ½æ˜¯ç›´æ¥ç»™å‡ºäº†ç­”æ¡ˆï¼Œå…·ä½“åŸç†ä»¥åŠå®ç°è¿˜æ˜¯æœ€å¥½èƒ½å»ç†è§£è®°ä½ï¼Œæœ‰æ¼é”™çš„è¯·æå‡ºã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[androidä¹‹æ‹ç…§è£å‰ª]]></title>
      <url>http://wincber.com/2016/10/16/%E6%8B%8D%E7%85%A7%E8%A3%81%E5%89%AA/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åŸºæœ¬ç°åœ¨ä»€ä¹ˆappéƒ½æ˜¯æœ‰ä¸ªäººä¿¡æ¯è¿™ä¸€æ ï¼Œæœ‰ä½ çš„å¤´åƒï¼Œæœ‰ä½ çš„å…¶ä»–ä¿¡æ¯ä»€ä¹ˆçš„ï¼ŒåŸºæœ¬ä¸Šé€‰æ‹©å¤´åƒçš„é€»è¾‘éƒ½æ˜¯ç‚¹å‡»å¤´åƒé€‰æ‹©1ï¼Œæ‹ç…§ 2ï¼Œä»å›¾åº“ä¸­é€‰å–<br>æ‰€ä»¥æ‹ç…§ï¼Œç…§ç‰‡è£å‰ªåŸºæœ¬ä¸Šæ˜¯å¿…ä¸å¯å°‘çš„ï¼Œä¹Ÿæ˜¯åœ¨æŠŠç¬¬ä¸€è¡Œä»£ç å®è·µä¸€éçš„æ—¶å€™å‘ç°çš„é—®é¢˜ï¼Œå¹¶å°è¯•äº†è§£å†³ã€‚<br><a id="more"></a></p>
<h2 id="æ‹ç…§"><a href="#æ‹ç…§" class="headerlink" title="æ‹ç…§"></a>æ‹ç…§</h2><p>è¦æƒ³çŸ¥é“åœ¨ä½ å¼€å‘çš„æ—¶å€™æœ€åˆé€‚çš„å§¿åŠ¿è¿˜æ˜¯è¦å»å®˜ç½‘çœ‹ï¼Œä¹Ÿæ˜¯å› ä¸ºä¹¦ä¸­çš„ä»£ç æœ‰äº›å·²ç»è¢«å¼ƒç”¨ã€‚<br>å…ˆæ˜¯æ‹ç…§ï¼Œç¬¬ä¸€è¡Œä»£ç ä¸­çš„æ‹ç…§intentæ˜¯ è°ƒç”¨<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);</span><br><span class="line">Intent intent = new Intent(â€œcom.android.media.action.IMAGE_CAPTUREâ€);</span><br><span class="line">Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE_SECURE);</span><br></pre></td></tr></table></figure></p>
<p>ä¸Šè¿°ä¸‰ç§è°ƒç”¨éƒ½å¯ä»¥ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯<strong>com.androidå¼€å¤´çš„æ˜¯ç³»ç»Ÿå†…éƒ¨åº”ç”¨é—´çš„action,åœ¨Intentæ„å»ºä¸­åŠ å¼•å·</strong></p>
<p>å½“ç„¶ï¼Œå®Œæ•´çš„æ‹ç…§éœ€è¦ä¸ä»…ä»…æ˜¯ä¸€ä¸ªintentï¼Œè¿˜éœ€è¦ç”¨æ¥å­˜å‚¨ç…§ç‰‡çš„æ–‡ä»¶ï¼Œä»¥åŠç”¨æ¥è¡¨ç¤ºç…§ç‰‡çš„uriã€‚</p>
<p>åœ¨è¿™é‡Œæ„å»ºä¸€ä¸ªæ–¹æ³•ç”¨æ¥åˆ›å»ºä½ æ‹ç…§/è£å‰ªå çš„å›¾ç‰‡æ–‡ä»¶<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">pubilc File createImageFile() throw IOException &#123;</span><br><span class="line">    String dateFormat = new SimpleDateFormat(<span class="string">"yyyyMMdd_HHmmss"</span>).format(new Date());</span><br><span class="line">    String imageName = <span class="string">"IMG_"</span> +dateFormat+ <span class="string">"_"</span>;</span><br><span class="line">    File image = File.createTempFile(</span><br><span class="line">        imageName,</span><br><span class="line">        <span class="string">".jpg"</span>,</span><br><span class="line">        getExternalFileDir(Environment.DIRECTORY_PICTURES);</span><br><span class="line">    )</span><br><span class="line">    <span class="built_in">return</span> image;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¿™é‡Œè®¾ç½®çš„å­˜å‚¨ç›®å½•æ˜¯è¯¥åº”ç”¨ç›®å½•ä¸­çš„Picturesæ–‡ä»¶å¤¹ä¸­</p>
<h2 id="è£å‰ª"><a href="#è£å‰ª" class="headerlink" title="è£å‰ª"></a>è£å‰ª</h2><p>é‡ç‚¹åœ¨è£å‰ªè¿™é‡Œï¼Œandroidæ˜¯æœ‰è‡ªå¸¦è£å‰ªå›¾ç‰‡çš„ï¼Œä½†æ˜¯ä¸åŒçš„æ‰‹æœºå‚å•†ä¸Šè¡¨ç°æ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥å¯ä»¥è°ƒç”¨ç³»ç»Ÿé»˜è®¤çš„ï¼Œä½†æ˜¯å¯èƒ½å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œ<br>ä¸€äº›ç¬¬ä¸‰æ–¹romä¼šæ›¿ä»£é»˜è®¤åº”ç”¨ï¼Œä¹‹å‰æœ‰æè¿‡å¦‚æœä½ æ˜¯ä½¿ç”¨çš„æ˜¯com.android.camera.action.IMAGE_CAPTUREçš„è¯ï¼Œ<br>å› ä¸ºè¿™ä¸ªactionæ˜¯ç³»ç»Ÿå†…éƒ¨åº”ç”¨é—´çš„ï¼Œæ‰€ä»¥å½“ç¬¬ä¸‰æ–¹åº”ç”¨ä»£æ›¿äº†é»˜è®¤åº”ç”¨ï¼Œå¹¶æ²¡æœ‰æ­¤actionï¼Œä½ çš„åº”ç”¨å°±ä¼šcrashï¼Œæ‰€ä»¥å¯ä»¥è€ƒè™‘ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„<br>å›¾ç‰‡è£å‰ªåº“ã€‚<br>åœ¨è¿™é‡Œä½¿ç”¨çš„æ˜¯ <a href="https://github.com/lvillani/android-cropimage" target="_blank" rel="noopener">https://github.com/lvillani/android-cropimage</a> è¿™ä¸ªç¬¬ä¸‰æ–¹åº“ï¼Œä½¿ç”¨æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œç›´æ¥çœ‹å®ƒçš„Sampleå°±å¯ä»¥<br>éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œå› ä¸ºä»–æä¾›çš„çŸ¥è¯†ä»å›¾åº“ä¸­é€‰å–ä¸€å¼ ç…§ç‰‡æ¥è£å‰ªï¼Œå½“ä½ æƒ³åœ¨æ‹ç…§ä¹‹åç›´æ¥è£å‰ªæ‹å¥½çš„ç…§ç‰‡çš„è¯ï¼Œ<br>å°±è¦åœ¨ä½ çš„onActivityResultä¸­æ·»åŠ ä½ çš„æ‹ç…§Intentçš„åº”ç­”ï¼Œåƒè¿™æ ·<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(requestCode == TAKE_PHOTO &amp;&amp; resultCode == RESULT_OK) &#123;</span><br><span class="line">    imagUri = data.getData();</span><br><span class="line">    CropImageIntentBuilder cropIntent = new CropImageIntentBuilder(200,200,imageUri);</span><br><span class="line">    cropIntent.setSourceImage(imageUri);</span><br><span class="line">    startActivityForResult(cropIntent.getInten(),CROP_PHOTO);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="å±•ç¤ºå›¾ç‰‡"><a href="#å±•ç¤ºå›¾ç‰‡" class="headerlink" title="å±•ç¤ºå›¾ç‰‡"></a>å±•ç¤ºå›¾ç‰‡</h2><p>è¿™é‡Œåªç”¨åœ¨ä½ çš„ImageViewä¸­å±•ç¤ºå‡ºæ¥å°±å¥½äº†<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(requestCode == CROP_PHOTO &amp;&amp; resultCode == RESULT_OK) &#123;</span><br><span class="line">    try&#123;</span><br><span class="line">        iv_photo.setImageBitmap(BitmapFactory.decodeStream(getContentResolver.openInputStream(imageUri)));</span><br><span class="line">    &#125;catch(FileNotFoundException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="å¯¹æ¯”"><a href="#å¯¹æ¯”" class="headerlink" title="å¯¹æ¯”"></a>å¯¹æ¯”</h2><p>è¿™æ˜¯ç³»ç»Ÿè£å‰ªå’Œä½¿ç”¨è¿™ä¸ªåº“è£å‰ªçš„å¯¹æ¯”<br><img src="http://oczm2hjoz.bkt.clouddn.com/image/jpgthird_crop_1.jpg" width="300" height="500" alt="third_crop_1" align="center"><br><img src="http://oczm2hjoz.bkt.clouddn.com/image/jpgthird_crop_2.jpg" width="300" height="500" alt="third_crop_2" align="center"><br><img src="http://oczm2hjoz.bkt.clouddn.com/image/jpgsystem_crop_1.jpg" width="300" height="500" alt="system_crop_1" align="center"><br><img src="http://oczm2hjoz.bkt.clouddn.com/image/jpgsystem_crop_2.jpg" width="300" height="500" alt="system_crop_2" align="center"></p>
<p>æ‰€ä»¥å¯ä»¥çœ‹å‡ºæ¥è¦çœŸçš„æ¯”è¾ƒçš„è¯è¿˜æ˜¯ç³»ç»Ÿè£å‰ªå¥½çš„å¤šï¼ˆè¿™é‡Œæµ‹è¯•ä½¿ç”¨çš„æ˜¯é­…æ—æ‰‹æœºï¼‰ï¼Œå¯ä»¥è°ƒèŠ‚è£å‰ªæ¡†çš„å¤§å°ï¼Œæ¯”ä¾‹<br>è€Œè¿™é‡Œç”¨çš„ç¬¬ä¸‰æ–¹åªèƒ½ç­‰æ¯”ä¾‹çš„è°ƒèŠ‚å¤§å°ï¼Œä¸”è£å‰ªæ¡†æ˜¯ä¸€ä¸ªæ­£æ–¹å½¢ï¼Œæ— æ³•æˆªå–å…¨éƒ¨ï¼Œå½“ç„¶å¦‚æœä½ ç”¨æ¥åšå¤´åƒä¹Ÿæ˜¯å½“ç„¶å¯ä»¥çš„äº†<br>å¦å¤–ä¸€ç‚¹ï¼Œç¬¬ä¸‰æ–¹çš„uiæœ‰ç‚¹ä¸å¥½çœ‹<br>æœ€åä¸€ç‚¹ï¼Œç¬¬ä¸‰æ–¹è£å‰ªåä¼šæŒ‰ç…§å‹ç¼©æˆä»£ç ä¸­çš„å›¾ç‰‡å°ºå¯¸ï¼Œè€Œç³»ç»Ÿçš„è¯å°±æ˜¯è£å¤šå¤§å°±æ˜¯å¤šå¤§</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ç”±æ­¤å¯è§ï¼Œè¿™ä¸ªç¬¬ä¸‰æ–¹è¿˜ä¸å¤Ÿå®Œç¾ï¼Œä½ å¯ä»¥å»æ‰¾æ‰¾å…¶ä»–å¥½çš„åº“ï¼Œä½†æ˜¯å¦‚æœç”¨æ¥åšå¤´åƒçš„è¯è¿™ä¸ªè£å‰ªæ˜¯æ²¡é—®é¢˜çš„</p>
<p>é—ç•™é—®é¢˜:åœ¨é€‰å–ç…§ç‰‡æ—¶ï¼Œå¦‚æœæˆ‘é€‰ä¸­äº†ä¸€ä¸ªç…§ç‰‡ï¼Œå‡ ç§’é’Ÿå†…ä¸ç‚¹ç¡®å®šçš„è¯ï¼Œé‚£å¼ å›¾ç‰‡ä¼šå–æ¶ˆå®ƒçš„é€‰æ‹©çŠ¶æ€ï¼Œå¹¶ä¸”æš‚æ—¶æ— æ³•å†é€‰ä¸­ï¼Œé™¤éä½ å…ˆé€‰ä¸€ä¸‹å¦ä¸€ä¸ªï¼Œå†é€‰å®ƒï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[RecycleView+DialogFragmentç»„åˆ]]></title>
      <url>http://wincber.com/2016/09/17/RecycleView-DialogFragment%E7%BB%84%E5%90%88/</url>
      <content type="html"><![CDATA[<p>è¿™ä¸¤å¤©å¡«äº†å‘ï¼Œæ€»çš„æ¥è¯´DialogFragment+RecyclerViewå¦‚æœä¸åŠ åŠ¨æ€çš„æ•°æ®å¤„ç†çš„è¯åªæ˜¯äº†è§£è¿™ä¿©ç»„åˆè¿˜æ˜¯å¾ˆç®€å•çš„ï¼Œæ‰€ä»¥æˆ‘åªæ˜¯ç”¨çš„ä½¿DialogFragment+RecycleViewå†åµŒå¥—ä¸€ä¸ªViewPagerã€‚<br>é‚£æˆ‘å…ˆè¯´è¯´å¤§æ¦‚çš„ç»“æ„å’Œæ­¥éª¤ã€‚<br><a id="more"></a><br>é¦–å…ˆDialogFragment ï¼Œæƒ³åˆ°ç»ƒDialogFragmentæ˜¯å› ä¸ºandroidè‡ªå¸¦çš„Dialogï¼ŒAlertDialogç­‰ç­‰æ”¾åœ¨ä¸åŒç‰ˆæœ¬ï¼Œé£æ ¼å’Œæ ·å¼ä¼šä¸åŒï¼Œç”¨DialogFragmentè‡ªå®šä¹‰é£æ ¼å¥½ä½¿è‡ªå·±çš„appé£æ ¼å¦‚ä¸€ï¼ŒDialogFragment+RecyclerViewå¯ä»¥ç”¨åˆ°é€‰æ‹©è´¦å·ï¼Œé€‰æ‹©åœ°åŒºå·´æ‹‰å·´æ‹‰ï¼Œé€‰æ‹©ä»€ä¹ˆä¸œè¥¿çš„åœ°æ–¹ã€‚æ‰€ä»¥è¿˜æ˜¯åœ¨å¾ˆå¤šåœ°æ–¹æœ‰ç”¨å¤„çš„</p>
<h2 id="DialogFragment"><a href="#DialogFragment" class="headerlink" title="DialogFragment"></a>DialogFragment</h2><p>åªè¯´ä¸€ä¸‹åœ¨è¿™ä¸ªç»ƒä¹ ä¸­çš„ç®€å•ä½¿ç”¨ï¼Œè‹¥æ˜¯è¦çœ‹å…·ä½“è¯¦ç»†çš„ä½¿ç”¨ç»†èŠ‚ï¼Œè¿˜æ˜¯çœ‹æ–‡æ¡£å§<a href="https://developer.android.com/reference/android/app/DialogFragment.html" target="_blank" rel="noopener">https://developer.android.com/reference/android/app/DialogFragment.html</a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class MyDialogFragment extends DialogFragment &#123;</span><br><span class="line">    @Nullable</span><br><span class="line">    @Override</span><br><span class="line">    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) &#123;</span><br><span class="line">        View  view = inflater.inflate(R.layout.fragment_list,container);</span><br><span class="line">        RecyclerView mRecyclerView = (RecyclerView)view.findViewById(R.id.list);</span><br><span class="line">        mRecyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));</span><br><span class="line">        mRecyclerView.setAdapter(new MyRecyclerAdapter());</span><br><span class="line">        <span class="built_in">return</span> view;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨è¿™é‡Œåªæ˜¯ç®€å•çš„åœ¨onCreateViewå‡½æ•°ä¸­å¯¹åµŒå¥—çš„RecyclerViewè¿›è¡Œäº†åˆå§‹åŒ–ï¼Œè®¾ç½®å…¶é€‚é…å™¨ã€‚æ‰€ä»¥åœ¨è¿™é‡Œå…¶ç”¨æ³•è¿˜æ˜¯å¾ˆç®€å•çš„</p>
<h2 id="DialogFragmentä¸­çš„MyRecyclerAdapter"><a href="#DialogFragmentä¸­çš„MyRecyclerAdapter" class="headerlink" title="DialogFragmentä¸­çš„MyRecyclerAdapter"></a>DialogFragmentä¸­çš„MyRecyclerAdapter</h2><p>è®°å¾—ä½¿ç”¨AndroidStudioçš„è¯ï¼Œå…¶å®æ˜¯æœ‰è‡ªå¸¦çš„RecyclerFragmentï¼Œä½†æ˜¯æˆ‘ä¸ºäº†ç®€ä¾¿è¿˜æ˜¯å¦å†™RecyclerViewçš„å¤„ç†ã€‚å¤„ç†æœ¬èº«RecyclerViewçš„å¤„ç†ï¼Œä¸¤ä¸ªå¾ˆé‡è¦çš„ç‚¹æ˜¯RecyclerView.ViewHolderå’ŒRecyclerView.Adapter<holder><br>ViewHolderä¹Ÿå°±æ˜¯ä½ çš„Recycleré‡Œçš„item è¯¦ç»†ä»‹ç»åœ¨è¿™é‡Œ <a href="https://developer.android.com/reference/android/support/v7/widget/RecyclerView.ViewHolder.html" target="_blank" rel="noopener">https://developer.android.com/reference/android/support/v7/widget/RecyclerView.ViewHolder.html</a><br>è€ŒAdapterå¾ˆç†Ÿæ‚‰äº†æ˜¯ä½ çš„RecyclerViewçš„é€‚é…å™¨ã€‚è¯¦ç»†ä»‹ç»åœ¨è¿™é‡Œ <a href="https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html" target="_blank" rel="noopener">https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter.html</a><br>æˆ‘åœ¨è¿™ä¸ªdemoé‡ŒåŸºæœ¬æ²¡åšä»€ä¹ˆæ•°æ®å¤„ç†ï¼Œæ‰€ä»¥ä¸¤è€…å†™çš„å¾ˆç®€å•<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">public class MyRecyclerHolder extends RecyclerView.ViewHolder&#123;</span><br><span class="line">    ViewPager mViewPager;</span><br><span class="line"></span><br><span class="line">    public MyRecyclerHolder(View itemView) &#123;</span><br><span class="line">        super(itemView);</span><br><span class="line">        this.mViewPager = (ViewPager)itemView.findViewById(R.id.pager); //åœ¨RecyclerViewåµŒå¥—çš„ViewPager</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class MyRecyclerAdapter extends RecyclerView.Adapter&lt;MyRecyclerHolder&gt; &#123;</span><br><span class="line">    public int currentItem;</span><br><span class="line">    @Override</span><br><span class="line">    public MyRecyclerHolder onCreateViewHolder(ViewGroup parent, int viewType) &#123;</span><br><span class="line">        <span class="built_in">return</span> new MyRecyclerHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.fragment_list_item,parent,<span class="literal">false</span>));  //è½½å…¥RecyclerViewçš„itemçš„å¸ƒå±€</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void onBindViewHolder(MyRecyclerHolder holder, int position) &#123;</span><br><span class="line">        currentItem = holder.getPosition();</span><br><span class="line">        MyViewPagerAdapter mPagerAdapter = new MyViewPagerAdapter(position);  //å°†å½“å‰itemçš„positionä¼ ç»™ViewPager</span><br><span class="line">        LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT,400);  //å¯¹ViewPagerçš„é«˜åº¦è¿›è¡Œè®¾ç½®é¿å…å‡ºç°ä¸æ˜¾ç¤ºå†…å®¹</span><br><span class="line">        holder.mViewPager.setLayoutParams(params);</span><br><span class="line">        holder.mViewPager.setAdapter(mPagerAdapter);    //è®¾ç½®ViewPagerçš„é€‚é…å™¨</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public int <span class="function"><span class="title">getItemCount</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> 4;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></holder></p>
<h2 id="RecyclerViewåµŒå¥—çš„ViewPager"><a href="#RecyclerViewåµŒå¥—çš„ViewPager" class="headerlink" title="RecyclerViewåµŒå¥—çš„ViewPager"></a>RecyclerViewåµŒå¥—çš„ViewPager</h2><p>ä¹‹å‰æœ‰å†™è¿‡ViewPageråµŒå¥—ViewPagerï¼Œæ‰€ä»¥åœ¨è¿™é‡Œå†™çš„å¾ˆç®€å•å¾ˆé¡ºç•…ï¼Œä¸è¿‡åœ¨è¿™é‡Œæ²¡æœ‰ç”¨FragmentViewPagerAdapterä½œä¸ºViewPagerçš„é€‚é…å™¨ï¼Œåªç”¨çš„PagerDapter<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">public class MyViewPagerAdapter extends PagerAdapter &#123;</span><br><span class="line">    int []imagesId = &#123;R.drawable.scenery1,R.drawable.scenery2,R.drawable.scenery3,R.drawable.scenery4,R.drawable.scenery5,R.drawable.scenery6,</span><br><span class="line">            R.drawable.scenery7,R.drawable.scenery8&#125;;</span><br><span class="line">    private int mViewPositon;</span><br><span class="line">    public MyViewPagerAdapter(int position) &#123;</span><br><span class="line">        mViewPositon = position;</span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    public int <span class="function"><span class="title">getCount</span></span>() &#123;</span><br><span class="line">        <span class="built_in">return</span> 2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public boolean isViewFromObject(View view, Object object) &#123;</span><br><span class="line">        <span class="built_in">return</span> view== object;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public Object instantiateItem(ViewGroup container, int position) &#123;</span><br><span class="line">       View v =  LayoutInflater.from(container.getContext()).inflate(R.layout.pager_item,container,<span class="literal">false</span>);</span><br><span class="line">        ImageView mImage = (ImageView)v.findViewById(R.id.pager_image);</span><br><span class="line">        mImage.setImageDrawable(container.getResources().getDrawable(imagesId[2*mViewPositon+position]));</span><br><span class="line">        container.addView(v); //å°†å†…å®¹æ·»åŠ åˆ°containerï¼ˆé‡è¦ï¼‰</span><br><span class="line">        Log.e(<span class="string">"image"</span>,<span class="string">""</span>+position );</span><br><span class="line">        <span class="built_in">return</span> v;</span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    public void destroyItem(ViewGroup container, int position, Object object) &#123;</span><br><span class="line">         container.removeView((View) object);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>container.addView(view)</strong>è¿™å¥ä»£ç æ˜¯å¾ˆé‡è¦çš„ï¼Œæ„å‘³ç€ViewPageræ˜¾ç¤ºçš„å†…å®¹ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ€»ç»“æ¥è¯´ï¼Œå…¶å®RecyclerViewæ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ§ä»¶ï¼Œä½†æ˜¯åœ¨è¿™é‡Œåªæ˜¯è¿›è¡Œäº†å°å°çš„å±•ç¤ºï¼Œå¹¶æ²¡æœ‰ç”¨åˆ°å¤ªå¤šçš„æ•°æ®å¤„ç†ï¼Œæ‰€ä»¥æƒ³è¦æ·±ç©¶RecyclerViewçš„è¿˜æ˜¯è¦å¤šçœ‹çœ‹æ–‡æ¡£æˆ–è€…å…¶ä»–åšå®¢ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ViewPager åµŒå¥— ViewPagerï¼ˆViewPagerä¸èƒ½æ˜¾ç¤ºï¼Œæ»‘åŠ¨å†²çªç­‰é—®é¢˜ï¼‰]]></title>
      <url>http://wincber.com/2016/09/07/ViewPage-%E5%B5%8C%E5%A5%97-ViewPage/</url>
      <content type="html"><![CDATA[<p>è¿™ä¸¤å¤©æ‰æŠŠViewPageräº†è§£å­¦ä¹ äº†ä¸€ä¸‹ï¼Œä¹Ÿæ¥å¡«ä¸€ä¸‹è¿™ä¸ªå‘ï¼ˆä¹Ÿç†Ÿæ‚‰ä¸€ä¸‹markdownè¯­æ³•ï¼‰<br>å°±ä¸å¤šä»‹ç»æ¦‚å¿µä¹‹ç±»çš„ï¼Œä¹‹è¯´ä¸€è¯´æˆ‘æ‰€é‡åˆ°çš„å‘å’Œç»™å¤§å®¶çš„å»ºè®®</p>
<h2 id="ViewPager"><a href="#ViewPager" class="headerlink" title="ViewPager"></a>ViewPager</h2><p>ViewPager æ„Ÿè§‰å°±ä¸ç”¨å†è¯¦ç»†ä»‹ç»äº†ï¼Œå»ç½‘ä¸ŠæŸ¥çš„è¯å¯ä»¥æŸ¥åˆ°ä¸€å¤§å †ä»‹ç»ä»€ä¹ˆçš„ã€‚æˆ‘ä¹Ÿæ˜¯åˆšæ¥è§¦ï¼Œä¸è¿‡ç¡®å®å¾ˆå¤šåœ°æ–¹éƒ½ç”¨åˆ°ï¼Œæ¯”å¦‚å¾®ä¿¡å•Šï¼Œucæµè§ˆå™¨å•Šï¼Œæ„Ÿè§‰åŸºæœ¬ä¸Š<a id="more"></a>ç”¨Tabçš„åœ°æ–¹åŸºæœ¬éƒ½ä¼šç”¨åˆ°viewpagerè®¾ç½®ä¸€äº›æ»‘åŠ¨æ•ˆæœä¹‹ç±»çš„ã€‚è¿˜æœ‰æœ€è¿‘çœ‹åˆ°material design å¥½å¥½çœ‹å•Šï¼Œä¹Ÿæ˜¯è®¸å¤šdemoéƒ½ç”¨åˆ°ViewPager</p>
<p>è¿˜æ˜¯æ”¾ä¸ªå®˜æ–¹é“¾æ¥å§ï¼Œæœ€æ ‡å‡†çš„<br><a href="https://developer.android.com/reference/android/support/v4/view/ViewPager.html" target="_blank" rel="noopener">å®˜æ–¹ViewPageræ–‡æ¡£</a></p>
<h2 id="ViewPageråµŒå¥—"><a href="#ViewPageråµŒå¥—" class="headerlink" title="ViewPageråµŒå¥—"></a>ViewPageråµŒå¥—</h2><p>å†™ViewPager ä¸»è¦ä¹Ÿæ˜¯ä¸ºäº†æ›´åŠ ç†Ÿç»ƒåœ°ç”¨ViewPagerï¼Œä½†æ˜¯å…‰æ˜¯ViewePageræ˜¯å¾ˆç®€å•çš„ï¼Œçœ‹å®˜æ–¹çš„é‚£ä¸ªdemoå°±çŸ¥é“äº†ï¼Œæœ‰ä¸€ç‚¹è¦è¯´ï¼Œå¤§å®¶ç”¨ViewPagerçš„æ—¶å€™ä¸€èˆ¬éƒ½æ˜¯ä¸¤ç§å†™æ³•ï¼Œä¸€ç§å°±æ˜¯å†™æ™®é€šçš„PagerAdapterï¼Œæ¯”å¦‚ä¸€ä¸ªç®€å•çš„PagerAdapter</p>
<h3 id="PagerAdapter"><a href="#PagerAdapter" class="headerlink" title="PagerAdapter"></a>PagerAdapter</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">class MyPageAdapter extends PagerAdapter &#123;</span><br><span class="line"></span><br><span class="line">		@Override</span><br><span class="line">		public int <span class="function"><span class="title">getCount</span></span>() &#123;</span><br><span class="line">			<span class="built_in">return</span> list.size();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		@Override</span><br><span class="line">		public boolean isViewFromObject(View arg0, Object arg1) &#123;</span><br><span class="line">			<span class="built_in">return</span> arg0 == arg1;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		@Override</span><br><span class="line">		public Object instantiateItem(ViewGroup container, int position) &#123;</span><br><span class="line">			container.addView(list.get(position));</span><br><span class="line">			<span class="built_in">return</span> list.get(position);</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		@Override</span><br><span class="line">		public void destroyItem(ViewGroup container, int position, Object object) &#123;</span><br><span class="line">			container.removeView(list.get(position));</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™å››ä¸ªæ–¹æ³•æ˜¯ä½ å¿…é¡»è¦é‡å†™çš„</p>
<p><strong><em>instantiateItem(ViewGroup, int)</em></strong>  æ˜¯ä½ è¿›è¡Œé¡µé¢æ“ä½œçš„å‡½æ•°<br><strong><em>destroyItem(ViewGroup, int, Object)</em></strong>  è´Ÿè´£é”€æ¯ä½ çš„é¡µé¢<br><strong><em>getCount()</em></strong> ä½ çš„é¡µé¢æ•°é‡<br><strong><em>isViewFromObject(View, Object)</em></strong> åˆ¤æ–­å½“å‰çš„é¡µé¢æ˜¯å¦å±•ç¤º<br>å…·ä½“æ¯ä¸ªæ–¹æ³•æˆ–è€…è¯´è¿™ä¸ªadapterè¯¦ç»†çš„è§£æå¯ä»¥çœ‹çœ‹å…¶ä»–å¤§ç¥çš„æ–‡ç« <br>æ¯”å¦‚ <a href="http://blog.csdn.net/dmk877/article/details/50060745" target="_blank" rel="noopener">http://blog.csdn.net/dmk877/article/details/50060745</a> </p>
<p>è€Œå¦ä¸€ç§åˆ™æ˜¯å®˜æ–¹æ¯”è¾ƒæ¨èçš„ï¼Œé€‚é…å™¨ç”¨FragmentPagerAdapteræ¥å†™ï¼Œå®˜æ–¹demoå°±æ˜¯ç”¨çš„FragmentPagerAdapterå†™çš„ï¼Œæ‰€ä»¥æˆ‘åœ¨å¡«å‘ä¸­ç”¨çš„ä¹Ÿæ˜¯è¿™ç§</p>
<p>æ€ä¹ˆå†™å°±ä¸å•ç‹¬è¯´äº†ï¼Œå¯ä»¥çœ‹æˆ‘å†™çš„ï¼Œæˆ–è€…çœ‹å®˜ç½‘æˆ–è€…å…¶ä»–äººçš„ã€‚</p>
<h2 id="é‡åˆ°çš„å‘"><a href="#é‡åˆ°çš„å‘" class="headerlink" title="é‡åˆ°çš„å‘"></a>é‡åˆ°çš„å‘</h2><p>å…¶å®åªè¦ä½ ä¼šç”¨ä¸€ä¸ªViewPager åï¼ŒåµŒå¥—ä¸€ä¸ªçš„è¯ä¹Ÿå°±æ˜¯åœ¨ä½ çš„å¤–å±‚ViewPagerçš„é¡µé¢é‡ŒåŠ ä¸€ä¸ªViewPageræ§ä»¶ï¼Œå†åœ¨ä½ çš„å¤–å±‚é€‚é…å™¨æ‰€ç”¨åˆ°çš„Fragmentä¸­å¯¹è¿™ä¸ªViewPagerè¿›è¡Œé€‚é…å™¨è®¾ç½®ä¹‹ç±»çš„äº‹ä»¶<br>å¤§æ¦‚å°±åƒè¿™æ ·<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class MyViewPagerFragment extends Fragment &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) &#123;</span><br><span class="line">        View view = inflater.inflate(R.layout.fragment_object,container,<span class="literal">false</span>);</span><br><span class="line">        ImageView images = (ImageView)view.findViewById(R.id.image_iv);</span><br><span class="line">        images.setImageDrawable(getResources().getDrawable(getArguments().getInt(<span class="string">"pager"</span>)));</span><br><span class="line">        NestingViewPager nestPager = (NestingViewPager)view.findViewById(R.id.nesting_vp);</span><br><span class="line">        nestPager.setAdapter(new NestingViewPagerAdapter(getChildFragmentManager()));</span><br><span class="line">        <span class="built_in">return</span> view;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å†…å±‚ViewPagerçš„é€‚é…å™¨å’ŒFragmentå†å•ç‹¬å†™<br>é‚£ä¹ˆé‡åˆ°çš„é—®é¢˜æœ‰å“ªäº›ï¼Ÿ</p>
<h3 id="å†…å±‚ViewPagerä¸æ˜¾ç¤º"><a href="#å†…å±‚ViewPagerä¸æ˜¾ç¤º" class="headerlink" title="å†…å±‚ViewPagerä¸æ˜¾ç¤º"></a>å†…å±‚ViewPagerä¸æ˜¾ç¤º</h3><p>å› ä¸ºæˆ‘çš„å¤–å±‚ViewPagerçš„å¸ƒå±€æ˜¯<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;LinearLayout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    android:orientation=<span class="string">"vertical"</span> </span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"match_parent"</span> &gt;</span><br><span class="line">    &lt;ScrollView</span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span>&gt;</span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:orientation=<span class="string">"vertical"</span>&gt;</span><br><span class="line">    &lt;ImageView</span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:id=<span class="string">"@+id/image_iv"</span></span><br><span class="line">        android:src=<span class="string">"@drawable/icon1"</span></span><br><span class="line">        android:layout_gravity=<span class="string">"center_horizontal"</span>/&gt;</span><br><span class="line">    &lt;com.example.wincber.viewpagetest.NestingViewPager</span><br><span class="line">            android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">            android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">            android:id=<span class="string">"@+id/nesting_vp"</span>&gt;</span><br><span class="line">    &lt;/com.example.wincber.viewpagetest.NestingViewPager&gt;</span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line">    &lt;/ScrollView&gt;</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure></p>
<p>è¿è¡Œååªæ˜¾ç¤ºImageViewä¸æ˜¾ç¤ºæˆ‘çš„å†…å±‚ViewPageræ‰€ä»¥æˆ‘æŸ¥é˜…äº†å¾ˆå¤šèµ„æ–™ï¼Œå¤§æ¦‚ä¸»è¦æœ‰è¿™ä¸¤ç‚¹</p>
<h4 id="getChildFragmentManager"><a href="#getChildFragmentManager" class="headerlink" title="getChildFragmentManager()"></a>getChildFragmentManager()</h4><p>å†…å±‚ViewPagerçš„Adapterï¼ˆFragmentAdapterï¼‰å†åˆ›å»ºæ—¶è°ƒç”¨çš„æ˜¯<strong><em>getChildFragmentManager()</em></strong><br>å½“ç„¶å¤–å±‚çš„åˆ™è°ƒç”¨çš„æ˜¯<strong><em>getSupportFragmentManager()</em></strong></p>
<h4 id="ScrollViewæ‰€åµŒå¥—çš„ViewPagerä¸­çš„Heightè¿›è¡Œå…·ä½“çš„é«˜åº¦è®¾ç½®"><a href="#ScrollViewæ‰€åµŒå¥—çš„ViewPagerä¸­çš„Heightè¿›è¡Œå…·ä½“çš„é«˜åº¦è®¾ç½®" class="headerlink" title="ScrollViewæ‰€åµŒå¥—çš„ViewPagerä¸­çš„Heightè¿›è¡Œå…·ä½“çš„é«˜åº¦è®¾ç½®"></a>ScrollViewæ‰€åµŒå¥—çš„ViewPagerä¸­çš„Heightè¿›è¡Œå…·ä½“çš„é«˜åº¦è®¾ç½®</h4><p>æˆ‘å¼€å§‹ä¸ç”¨ScrollViewä¸èƒ½æ˜¾ç¤ºå®Œæ•´çš„Viewï¼Œå½“ç„¶å†…å±‚çš„ViewPagerä¹Ÿæ˜¾ç¤ºä¸å‡ºæ¥ï¼Œå¯¹å†…å±‚çš„ViewPagerçš„é«˜åº¦è¿›è¡Œè®¾ç½®æ˜¯æœ€ç®€å•ç›´æ¥çš„æ–¹æ³•ï¼Œç¼ºç‚¹å°±æ˜¯å›ºå®šæ•°å€¼çš„é™åˆ¶<br>å½“ç„¶è¿˜æœ‰æ›´ç§‘å­¦ä¸¥è°¨çš„åŠæ³•ï¼Œå¤§å®¶å¯ä»¥çœ‹çœ‹è¿™ç¯‡ï¼Œä½œè€…æä¾›äº†ä¸‰ç§æ–¹æ³•<br><a href="http://hellsam.com/2015/01/29/Android%E7%9A%84%E5%9D%91%E4%B9%8BScrollView%E5%B5%8C%E5%A5%97ViewPager/" target="_blank" rel="noopener">ScrollViewé‡Œé¢åµŒå¥—ViewPagerä¹‹åViewPagerä¸­çš„å†…å®¹æ— æ³•æ˜¾ç¤º</a></p>
<p>æˆ‘é‡åˆ°çš„æ— æ³•æ˜¾ç¤ºçš„é—®é¢˜å°±æ˜¯è¿™ä¹ˆè§£å†³çš„å•¦</p>
<h3 id="æ»‘åŠ¨é—®é¢˜"><a href="#æ»‘åŠ¨é—®é¢˜" class="headerlink" title="æ»‘åŠ¨é—®é¢˜"></a>æ»‘åŠ¨é—®é¢˜</h3><p>å…³äºæ»‘åŠ¨é—®é¢˜ï¼ˆå†…å¤–å†²çªï¼Œå†…å±‚åˆ’ç½®æœ€è¾¹ä¸Šï¼ˆåƒç¬¬ä¸€ä¸ªé¡µé¢å³åˆ’ï¼Œå‘æœ€åä¸€ä¸ªé¡µé¢å·¦åˆ’ï¼‰ï¼‰æˆ‘æ˜¯é€šè¿‡é‡å†™<strong><em>onTouchEvent(MotionEvent arg0)</em></strong>æ¥è§£å†³ï¼ˆè‡ªå·±å†™å†…å±‚ViewPagerï¼‰<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">public boolean onTouchEvent(MotionEvent arg0) &#123;</span><br><span class="line">      curF.x = arg0.getX();</span><br><span class="line">      curF.y = arg0.getY();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span>(arg0.getAction() == MotionEvent.ACTION_DOWN) &#123;</span><br><span class="line">          downF.x = arg0.getX();</span><br><span class="line">          downF.y = arg0.getY();</span><br><span class="line">          getParent().requestDisallowInterceptTouchEvent(<span class="literal">true</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span>(arg0.getAction() == MotionEvent.ACTION_MOVE) &#123;</span><br><span class="line">          curF.x =arg0.getX();</span><br><span class="line">          curF.y=arg0.getY();</span><br><span class="line">          <span class="keyword">if</span>(Math.abs(curF.x-downF.x) &gt; Math.abs(curF.y - downF.y)) &#123;</span><br><span class="line">              <span class="keyword">if</span>(curF.x &gt; downF.x) &#123; //å³åˆ’</span><br><span class="line">                  <span class="keyword">if</span> (getCurrentItem() == 0) &#123;//ç¬¬ä¸€ä¸ªé¡µé¢ï¼Œéœ€è¦çˆ¶æ§ä»¶æ‹¦æˆª</span><br><span class="line">                      getParent().requestDisallowInterceptTouchEvent(<span class="literal">false</span>);</span><br><span class="line">                  &#125;</span><br><span class="line">              &#125; <span class="keyword">else</span> &#123;//å·¦åˆ’</span><br><span class="line">                  <span class="keyword">if</span> (getCurrentItem() == getAdapter().getCount() - 1) &#123;//æœ€åä¸€ä¸ªé¡µé¢ï¼Œéœ€è¦æ‹¦æˆª</span><br><span class="line">                      getParent().requestDisallowInterceptTouchEvent(<span class="literal">false</span>);</span><br><span class="line">                  &#125;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;<span class="keyword">else</span> &#123;//ä¸Šä¸‹åˆ’ï¼Œéœ€è¦æ‹¦æˆª</span><br><span class="line">              getParent().requestDisallowInterceptTouchEvent(<span class="literal">false</span>);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">return</span> super.onTouchEvent(arg0);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>
<p>æ³¨é‡Šä¹Ÿè¯´çš„å¾ˆæ˜ç™½äº†ï¼Œä½ è‚¯å®šèƒ½çœ‹æ˜ç™½ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ViewPagerå·²ç»æ˜¯è¢«ç”¨åˆ°å¾ˆå¤šåœ°æ–¹çš„æ§ä»¶äº†ï¼ŒæŒæ¡å®ƒè¿˜æ˜¯è›®é‡è¦çš„ï¼Œé€šè¿‡å¯¹å…¶çš„ç»ƒä¹ äº†è§£åˆ°äº†å¾ˆå¤šã€‚<br>æ–‡ç« ä¸­ä¸€äº›åè¯æˆ–è€…æ¦‚å¿µè®²çš„ä¸å¯¹æˆ–è€…ä¸æ¸…æ¥šçš„è¯·æå‡ºï¼Œæ°´å¹³æœ‰é™ï¼Œæƒ³ç ”ç©¶å…³äºViewPageræ›´æ·±å±‚çš„é—®é¢˜è¿˜æ˜¯çœ‹æ–‡æ¡£æˆ–è€…å¤§ç¥çš„æ–‡ç« å§ã€‚</p>
<p>è¿™é‡Œæ˜¯æˆ‘çš„demo ï¼š <a href="https://github.com/wincber/ViewPager_inside_ViewPager/tree/master" target="_blank" rel="noopener">https://github.com/wincber/ViewPager_inside_ViewPager/tree/master</a></p>
]]></content>
    </entry>
    
  
  
</search>
